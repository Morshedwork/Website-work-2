"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@ai-sdk";
exports.ids = ["vendor-chunks/@ai-sdk"];
exports.modules = {

/***/ "(ssr)/./node_modules/@ai-sdk/openai/dist/index.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@ai-sdk/openai/dist/index.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createOpenAI: () => (/* binding */ createOpenAI),\n/* harmony export */   openai: () => (/* binding */ openai)\n/* harmony export */ });\n/* harmony import */ var _ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ai-sdk/provider-utils */ \"(ssr)/./node_modules/@ai-sdk/provider-utils/dist/index.mjs\");\n/* harmony import */ var _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ai-sdk/provider */ \"(ssr)/./node_modules/@ai-sdk/provider/dist/index.mjs\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.mjs\");\n// src/openai-provider.ts\n\n// src/openai-chat-language-model.ts\n\n\n\n// src/convert-to-openai-chat-messages.ts\n\n\nfunction convertToOpenAIChatMessages({ prompt, useLegacyFunctionCalling = false, systemMessageMode = \"system\" }) {\n    const messages = [];\n    const warnings = [];\n    for (const { role, content } of prompt){\n        switch(role){\n            case \"system\":\n                {\n                    switch(systemMessageMode){\n                        case \"system\":\n                            {\n                                messages.push({\n                                    role: \"system\",\n                                    content\n                                });\n                                break;\n                            }\n                        case \"developer\":\n                            {\n                                messages.push({\n                                    role: \"developer\",\n                                    content\n                                });\n                                break;\n                            }\n                        case \"remove\":\n                            {\n                                warnings.push({\n                                    type: \"other\",\n                                    message: \"system messages are removed for this model\"\n                                });\n                                break;\n                            }\n                        default:\n                            {\n                                const _exhaustiveCheck = systemMessageMode;\n                                throw new Error(`Unsupported system message mode: ${_exhaustiveCheck}`);\n                            }\n                    }\n                    break;\n                }\n            case \"user\":\n                {\n                    if (content.length === 1 && content[0].type === \"text\") {\n                        messages.push({\n                            role: \"user\",\n                            content: content[0].text\n                        });\n                        break;\n                    }\n                    messages.push({\n                        role: \"user\",\n                        content: content.map((part, index)=>{\n                            var _a, _b, _c, _d;\n                            switch(part.type){\n                                case \"text\":\n                                    {\n                                        return {\n                                            type: \"text\",\n                                            text: part.text\n                                        };\n                                    }\n                                case \"image\":\n                                    {\n                                        return {\n                                            type: \"image_url\",\n                                            image_url: {\n                                                url: part.image instanceof URL ? part.image.toString() : `data:${(_a = part.mimeType) != null ? _a : \"image/jpeg\"};base64,${(0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.convertUint8ArrayToBase64)(part.image)}`,\n                                                // OpenAI specific extension: image detail\n                                                detail: (_c = (_b = part.providerMetadata) == null ? void 0 : _b.openai) == null ? void 0 : _c.imageDetail\n                                            }\n                                        };\n                                    }\n                                case \"file\":\n                                    {\n                                        if (part.data instanceof URL) {\n                                            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                                                functionality: \"'File content parts with URL data' functionality not supported.\"\n                                            });\n                                        }\n                                        switch(part.mimeType){\n                                            case \"audio/wav\":\n                                                {\n                                                    return {\n                                                        type: \"input_audio\",\n                                                        input_audio: {\n                                                            data: part.data,\n                                                            format: \"wav\"\n                                                        }\n                                                    };\n                                                }\n                                            case \"audio/mp3\":\n                                            case \"audio/mpeg\":\n                                                {\n                                                    return {\n                                                        type: \"input_audio\",\n                                                        input_audio: {\n                                                            data: part.data,\n                                                            format: \"mp3\"\n                                                        }\n                                                    };\n                                                }\n                                            case \"application/pdf\":\n                                                {\n                                                    return {\n                                                        type: \"file\",\n                                                        file: {\n                                                            filename: (_d = part.filename) != null ? _d : `part-${index}.pdf`,\n                                                            file_data: `data:application/pdf;base64,${part.data}`\n                                                        }\n                                                    };\n                                                }\n                                            default:\n                                                {\n                                                    throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                                                        functionality: `File content part type ${part.mimeType} in user messages`\n                                                    });\n                                                }\n                                        }\n                                    }\n                            }\n                        })\n                    });\n                    break;\n                }\n            case \"assistant\":\n                {\n                    let text = \"\";\n                    const toolCalls = [];\n                    for (const part of content){\n                        switch(part.type){\n                            case \"text\":\n                                {\n                                    text += part.text;\n                                    break;\n                                }\n                            case \"tool-call\":\n                                {\n                                    toolCalls.push({\n                                        id: part.toolCallId,\n                                        type: \"function\",\n                                        function: {\n                                            name: part.toolName,\n                                            arguments: JSON.stringify(part.args)\n                                        }\n                                    });\n                                    break;\n                                }\n                        }\n                    }\n                    if (useLegacyFunctionCalling) {\n                        if (toolCalls.length > 1) {\n                            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                                functionality: \"useLegacyFunctionCalling with multiple tool calls in one message\"\n                            });\n                        }\n                        messages.push({\n                            role: \"assistant\",\n                            content: text,\n                            function_call: toolCalls.length > 0 ? toolCalls[0].function : void 0\n                        });\n                    } else {\n                        messages.push({\n                            role: \"assistant\",\n                            content: text,\n                            tool_calls: toolCalls.length > 0 ? toolCalls : void 0\n                        });\n                    }\n                    break;\n                }\n            case \"tool\":\n                {\n                    for (const toolResponse of content){\n                        if (useLegacyFunctionCalling) {\n                            messages.push({\n                                role: \"function\",\n                                name: toolResponse.toolName,\n                                content: JSON.stringify(toolResponse.result)\n                            });\n                        } else {\n                            messages.push({\n                                role: \"tool\",\n                                tool_call_id: toolResponse.toolCallId,\n                                content: JSON.stringify(toolResponse.result)\n                            });\n                        }\n                    }\n                    break;\n                }\n            default:\n                {\n                    const _exhaustiveCheck = role;\n                    throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n                }\n        }\n    }\n    return {\n        messages,\n        warnings\n    };\n}\n// src/map-openai-chat-logprobs.ts\nfunction mapOpenAIChatLogProbsOutput(logprobs) {\n    var _a, _b;\n    return (_b = (_a = logprobs == null ? void 0 : logprobs.content) == null ? void 0 : _a.map(({ token, logprob, top_logprobs })=>({\n            token,\n            logprob,\n            topLogprobs: top_logprobs ? top_logprobs.map(({ token: token2, logprob: logprob2 })=>({\n                    token: token2,\n                    logprob: logprob2\n                })) : []\n        }))) != null ? _b : void 0;\n}\n// src/map-openai-finish-reason.ts\nfunction mapOpenAIFinishReason(finishReason) {\n    switch(finishReason){\n        case \"stop\":\n            return \"stop\";\n        case \"length\":\n            return \"length\";\n        case \"content_filter\":\n            return \"content-filter\";\n        case \"function_call\":\n        case \"tool_calls\":\n            return \"tool-calls\";\n        default:\n            return \"unknown\";\n    }\n}\n// src/openai-error.ts\n\n\nvar openaiErrorDataSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    error: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        message: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n        // The additional information below is handled loosely to support\n        // OpenAI-compatible providers that have slightly different error\n        // responses:\n        type: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n        param: zod__WEBPACK_IMPORTED_MODULE_2__.z.any().nullish(),\n        code: zod__WEBPACK_IMPORTED_MODULE_2__.z.union([\n            zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n            zod__WEBPACK_IMPORTED_MODULE_2__.z.number()\n        ]).nullish()\n    })\n});\nvar openaiFailedResponseHandler = (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.createJsonErrorResponseHandler)({\n    errorSchema: openaiErrorDataSchema,\n    errorToMessage: (data)=>data.error.message\n});\n// src/get-response-metadata.ts\nfunction getResponseMetadata({ id, model, created }) {\n    return {\n        id: id != null ? id : void 0,\n        modelId: model != null ? model : void 0,\n        timestamp: created != null ? new Date(created * 1e3) : void 0\n    };\n}\n// src/openai-prepare-tools.ts\n\nfunction prepareTools({ mode, useLegacyFunctionCalling = false, structuredOutputs }) {\n    var _a;\n    const tools = ((_a = mode.tools) == null ? void 0 : _a.length) ? mode.tools : void 0;\n    const toolWarnings = [];\n    if (tools == null) {\n        return {\n            tools: void 0,\n            tool_choice: void 0,\n            toolWarnings\n        };\n    }\n    const toolChoice = mode.toolChoice;\n    if (useLegacyFunctionCalling) {\n        const openaiFunctions = [];\n        for (const tool of tools){\n            if (tool.type === \"provider-defined\") {\n                toolWarnings.push({\n                    type: \"unsupported-tool\",\n                    tool\n                });\n            } else {\n                openaiFunctions.push({\n                    name: tool.name,\n                    description: tool.description,\n                    parameters: tool.parameters\n                });\n            }\n        }\n        if (toolChoice == null) {\n            return {\n                functions: openaiFunctions,\n                function_call: void 0,\n                toolWarnings\n            };\n        }\n        const type2 = toolChoice.type;\n        switch(type2){\n            case \"auto\":\n            case \"none\":\n            case void 0:\n                return {\n                    functions: openaiFunctions,\n                    function_call: void 0,\n                    toolWarnings\n                };\n            case \"required\":\n                throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                    functionality: \"useLegacyFunctionCalling and toolChoice: required\"\n                });\n            default:\n                return {\n                    functions: openaiFunctions,\n                    function_call: {\n                        name: toolChoice.toolName\n                    },\n                    toolWarnings\n                };\n        }\n    }\n    const openaiTools2 = [];\n    for (const tool of tools){\n        if (tool.type === \"provider-defined\") {\n            toolWarnings.push({\n                type: \"unsupported-tool\",\n                tool\n            });\n        } else {\n            openaiTools2.push({\n                type: \"function\",\n                function: {\n                    name: tool.name,\n                    description: tool.description,\n                    parameters: tool.parameters,\n                    strict: structuredOutputs ? true : void 0\n                }\n            });\n        }\n    }\n    if (toolChoice == null) {\n        return {\n            tools: openaiTools2,\n            tool_choice: void 0,\n            toolWarnings\n        };\n    }\n    const type = toolChoice.type;\n    switch(type){\n        case \"auto\":\n        case \"none\":\n        case \"required\":\n            return {\n                tools: openaiTools2,\n                tool_choice: type,\n                toolWarnings\n            };\n        case \"tool\":\n            return {\n                tools: openaiTools2,\n                tool_choice: {\n                    type: \"function\",\n                    function: {\n                        name: toolChoice.toolName\n                    }\n                },\n                toolWarnings\n            };\n        default:\n            {\n                const _exhaustiveCheck = type;\n                throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                    functionality: `Unsupported tool choice type: ${_exhaustiveCheck}`\n                });\n            }\n    }\n}\n// src/openai-chat-language-model.ts\nvar OpenAIChatLanguageModel = class {\n    constructor(modelId, settings, config){\n        this.specificationVersion = \"v1\";\n        this.modelId = modelId;\n        this.settings = settings;\n        this.config = config;\n    }\n    get supportsStructuredOutputs() {\n        var _a;\n        return (_a = this.settings.structuredOutputs) != null ? _a : isReasoningModel(this.modelId);\n    }\n    get defaultObjectGenerationMode() {\n        if (isAudioModel(this.modelId)) {\n            return \"tool\";\n        }\n        return this.supportsStructuredOutputs ? \"json\" : \"tool\";\n    }\n    get provider() {\n        return this.config.provider;\n    }\n    get supportsImageUrls() {\n        return !this.settings.downloadImages;\n    }\n    getArgs({ mode, prompt, maxTokens, temperature, topP, topK, frequencyPenalty, presencePenalty, stopSequences, responseFormat, seed, providerMetadata }) {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        const type = mode.type;\n        const warnings = [];\n        if (topK != null) {\n            warnings.push({\n                type: \"unsupported-setting\",\n                setting: \"topK\"\n            });\n        }\n        if ((responseFormat == null ? void 0 : responseFormat.type) === \"json\" && responseFormat.schema != null && !this.supportsStructuredOutputs) {\n            warnings.push({\n                type: \"unsupported-setting\",\n                setting: \"responseFormat\",\n                details: \"JSON response format schema is only supported with structuredOutputs\"\n            });\n        }\n        const useLegacyFunctionCalling = this.settings.useLegacyFunctionCalling;\n        if (useLegacyFunctionCalling && this.settings.parallelToolCalls === true) {\n            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                functionality: \"useLegacyFunctionCalling with parallelToolCalls\"\n            });\n        }\n        if (useLegacyFunctionCalling && this.supportsStructuredOutputs) {\n            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                functionality: \"structuredOutputs with useLegacyFunctionCalling\"\n            });\n        }\n        const { messages, warnings: messageWarnings } = convertToOpenAIChatMessages({\n            prompt,\n            useLegacyFunctionCalling,\n            systemMessageMode: getSystemMessageMode(this.modelId)\n        });\n        warnings.push(...messageWarnings);\n        const baseArgs = {\n            // model id:\n            model: this.modelId,\n            // model specific settings:\n            logit_bias: this.settings.logitBias,\n            logprobs: this.settings.logprobs === true || typeof this.settings.logprobs === \"number\" ? true : void 0,\n            top_logprobs: typeof this.settings.logprobs === \"number\" ? this.settings.logprobs : typeof this.settings.logprobs === \"boolean\" ? this.settings.logprobs ? 0 : void 0 : void 0,\n            user: this.settings.user,\n            parallel_tool_calls: this.settings.parallelToolCalls,\n            // standardized settings:\n            max_tokens: maxTokens,\n            temperature,\n            top_p: topP,\n            frequency_penalty: frequencyPenalty,\n            presence_penalty: presencePenalty,\n            response_format: (responseFormat == null ? void 0 : responseFormat.type) === \"json\" ? this.supportsStructuredOutputs && responseFormat.schema != null ? {\n                type: \"json_schema\",\n                json_schema: {\n                    schema: responseFormat.schema,\n                    strict: true,\n                    name: (_a = responseFormat.name) != null ? _a : \"response\",\n                    description: responseFormat.description\n                }\n            } : {\n                type: \"json_object\"\n            } : void 0,\n            stop: stopSequences,\n            seed,\n            // openai specific settings:\n            // TODO remove in next major version; we auto-map maxTokens now\n            max_completion_tokens: (_b = providerMetadata == null ? void 0 : providerMetadata.openai) == null ? void 0 : _b.maxCompletionTokens,\n            store: (_c = providerMetadata == null ? void 0 : providerMetadata.openai) == null ? void 0 : _c.store,\n            metadata: (_d = providerMetadata == null ? void 0 : providerMetadata.openai) == null ? void 0 : _d.metadata,\n            prediction: (_e = providerMetadata == null ? void 0 : providerMetadata.openai) == null ? void 0 : _e.prediction,\n            reasoning_effort: (_g = (_f = providerMetadata == null ? void 0 : providerMetadata.openai) == null ? void 0 : _f.reasoningEffort) != null ? _g : this.settings.reasoningEffort,\n            // messages:\n            messages\n        };\n        if (isReasoningModel(this.modelId)) {\n            if (baseArgs.temperature != null) {\n                baseArgs.temperature = void 0;\n                warnings.push({\n                    type: \"unsupported-setting\",\n                    setting: \"temperature\",\n                    details: \"temperature is not supported for reasoning models\"\n                });\n            }\n            if (baseArgs.top_p != null) {\n                baseArgs.top_p = void 0;\n                warnings.push({\n                    type: \"unsupported-setting\",\n                    setting: \"topP\",\n                    details: \"topP is not supported for reasoning models\"\n                });\n            }\n            if (baseArgs.frequency_penalty != null) {\n                baseArgs.frequency_penalty = void 0;\n                warnings.push({\n                    type: \"unsupported-setting\",\n                    setting: \"frequencyPenalty\",\n                    details: \"frequencyPenalty is not supported for reasoning models\"\n                });\n            }\n            if (baseArgs.presence_penalty != null) {\n                baseArgs.presence_penalty = void 0;\n                warnings.push({\n                    type: \"unsupported-setting\",\n                    setting: \"presencePenalty\",\n                    details: \"presencePenalty is not supported for reasoning models\"\n                });\n            }\n            if (baseArgs.logit_bias != null) {\n                baseArgs.logit_bias = void 0;\n                warnings.push({\n                    type: \"other\",\n                    message: \"logitBias is not supported for reasoning models\"\n                });\n            }\n            if (baseArgs.logprobs != null) {\n                baseArgs.logprobs = void 0;\n                warnings.push({\n                    type: \"other\",\n                    message: \"logprobs is not supported for reasoning models\"\n                });\n            }\n            if (baseArgs.top_logprobs != null) {\n                baseArgs.top_logprobs = void 0;\n                warnings.push({\n                    type: \"other\",\n                    message: \"topLogprobs is not supported for reasoning models\"\n                });\n            }\n            if (baseArgs.max_tokens != null) {\n                if (baseArgs.max_completion_tokens == null) {\n                    baseArgs.max_completion_tokens = baseArgs.max_tokens;\n                }\n                baseArgs.max_tokens = void 0;\n            }\n        }\n        switch(type){\n            case \"regular\":\n                {\n                    const { tools, tool_choice, functions, function_call, toolWarnings } = prepareTools({\n                        mode,\n                        useLegacyFunctionCalling,\n                        structuredOutputs: this.supportsStructuredOutputs\n                    });\n                    return {\n                        args: {\n                            ...baseArgs,\n                            tools,\n                            tool_choice,\n                            functions,\n                            function_call\n                        },\n                        warnings: [\n                            ...warnings,\n                            ...toolWarnings\n                        ]\n                    };\n                }\n            case \"object-json\":\n                {\n                    return {\n                        args: {\n                            ...baseArgs,\n                            response_format: this.supportsStructuredOutputs && mode.schema != null ? {\n                                type: \"json_schema\",\n                                json_schema: {\n                                    schema: mode.schema,\n                                    strict: true,\n                                    name: (_h = mode.name) != null ? _h : \"response\",\n                                    description: mode.description\n                                }\n                            } : {\n                                type: \"json_object\"\n                            }\n                        },\n                        warnings\n                    };\n                }\n            case \"object-tool\":\n                {\n                    return {\n                        args: useLegacyFunctionCalling ? {\n                            ...baseArgs,\n                            function_call: {\n                                name: mode.tool.name\n                            },\n                            functions: [\n                                {\n                                    name: mode.tool.name,\n                                    description: mode.tool.description,\n                                    parameters: mode.tool.parameters\n                                }\n                            ]\n                        } : {\n                            ...baseArgs,\n                            tool_choice: {\n                                type: \"function\",\n                                function: {\n                                    name: mode.tool.name\n                                }\n                            },\n                            tools: [\n                                {\n                                    type: \"function\",\n                                    function: {\n                                        name: mode.tool.name,\n                                        description: mode.tool.description,\n                                        parameters: mode.tool.parameters,\n                                        strict: this.supportsStructuredOutputs ? true : void 0\n                                    }\n                                }\n                            ]\n                        },\n                        warnings\n                    };\n                }\n            default:\n                {\n                    const _exhaustiveCheck = type;\n                    throw new Error(`Unsupported type: ${_exhaustiveCheck}`);\n                }\n        }\n    }\n    async doGenerate(options) {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        const { args: body, warnings } = this.getArgs(options);\n        const { responseHeaders, value: response, rawValue: rawResponse } = await (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.postJsonToApi)({\n            url: this.config.url({\n                path: \"/chat/completions\",\n                modelId: this.modelId\n            }),\n            headers: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.combineHeaders)(this.config.headers(), options.headers),\n            body,\n            failedResponseHandler: openaiFailedResponseHandler,\n            successfulResponseHandler: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.createJsonResponseHandler)(openaiChatResponseSchema),\n            abortSignal: options.abortSignal,\n            fetch: this.config.fetch\n        });\n        const { messages: rawPrompt, ...rawSettings } = body;\n        const choice = response.choices[0];\n        const completionTokenDetails = (_a = response.usage) == null ? void 0 : _a.completion_tokens_details;\n        const promptTokenDetails = (_b = response.usage) == null ? void 0 : _b.prompt_tokens_details;\n        const providerMetadata = {\n            openai: {}\n        };\n        if ((completionTokenDetails == null ? void 0 : completionTokenDetails.reasoning_tokens) != null) {\n            providerMetadata.openai.reasoningTokens = completionTokenDetails == null ? void 0 : completionTokenDetails.reasoning_tokens;\n        }\n        if ((completionTokenDetails == null ? void 0 : completionTokenDetails.accepted_prediction_tokens) != null) {\n            providerMetadata.openai.acceptedPredictionTokens = completionTokenDetails == null ? void 0 : completionTokenDetails.accepted_prediction_tokens;\n        }\n        if ((completionTokenDetails == null ? void 0 : completionTokenDetails.rejected_prediction_tokens) != null) {\n            providerMetadata.openai.rejectedPredictionTokens = completionTokenDetails == null ? void 0 : completionTokenDetails.rejected_prediction_tokens;\n        }\n        if ((promptTokenDetails == null ? void 0 : promptTokenDetails.cached_tokens) != null) {\n            providerMetadata.openai.cachedPromptTokens = promptTokenDetails == null ? void 0 : promptTokenDetails.cached_tokens;\n        }\n        return {\n            text: (_c = choice.message.content) != null ? _c : void 0,\n            toolCalls: this.settings.useLegacyFunctionCalling && choice.message.function_call ? [\n                {\n                    toolCallType: \"function\",\n                    toolCallId: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.generateId)(),\n                    toolName: choice.message.function_call.name,\n                    args: choice.message.function_call.arguments\n                }\n            ] : (_d = choice.message.tool_calls) == null ? void 0 : _d.map((toolCall)=>{\n                var _a2;\n                return {\n                    toolCallType: \"function\",\n                    toolCallId: (_a2 = toolCall.id) != null ? _a2 : (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.generateId)(),\n                    toolName: toolCall.function.name,\n                    args: toolCall.function.arguments\n                };\n            }),\n            finishReason: mapOpenAIFinishReason(choice.finish_reason),\n            usage: {\n                promptTokens: (_f = (_e = response.usage) == null ? void 0 : _e.prompt_tokens) != null ? _f : NaN,\n                completionTokens: (_h = (_g = response.usage) == null ? void 0 : _g.completion_tokens) != null ? _h : NaN\n            },\n            rawCall: {\n                rawPrompt,\n                rawSettings\n            },\n            rawResponse: {\n                headers: responseHeaders,\n                body: rawResponse\n            },\n            request: {\n                body: JSON.stringify(body)\n            },\n            response: getResponseMetadata(response),\n            warnings,\n            logprobs: mapOpenAIChatLogProbsOutput(choice.logprobs),\n            providerMetadata\n        };\n    }\n    async doStream(options) {\n        if (this.settings.simulateStreaming) {\n            const result = await this.doGenerate(options);\n            const simulatedStream = new ReadableStream({\n                start (controller) {\n                    controller.enqueue({\n                        type: \"response-metadata\",\n                        ...result.response\n                    });\n                    if (result.text) {\n                        controller.enqueue({\n                            type: \"text-delta\",\n                            textDelta: result.text\n                        });\n                    }\n                    if (result.toolCalls) {\n                        for (const toolCall of result.toolCalls){\n                            controller.enqueue({\n                                type: \"tool-call-delta\",\n                                toolCallType: \"function\",\n                                toolCallId: toolCall.toolCallId,\n                                toolName: toolCall.toolName,\n                                argsTextDelta: toolCall.args\n                            });\n                            controller.enqueue({\n                                type: \"tool-call\",\n                                ...toolCall\n                            });\n                        }\n                    }\n                    controller.enqueue({\n                        type: \"finish\",\n                        finishReason: result.finishReason,\n                        usage: result.usage,\n                        logprobs: result.logprobs,\n                        providerMetadata: result.providerMetadata\n                    });\n                    controller.close();\n                }\n            });\n            return {\n                stream: simulatedStream,\n                rawCall: result.rawCall,\n                rawResponse: result.rawResponse,\n                warnings: result.warnings\n            };\n        }\n        const { args, warnings } = this.getArgs(options);\n        const body = {\n            ...args,\n            stream: true,\n            // only include stream_options when in strict compatibility mode:\n            stream_options: this.config.compatibility === \"strict\" ? {\n                include_usage: true\n            } : void 0\n        };\n        const { responseHeaders, value: response } = await (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.postJsonToApi)({\n            url: this.config.url({\n                path: \"/chat/completions\",\n                modelId: this.modelId\n            }),\n            headers: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.combineHeaders)(this.config.headers(), options.headers),\n            body,\n            failedResponseHandler: openaiFailedResponseHandler,\n            successfulResponseHandler: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.createEventSourceResponseHandler)(openaiChatChunkSchema),\n            abortSignal: options.abortSignal,\n            fetch: this.config.fetch\n        });\n        const { messages: rawPrompt, ...rawSettings } = args;\n        const toolCalls = [];\n        let finishReason = \"unknown\";\n        let usage = {\n            promptTokens: void 0,\n            completionTokens: void 0\n        };\n        let logprobs;\n        let isFirstChunk = true;\n        const { useLegacyFunctionCalling } = this.settings;\n        const providerMetadata = {\n            openai: {}\n        };\n        return {\n            stream: response.pipeThrough(new TransformStream({\n                transform (chunk, controller) {\n                    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l;\n                    if (!chunk.success) {\n                        finishReason = \"error\";\n                        controller.enqueue({\n                            type: \"error\",\n                            error: chunk.error\n                        });\n                        return;\n                    }\n                    const value = chunk.value;\n                    if (\"error\" in value) {\n                        finishReason = \"error\";\n                        controller.enqueue({\n                            type: \"error\",\n                            error: value.error\n                        });\n                        return;\n                    }\n                    if (isFirstChunk) {\n                        isFirstChunk = false;\n                        controller.enqueue({\n                            type: \"response-metadata\",\n                            ...getResponseMetadata(value)\n                        });\n                    }\n                    if (value.usage != null) {\n                        const { prompt_tokens, completion_tokens, prompt_tokens_details, completion_tokens_details } = value.usage;\n                        usage = {\n                            promptTokens: prompt_tokens != null ? prompt_tokens : void 0,\n                            completionTokens: completion_tokens != null ? completion_tokens : void 0\n                        };\n                        if ((completion_tokens_details == null ? void 0 : completion_tokens_details.reasoning_tokens) != null) {\n                            providerMetadata.openai.reasoningTokens = completion_tokens_details == null ? void 0 : completion_tokens_details.reasoning_tokens;\n                        }\n                        if ((completion_tokens_details == null ? void 0 : completion_tokens_details.accepted_prediction_tokens) != null) {\n                            providerMetadata.openai.acceptedPredictionTokens = completion_tokens_details == null ? void 0 : completion_tokens_details.accepted_prediction_tokens;\n                        }\n                        if ((completion_tokens_details == null ? void 0 : completion_tokens_details.rejected_prediction_tokens) != null) {\n                            providerMetadata.openai.rejectedPredictionTokens = completion_tokens_details == null ? void 0 : completion_tokens_details.rejected_prediction_tokens;\n                        }\n                        if ((prompt_tokens_details == null ? void 0 : prompt_tokens_details.cached_tokens) != null) {\n                            providerMetadata.openai.cachedPromptTokens = prompt_tokens_details == null ? void 0 : prompt_tokens_details.cached_tokens;\n                        }\n                    }\n                    const choice = value.choices[0];\n                    if ((choice == null ? void 0 : choice.finish_reason) != null) {\n                        finishReason = mapOpenAIFinishReason(choice.finish_reason);\n                    }\n                    if ((choice == null ? void 0 : choice.delta) == null) {\n                        return;\n                    }\n                    const delta = choice.delta;\n                    if (delta.content != null) {\n                        controller.enqueue({\n                            type: \"text-delta\",\n                            textDelta: delta.content\n                        });\n                    }\n                    const mappedLogprobs = mapOpenAIChatLogProbsOutput(choice == null ? void 0 : choice.logprobs);\n                    if (mappedLogprobs == null ? void 0 : mappedLogprobs.length) {\n                        if (logprobs === void 0) logprobs = [];\n                        logprobs.push(...mappedLogprobs);\n                    }\n                    const mappedToolCalls = useLegacyFunctionCalling && delta.function_call != null ? [\n                        {\n                            type: \"function\",\n                            id: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.generateId)(),\n                            function: delta.function_call,\n                            index: 0\n                        }\n                    ] : delta.tool_calls;\n                    if (mappedToolCalls != null) {\n                        for (const toolCallDelta of mappedToolCalls){\n                            const index = toolCallDelta.index;\n                            if (toolCalls[index] == null) {\n                                if (toolCallDelta.type !== \"function\") {\n                                    throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.InvalidResponseDataError({\n                                        data: toolCallDelta,\n                                        message: `Expected 'function' type.`\n                                    });\n                                }\n                                if (toolCallDelta.id == null) {\n                                    throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.InvalidResponseDataError({\n                                        data: toolCallDelta,\n                                        message: `Expected 'id' to be a string.`\n                                    });\n                                }\n                                if (((_a = toolCallDelta.function) == null ? void 0 : _a.name) == null) {\n                                    throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.InvalidResponseDataError({\n                                        data: toolCallDelta,\n                                        message: `Expected 'function.name' to be a string.`\n                                    });\n                                }\n                                toolCalls[index] = {\n                                    id: toolCallDelta.id,\n                                    type: \"function\",\n                                    function: {\n                                        name: toolCallDelta.function.name,\n                                        arguments: (_b = toolCallDelta.function.arguments) != null ? _b : \"\"\n                                    },\n                                    hasFinished: false\n                                };\n                                const toolCall2 = toolCalls[index];\n                                if (((_c = toolCall2.function) == null ? void 0 : _c.name) != null && ((_d = toolCall2.function) == null ? void 0 : _d.arguments) != null) {\n                                    if (toolCall2.function.arguments.length > 0) {\n                                        controller.enqueue({\n                                            type: \"tool-call-delta\",\n                                            toolCallType: \"function\",\n                                            toolCallId: toolCall2.id,\n                                            toolName: toolCall2.function.name,\n                                            argsTextDelta: toolCall2.function.arguments\n                                        });\n                                    }\n                                    if ((0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.isParsableJson)(toolCall2.function.arguments)) {\n                                        controller.enqueue({\n                                            type: \"tool-call\",\n                                            toolCallType: \"function\",\n                                            toolCallId: (_e = toolCall2.id) != null ? _e : (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.generateId)(),\n                                            toolName: toolCall2.function.name,\n                                            args: toolCall2.function.arguments\n                                        });\n                                        toolCall2.hasFinished = true;\n                                    }\n                                }\n                                continue;\n                            }\n                            const toolCall = toolCalls[index];\n                            if (toolCall.hasFinished) {\n                                continue;\n                            }\n                            if (((_f = toolCallDelta.function) == null ? void 0 : _f.arguments) != null) {\n                                toolCall.function.arguments += (_h = (_g = toolCallDelta.function) == null ? void 0 : _g.arguments) != null ? _h : \"\";\n                            }\n                            controller.enqueue({\n                                type: \"tool-call-delta\",\n                                toolCallType: \"function\",\n                                toolCallId: toolCall.id,\n                                toolName: toolCall.function.name,\n                                argsTextDelta: (_i = toolCallDelta.function.arguments) != null ? _i : \"\"\n                            });\n                            if (((_j = toolCall.function) == null ? void 0 : _j.name) != null && ((_k = toolCall.function) == null ? void 0 : _k.arguments) != null && (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.isParsableJson)(toolCall.function.arguments)) {\n                                controller.enqueue({\n                                    type: \"tool-call\",\n                                    toolCallType: \"function\",\n                                    toolCallId: (_l = toolCall.id) != null ? _l : (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.generateId)(),\n                                    toolName: toolCall.function.name,\n                                    args: toolCall.function.arguments\n                                });\n                                toolCall.hasFinished = true;\n                            }\n                        }\n                    }\n                },\n                flush (controller) {\n                    var _a, _b;\n                    controller.enqueue({\n                        type: \"finish\",\n                        finishReason,\n                        logprobs,\n                        usage: {\n                            promptTokens: (_a = usage.promptTokens) != null ? _a : NaN,\n                            completionTokens: (_b = usage.completionTokens) != null ? _b : NaN\n                        },\n                        ...providerMetadata != null ? {\n                            providerMetadata\n                        } : {}\n                    });\n                }\n            })),\n            rawCall: {\n                rawPrompt,\n                rawSettings\n            },\n            rawResponse: {\n                headers: responseHeaders\n            },\n            request: {\n                body: JSON.stringify(body)\n            },\n            warnings\n        };\n    }\n};\nvar openaiTokenUsageSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    prompt_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish(),\n    completion_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish(),\n    prompt_tokens_details: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        cached_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish()\n    }).nullish(),\n    completion_tokens_details: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        reasoning_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish(),\n        accepted_prediction_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish(),\n        rejected_prediction_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish()\n    }).nullish()\n}).nullish();\nvar openaiChatResponseSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    id: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n    created: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish(),\n    model: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n    choices: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        message: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n            role: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"assistant\").nullish(),\n            content: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n            function_call: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                arguments: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n                name: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n            }).nullish(),\n            tool_calls: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                id: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n                type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"function\"),\n                function: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                    name: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n                    arguments: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n                })\n            })).nullish()\n        }),\n        index: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n        logprobs: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n            content: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                token: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n                logprob: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n                top_logprobs: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                    token: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n                    logprob: zod__WEBPACK_IMPORTED_MODULE_2__.z.number()\n                }))\n            })).nullable()\n        }).nullish(),\n        finish_reason: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish()\n    })),\n    usage: openaiTokenUsageSchema\n});\nvar openaiChatChunkSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.union([\n    zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        id: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n        created: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish(),\n        model: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n        choices: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n            delta: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                role: zod__WEBPACK_IMPORTED_MODULE_2__.z.enum([\n                    \"assistant\"\n                ]).nullish(),\n                content: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n                function_call: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                    name: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().optional(),\n                    arguments: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().optional()\n                }).nullish(),\n                tool_calls: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                    index: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n                    id: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n                    type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"function\").optional(),\n                    function: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                        name: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n                        arguments: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish()\n                    })\n                })).nullish()\n            }).nullish(),\n            logprobs: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                content: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                    token: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n                    logprob: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n                    top_logprobs: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                        token: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n                        logprob: zod__WEBPACK_IMPORTED_MODULE_2__.z.number()\n                    }))\n                })).nullable()\n            }).nullish(),\n            finish_reason: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullable().optional(),\n            index: zod__WEBPACK_IMPORTED_MODULE_2__.z.number()\n        })),\n        usage: openaiTokenUsageSchema\n    }),\n    openaiErrorDataSchema\n]);\nfunction isReasoningModel(modelId) {\n    return modelId === \"o1\" || modelId.startsWith(\"o1-\") || modelId === \"o3\" || modelId.startsWith(\"o3-\");\n}\nfunction isAudioModel(modelId) {\n    return modelId.startsWith(\"gpt-4o-audio-preview\");\n}\nfunction getSystemMessageMode(modelId) {\n    var _a, _b;\n    if (!isReasoningModel(modelId)) {\n        return \"system\";\n    }\n    return (_b = (_a = reasoningModels[modelId]) == null ? void 0 : _a.systemMessageMode) != null ? _b : \"developer\";\n}\nvar reasoningModels = {\n    \"o1-mini\": {\n        systemMessageMode: \"remove\"\n    },\n    \"o1-mini-2024-09-12\": {\n        systemMessageMode: \"remove\"\n    },\n    \"o1-preview\": {\n        systemMessageMode: \"remove\"\n    },\n    \"o1-preview-2024-09-12\": {\n        systemMessageMode: \"remove\"\n    },\n    \"o3-mini\": {\n        systemMessageMode: \"developer\"\n    },\n    \"o3-mini-2025-01-31\": {\n        systemMessageMode: \"developer\"\n    }\n};\n// src/openai-completion-language-model.ts\n\n\n\n// src/convert-to-openai-completion-prompt.ts\n\nfunction convertToOpenAICompletionPrompt({ prompt, inputFormat, user = \"user\", assistant = \"assistant\" }) {\n    if (inputFormat === \"prompt\" && prompt.length === 1 && prompt[0].role === \"user\" && prompt[0].content.length === 1 && prompt[0].content[0].type === \"text\") {\n        return {\n            prompt: prompt[0].content[0].text\n        };\n    }\n    let text = \"\";\n    if (prompt[0].role === \"system\") {\n        text += `${prompt[0].content}\n\n`;\n        prompt = prompt.slice(1);\n    }\n    for (const { role, content } of prompt){\n        switch(role){\n            case \"system\":\n                {\n                    throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.InvalidPromptError({\n                        message: \"Unexpected system message in prompt: ${content}\",\n                        prompt\n                    });\n                }\n            case \"user\":\n                {\n                    const userMessage = content.map((part)=>{\n                        switch(part.type){\n                            case \"text\":\n                                {\n                                    return part.text;\n                                }\n                            case \"image\":\n                                {\n                                    throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                                        functionality: \"images\"\n                                    });\n                                }\n                        }\n                    }).join(\"\");\n                    text += `${user}:\n${userMessage}\n\n`;\n                    break;\n                }\n            case \"assistant\":\n                {\n                    const assistantMessage = content.map((part)=>{\n                        switch(part.type){\n                            case \"text\":\n                                {\n                                    return part.text;\n                                }\n                            case \"tool-call\":\n                                {\n                                    throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                                        functionality: \"tool-call messages\"\n                                    });\n                                }\n                        }\n                    }).join(\"\");\n                    text += `${assistant}:\n${assistantMessage}\n\n`;\n                    break;\n                }\n            case \"tool\":\n                {\n                    throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                        functionality: \"tool messages\"\n                    });\n                }\n            default:\n                {\n                    const _exhaustiveCheck = role;\n                    throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n                }\n        }\n    }\n    text += `${assistant}:\n`;\n    return {\n        prompt: text,\n        stopSequences: [\n            `\n${user}:`\n        ]\n    };\n}\n// src/map-openai-completion-logprobs.ts\nfunction mapOpenAICompletionLogProbs(logprobs) {\n    return logprobs == null ? void 0 : logprobs.tokens.map((token, index)=>({\n            token,\n            logprob: logprobs.token_logprobs[index],\n            topLogprobs: logprobs.top_logprobs ? Object.entries(logprobs.top_logprobs[index]).map(([token2, logprob])=>({\n                    token: token2,\n                    logprob\n                })) : []\n        }));\n}\n// src/openai-completion-language-model.ts\nvar OpenAICompletionLanguageModel = class {\n    constructor(modelId, settings, config){\n        this.specificationVersion = \"v1\";\n        this.defaultObjectGenerationMode = void 0;\n        this.modelId = modelId;\n        this.settings = settings;\n        this.config = config;\n    }\n    get provider() {\n        return this.config.provider;\n    }\n    getArgs({ mode, inputFormat, prompt, maxTokens, temperature, topP, topK, frequencyPenalty, presencePenalty, stopSequences: userStopSequences, responseFormat, seed }) {\n        var _a;\n        const type = mode.type;\n        const warnings = [];\n        if (topK != null) {\n            warnings.push({\n                type: \"unsupported-setting\",\n                setting: \"topK\"\n            });\n        }\n        if (responseFormat != null && responseFormat.type !== \"text\") {\n            warnings.push({\n                type: \"unsupported-setting\",\n                setting: \"responseFormat\",\n                details: \"JSON response format is not supported.\"\n            });\n        }\n        const { prompt: completionPrompt, stopSequences } = convertToOpenAICompletionPrompt({\n            prompt,\n            inputFormat\n        });\n        const stop = [\n            ...stopSequences != null ? stopSequences : [],\n            ...userStopSequences != null ? userStopSequences : []\n        ];\n        const baseArgs = {\n            // model id:\n            model: this.modelId,\n            // model specific settings:\n            echo: this.settings.echo,\n            logit_bias: this.settings.logitBias,\n            logprobs: typeof this.settings.logprobs === \"number\" ? this.settings.logprobs : typeof this.settings.logprobs === \"boolean\" ? this.settings.logprobs ? 0 : void 0 : void 0,\n            suffix: this.settings.suffix,\n            user: this.settings.user,\n            // standardized settings:\n            max_tokens: maxTokens,\n            temperature,\n            top_p: topP,\n            frequency_penalty: frequencyPenalty,\n            presence_penalty: presencePenalty,\n            seed,\n            // prompt:\n            prompt: completionPrompt,\n            // stop sequences:\n            stop: stop.length > 0 ? stop : void 0\n        };\n        switch(type){\n            case \"regular\":\n                {\n                    if ((_a = mode.tools) == null ? void 0 : _a.length) {\n                        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                            functionality: \"tools\"\n                        });\n                    }\n                    if (mode.toolChoice) {\n                        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                            functionality: \"toolChoice\"\n                        });\n                    }\n                    return {\n                        args: baseArgs,\n                        warnings\n                    };\n                }\n            case \"object-json\":\n                {\n                    throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                        functionality: \"object-json mode\"\n                    });\n                }\n            case \"object-tool\":\n                {\n                    throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                        functionality: \"object-tool mode\"\n                    });\n                }\n            default:\n                {\n                    const _exhaustiveCheck = type;\n                    throw new Error(`Unsupported type: ${_exhaustiveCheck}`);\n                }\n        }\n    }\n    async doGenerate(options) {\n        const { args, warnings } = this.getArgs(options);\n        const { responseHeaders, value: response, rawValue: rawResponse } = await (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.postJsonToApi)({\n            url: this.config.url({\n                path: \"/completions\",\n                modelId: this.modelId\n            }),\n            headers: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.combineHeaders)(this.config.headers(), options.headers),\n            body: args,\n            failedResponseHandler: openaiFailedResponseHandler,\n            successfulResponseHandler: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.createJsonResponseHandler)(openaiCompletionResponseSchema),\n            abortSignal: options.abortSignal,\n            fetch: this.config.fetch\n        });\n        const { prompt: rawPrompt, ...rawSettings } = args;\n        const choice = response.choices[0];\n        return {\n            text: choice.text,\n            usage: {\n                promptTokens: response.usage.prompt_tokens,\n                completionTokens: response.usage.completion_tokens\n            },\n            finishReason: mapOpenAIFinishReason(choice.finish_reason),\n            logprobs: mapOpenAICompletionLogProbs(choice.logprobs),\n            rawCall: {\n                rawPrompt,\n                rawSettings\n            },\n            rawResponse: {\n                headers: responseHeaders,\n                body: rawResponse\n            },\n            response: getResponseMetadata(response),\n            warnings,\n            request: {\n                body: JSON.stringify(args)\n            }\n        };\n    }\n    async doStream(options) {\n        const { args, warnings } = this.getArgs(options);\n        const body = {\n            ...args,\n            stream: true,\n            // only include stream_options when in strict compatibility mode:\n            stream_options: this.config.compatibility === \"strict\" ? {\n                include_usage: true\n            } : void 0\n        };\n        const { responseHeaders, value: response } = await (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.postJsonToApi)({\n            url: this.config.url({\n                path: \"/completions\",\n                modelId: this.modelId\n            }),\n            headers: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.combineHeaders)(this.config.headers(), options.headers),\n            body,\n            failedResponseHandler: openaiFailedResponseHandler,\n            successfulResponseHandler: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.createEventSourceResponseHandler)(openaiCompletionChunkSchema),\n            abortSignal: options.abortSignal,\n            fetch: this.config.fetch\n        });\n        const { prompt: rawPrompt, ...rawSettings } = args;\n        let finishReason = \"unknown\";\n        let usage = {\n            promptTokens: Number.NaN,\n            completionTokens: Number.NaN\n        };\n        let logprobs;\n        let isFirstChunk = true;\n        return {\n            stream: response.pipeThrough(new TransformStream({\n                transform (chunk, controller) {\n                    if (!chunk.success) {\n                        finishReason = \"error\";\n                        controller.enqueue({\n                            type: \"error\",\n                            error: chunk.error\n                        });\n                        return;\n                    }\n                    const value = chunk.value;\n                    if (\"error\" in value) {\n                        finishReason = \"error\";\n                        controller.enqueue({\n                            type: \"error\",\n                            error: value.error\n                        });\n                        return;\n                    }\n                    if (isFirstChunk) {\n                        isFirstChunk = false;\n                        controller.enqueue({\n                            type: \"response-metadata\",\n                            ...getResponseMetadata(value)\n                        });\n                    }\n                    if (value.usage != null) {\n                        usage = {\n                            promptTokens: value.usage.prompt_tokens,\n                            completionTokens: value.usage.completion_tokens\n                        };\n                    }\n                    const choice = value.choices[0];\n                    if ((choice == null ? void 0 : choice.finish_reason) != null) {\n                        finishReason = mapOpenAIFinishReason(choice.finish_reason);\n                    }\n                    if ((choice == null ? void 0 : choice.text) != null) {\n                        controller.enqueue({\n                            type: \"text-delta\",\n                            textDelta: choice.text\n                        });\n                    }\n                    const mappedLogprobs = mapOpenAICompletionLogProbs(choice == null ? void 0 : choice.logprobs);\n                    if (mappedLogprobs == null ? void 0 : mappedLogprobs.length) {\n                        if (logprobs === void 0) logprobs = [];\n                        logprobs.push(...mappedLogprobs);\n                    }\n                },\n                flush (controller) {\n                    controller.enqueue({\n                        type: \"finish\",\n                        finishReason,\n                        logprobs,\n                        usage\n                    });\n                }\n            })),\n            rawCall: {\n                rawPrompt,\n                rawSettings\n            },\n            rawResponse: {\n                headers: responseHeaders\n            },\n            warnings,\n            request: {\n                body: JSON.stringify(body)\n            }\n        };\n    }\n};\nvar openaiCompletionResponseSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    id: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n    created: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish(),\n    model: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n    choices: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        text: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n        finish_reason: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n        logprobs: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n            tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.string()),\n            token_logprobs: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.number()),\n            top_logprobs: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.record(zod__WEBPACK_IMPORTED_MODULE_2__.z.string(), zod__WEBPACK_IMPORTED_MODULE_2__.z.number())).nullable()\n        }).nullish()\n    })),\n    usage: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        prompt_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n        completion_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number()\n    })\n});\nvar openaiCompletionChunkSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.union([\n    zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        id: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n        created: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish(),\n        model: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n        choices: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n            text: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n            finish_reason: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n            index: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n            logprobs: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.string()),\n                token_logprobs: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.number()),\n                top_logprobs: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.record(zod__WEBPACK_IMPORTED_MODULE_2__.z.string(), zod__WEBPACK_IMPORTED_MODULE_2__.z.number())).nullable()\n            }).nullish()\n        })),\n        usage: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n            prompt_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n            completion_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number()\n        }).nullish()\n    }),\n    openaiErrorDataSchema\n]);\n// src/openai-embedding-model.ts\n\n\n\nvar OpenAIEmbeddingModel = class {\n    constructor(modelId, settings, config){\n        this.specificationVersion = \"v1\";\n        this.modelId = modelId;\n        this.settings = settings;\n        this.config = config;\n    }\n    get provider() {\n        return this.config.provider;\n    }\n    get maxEmbeddingsPerCall() {\n        var _a;\n        return (_a = this.settings.maxEmbeddingsPerCall) != null ? _a : 2048;\n    }\n    get supportsParallelCalls() {\n        var _a;\n        return (_a = this.settings.supportsParallelCalls) != null ? _a : true;\n    }\n    async doEmbed({ values, headers, abortSignal }) {\n        if (values.length > this.maxEmbeddingsPerCall) {\n            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.TooManyEmbeddingValuesForCallError({\n                provider: this.provider,\n                modelId: this.modelId,\n                maxEmbeddingsPerCall: this.maxEmbeddingsPerCall,\n                values\n            });\n        }\n        const { responseHeaders, value: response } = await (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.postJsonToApi)({\n            url: this.config.url({\n                path: \"/embeddings\",\n                modelId: this.modelId\n            }),\n            headers: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.combineHeaders)(this.config.headers(), headers),\n            body: {\n                model: this.modelId,\n                input: values,\n                encoding_format: \"float\",\n                dimensions: this.settings.dimensions,\n                user: this.settings.user\n            },\n            failedResponseHandler: openaiFailedResponseHandler,\n            successfulResponseHandler: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.createJsonResponseHandler)(openaiTextEmbeddingResponseSchema),\n            abortSignal,\n            fetch: this.config.fetch\n        });\n        return {\n            embeddings: response.data.map((item)=>item.embedding),\n            usage: response.usage ? {\n                tokens: response.usage.prompt_tokens\n            } : void 0,\n            rawResponse: {\n                headers: responseHeaders\n            }\n        };\n    }\n};\nvar openaiTextEmbeddingResponseSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    data: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        embedding: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.number())\n    })),\n    usage: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        prompt_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number()\n    }).nullish()\n});\n// src/openai-image-model.ts\n\n\n// src/openai-image-settings.ts\nvar modelMaxImagesPerCall = {\n    \"dall-e-3\": 1,\n    \"dall-e-2\": 10\n};\n// src/openai-image-model.ts\nvar OpenAIImageModel = class {\n    constructor(modelId, settings, config){\n        this.modelId = modelId;\n        this.settings = settings;\n        this.config = config;\n        this.specificationVersion = \"v1\";\n    }\n    get maxImagesPerCall() {\n        var _a, _b;\n        return (_b = (_a = this.settings.maxImagesPerCall) != null ? _a : modelMaxImagesPerCall[this.modelId]) != null ? _b : 1;\n    }\n    get provider() {\n        return this.config.provider;\n    }\n    async doGenerate({ prompt, n, size, aspectRatio, seed, providerOptions, headers, abortSignal }) {\n        var _a, _b, _c, _d;\n        const warnings = [];\n        if (aspectRatio != null) {\n            warnings.push({\n                type: \"unsupported-setting\",\n                setting: \"aspectRatio\",\n                details: \"This model does not support aspect ratio. Use `size` instead.\"\n            });\n        }\n        if (seed != null) {\n            warnings.push({\n                type: \"unsupported-setting\",\n                setting: \"seed\"\n            });\n        }\n        const currentDate = (_c = (_b = (_a = this.config._internal) == null ? void 0 : _a.currentDate) == null ? void 0 : _b.call(_a)) != null ? _c : /* @__PURE__ */ new Date();\n        const { value: response, responseHeaders } = await (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.postJsonToApi)({\n            url: this.config.url({\n                path: \"/images/generations\",\n                modelId: this.modelId\n            }),\n            headers: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.combineHeaders)(this.config.headers(), headers),\n            body: {\n                model: this.modelId,\n                prompt,\n                n,\n                size,\n                ...(_d = providerOptions.openai) != null ? _d : {},\n                response_format: \"b64_json\"\n            },\n            failedResponseHandler: openaiFailedResponseHandler,\n            successfulResponseHandler: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.createJsonResponseHandler)(openaiImageResponseSchema),\n            abortSignal,\n            fetch: this.config.fetch\n        });\n        return {\n            images: response.data.map((item)=>item.b64_json),\n            warnings,\n            response: {\n                timestamp: currentDate,\n                modelId: this.modelId,\n                headers: responseHeaders\n            }\n        };\n    }\n};\nvar openaiImageResponseSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    data: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        b64_json: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n    }))\n});\n// src/responses/openai-responses-language-model.ts\n\n\n// src/responses/convert-to-openai-responses-messages.ts\n\n\nfunction convertToOpenAIResponsesMessages({ prompt, systemMessageMode }) {\n    const messages = [];\n    const warnings = [];\n    for (const { role, content } of prompt){\n        switch(role){\n            case \"system\":\n                {\n                    switch(systemMessageMode){\n                        case \"system\":\n                            {\n                                messages.push({\n                                    role: \"system\",\n                                    content\n                                });\n                                break;\n                            }\n                        case \"developer\":\n                            {\n                                messages.push({\n                                    role: \"developer\",\n                                    content\n                                });\n                                break;\n                            }\n                        case \"remove\":\n                            {\n                                warnings.push({\n                                    type: \"other\",\n                                    message: \"system messages are removed for this model\"\n                                });\n                                break;\n                            }\n                        default:\n                            {\n                                const _exhaustiveCheck = systemMessageMode;\n                                throw new Error(`Unsupported system message mode: ${_exhaustiveCheck}`);\n                            }\n                    }\n                    break;\n                }\n            case \"user\":\n                {\n                    messages.push({\n                        role: \"user\",\n                        content: content.map((part, index)=>{\n                            var _a, _b, _c, _d;\n                            switch(part.type){\n                                case \"text\":\n                                    {\n                                        return {\n                                            type: \"input_text\",\n                                            text: part.text\n                                        };\n                                    }\n                                case \"image\":\n                                    {\n                                        return {\n                                            type: \"input_image\",\n                                            image_url: part.image instanceof URL ? part.image.toString() : `data:${(_a = part.mimeType) != null ? _a : \"image/jpeg\"};base64,${(0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.convertUint8ArrayToBase64)(part.image)}`,\n                                            // OpenAI specific extension: image detail\n                                            detail: (_c = (_b = part.providerMetadata) == null ? void 0 : _b.openai) == null ? void 0 : _c.imageDetail\n                                        };\n                                    }\n                                case \"file\":\n                                    {\n                                        if (part.data instanceof URL) {\n                                            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                                                functionality: \"File URLs in user messages\"\n                                            });\n                                        }\n                                        switch(part.mimeType){\n                                            case \"application/pdf\":\n                                                {\n                                                    return {\n                                                        type: \"input_file\",\n                                                        filename: (_d = part.filename) != null ? _d : `part-${index}.pdf`,\n                                                        file_data: `data:application/pdf;base64,${part.data}`\n                                                    };\n                                                }\n                                            default:\n                                                {\n                                                    throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                                                        functionality: \"Only PDF files are supported in user messages\"\n                                                    });\n                                                }\n                                        }\n                                    }\n                            }\n                        })\n                    });\n                    break;\n                }\n            case \"assistant\":\n                {\n                    for (const part of content){\n                        switch(part.type){\n                            case \"text\":\n                                {\n                                    messages.push({\n                                        role: \"assistant\",\n                                        content: [\n                                            {\n                                                type: \"output_text\",\n                                                text: part.text\n                                            }\n                                        ]\n                                    });\n                                    break;\n                                }\n                            case \"tool-call\":\n                                {\n                                    messages.push({\n                                        type: \"function_call\",\n                                        call_id: part.toolCallId,\n                                        name: part.toolName,\n                                        arguments: JSON.stringify(part.args)\n                                    });\n                                    break;\n                                }\n                        }\n                    }\n                    break;\n                }\n            case \"tool\":\n                {\n                    for (const part of content){\n                        messages.push({\n                            type: \"function_call_output\",\n                            call_id: part.toolCallId,\n                            output: JSON.stringify(part.result)\n                        });\n                    }\n                    break;\n                }\n            default:\n                {\n                    const _exhaustiveCheck = role;\n                    throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n                }\n        }\n    }\n    return {\n        messages,\n        warnings\n    };\n}\n// src/responses/map-openai-responses-finish-reason.ts\nfunction mapOpenAIResponseFinishReason({ finishReason, hasToolCalls }) {\n    switch(finishReason){\n        case void 0:\n        case null:\n            return hasToolCalls ? \"tool-calls\" : \"stop\";\n        case \"max_output_tokens\":\n            return \"length\";\n        case \"content_filter\":\n            return \"content-filter\";\n        default:\n            return hasToolCalls ? \"tool-calls\" : \"unknown\";\n    }\n}\n// src/responses/openai-responses-prepare-tools.ts\n\nfunction prepareResponsesTools({ mode, strict }) {\n    var _a;\n    const tools = ((_a = mode.tools) == null ? void 0 : _a.length) ? mode.tools : void 0;\n    const toolWarnings = [];\n    if (tools == null) {\n        return {\n            tools: void 0,\n            tool_choice: void 0,\n            toolWarnings\n        };\n    }\n    const toolChoice = mode.toolChoice;\n    const openaiTools2 = [];\n    for (const tool of tools){\n        switch(tool.type){\n            case \"function\":\n                openaiTools2.push({\n                    type: \"function\",\n                    name: tool.name,\n                    description: tool.description,\n                    parameters: tool.parameters,\n                    strict: strict ? true : void 0\n                });\n                break;\n            case \"provider-defined\":\n                switch(tool.id){\n                    case \"openai.web_search_preview\":\n                        openaiTools2.push({\n                            type: \"web_search_preview\",\n                            search_context_size: tool.args.searchContextSize,\n                            user_location: tool.args.userLocation\n                        });\n                        break;\n                    default:\n                        toolWarnings.push({\n                            type: \"unsupported-tool\",\n                            tool\n                        });\n                        break;\n                }\n                break;\n            default:\n                toolWarnings.push({\n                    type: \"unsupported-tool\",\n                    tool\n                });\n                break;\n        }\n    }\n    if (toolChoice == null) {\n        return {\n            tools: openaiTools2,\n            tool_choice: void 0,\n            toolWarnings\n        };\n    }\n    const type = toolChoice.type;\n    switch(type){\n        case \"auto\":\n        case \"none\":\n        case \"required\":\n            return {\n                tools: openaiTools2,\n                tool_choice: type,\n                toolWarnings\n            };\n        case \"tool\":\n            return {\n                tools: openaiTools2,\n                tool_choice: {\n                    type: \"function\",\n                    name: toolChoice.toolName\n                },\n                toolWarnings\n            };\n        default:\n            {\n                const _exhaustiveCheck = type;\n                throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                    functionality: `Unsupported tool choice type: ${_exhaustiveCheck}`\n                });\n            }\n    }\n}\n// src/responses/openai-responses-language-model.ts\nvar OpenAIResponsesLanguageModel = class {\n    constructor(modelId, config){\n        this.specificationVersion = \"v1\";\n        this.defaultObjectGenerationMode = \"json\";\n        this.modelId = modelId;\n        this.config = config;\n    }\n    get provider() {\n        return this.config.provider;\n    }\n    getArgs({ mode, maxTokens, temperature, stopSequences, topP, topK, presencePenalty, frequencyPenalty, seed, prompt, providerMetadata, responseFormat }) {\n        var _a, _b, _c;\n        const warnings = [];\n        const modelConfig = getResponsesModelConfig(this.modelId);\n        const type = mode.type;\n        if (topK != null) {\n            warnings.push({\n                type: \"unsupported-setting\",\n                setting: \"topK\"\n            });\n        }\n        if (seed != null) {\n            warnings.push({\n                type: \"unsupported-setting\",\n                setting: \"seed\"\n            });\n        }\n        if (presencePenalty != null) {\n            warnings.push({\n                type: \"unsupported-setting\",\n                setting: \"presencePenalty\"\n            });\n        }\n        if (frequencyPenalty != null) {\n            warnings.push({\n                type: \"unsupported-setting\",\n                setting: \"frequencyPenalty\"\n            });\n        }\n        if (stopSequences != null) {\n            warnings.push({\n                type: \"unsupported-setting\",\n                setting: \"stopSequences\"\n            });\n        }\n        const { messages, warnings: messageWarnings } = convertToOpenAIResponsesMessages({\n            prompt,\n            systemMessageMode: modelConfig.systemMessageMode\n        });\n        warnings.push(...messageWarnings);\n        const openaiOptions = (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.parseProviderOptions)({\n            provider: \"openai\",\n            providerOptions: providerMetadata,\n            schema: openaiResponsesProviderOptionsSchema\n        });\n        const isStrict = (_a = openaiOptions == null ? void 0 : openaiOptions.strictSchemas) != null ? _a : true;\n        const baseArgs = {\n            model: this.modelId,\n            input: messages,\n            temperature,\n            top_p: topP,\n            max_output_tokens: maxTokens,\n            ...(responseFormat == null ? void 0 : responseFormat.type) === \"json\" && {\n                text: {\n                    format: responseFormat.schema != null ? {\n                        type: \"json_schema\",\n                        strict: isStrict,\n                        name: (_b = responseFormat.name) != null ? _b : \"response\",\n                        description: responseFormat.description,\n                        schema: responseFormat.schema\n                    } : {\n                        type: \"json_object\"\n                    }\n                }\n            },\n            // provider options:\n            metadata: openaiOptions == null ? void 0 : openaiOptions.metadata,\n            parallel_tool_calls: openaiOptions == null ? void 0 : openaiOptions.parallelToolCalls,\n            previous_response_id: openaiOptions == null ? void 0 : openaiOptions.previousResponseId,\n            store: openaiOptions == null ? void 0 : openaiOptions.store,\n            user: openaiOptions == null ? void 0 : openaiOptions.user,\n            instructions: openaiOptions == null ? void 0 : openaiOptions.instructions,\n            // model-specific settings:\n            ...modelConfig.isReasoningModel && (openaiOptions == null ? void 0 : openaiOptions.reasoningEffort) != null && {\n                reasoning: {\n                    effort: openaiOptions == null ? void 0 : openaiOptions.reasoningEffort\n                }\n            },\n            ...modelConfig.requiredAutoTruncation && {\n                truncation: \"auto\"\n            }\n        };\n        if (modelConfig.isReasoningModel) {\n            if (baseArgs.temperature != null) {\n                baseArgs.temperature = void 0;\n                warnings.push({\n                    type: \"unsupported-setting\",\n                    setting: \"temperature\",\n                    details: \"temperature is not supported for reasoning models\"\n                });\n            }\n            if (baseArgs.top_p != null) {\n                baseArgs.top_p = void 0;\n                warnings.push({\n                    type: \"unsupported-setting\",\n                    setting: \"topP\",\n                    details: \"topP is not supported for reasoning models\"\n                });\n            }\n        }\n        switch(type){\n            case \"regular\":\n                {\n                    const { tools, tool_choice, toolWarnings } = prepareResponsesTools({\n                        mode,\n                        strict: isStrict\n                    });\n                    return {\n                        args: {\n                            ...baseArgs,\n                            tools,\n                            tool_choice\n                        },\n                        warnings: [\n                            ...warnings,\n                            ...toolWarnings\n                        ]\n                    };\n                }\n            case \"object-json\":\n                {\n                    return {\n                        args: {\n                            ...baseArgs,\n                            text: {\n                                format: mode.schema != null ? {\n                                    type: \"json_schema\",\n                                    strict: isStrict,\n                                    name: (_c = mode.name) != null ? _c : \"response\",\n                                    description: mode.description,\n                                    schema: mode.schema\n                                } : {\n                                    type: \"json_object\"\n                                }\n                            }\n                        },\n                        warnings\n                    };\n                }\n            case \"object-tool\":\n                {\n                    return {\n                        args: {\n                            ...baseArgs,\n                            tool_choice: {\n                                type: \"function\",\n                                name: mode.tool.name\n                            },\n                            tools: [\n                                {\n                                    type: \"function\",\n                                    name: mode.tool.name,\n                                    description: mode.tool.description,\n                                    parameters: mode.tool.parameters,\n                                    strict: isStrict\n                                }\n                            ]\n                        },\n                        warnings\n                    };\n                }\n            default:\n                {\n                    const _exhaustiveCheck = type;\n                    throw new Error(`Unsupported type: ${_exhaustiveCheck}`);\n                }\n        }\n    }\n    async doGenerate(options) {\n        var _a, _b, _c, _d, _e;\n        const { args: body, warnings } = this.getArgs(options);\n        const { responseHeaders, value: response, rawValue: rawResponse } = await (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.postJsonToApi)({\n            url: this.config.url({\n                path: \"/responses\",\n                modelId: this.modelId\n            }),\n            headers: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.combineHeaders)(this.config.headers(), options.headers),\n            body,\n            failedResponseHandler: openaiFailedResponseHandler,\n            successfulResponseHandler: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.createJsonResponseHandler)(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                id: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n                created_at: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n                model: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n                output: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.discriminatedUnion(\"type\", [\n                    zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                        type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"message\"),\n                        role: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"assistant\"),\n                        content: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                            type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"output_text\"),\n                            text: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n                            annotations: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                                type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"url_citation\"),\n                                start_index: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n                                end_index: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n                                url: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n                                title: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n                            }))\n                        }))\n                    }),\n                    zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                        type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"function_call\"),\n                        call_id: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n                        name: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n                        arguments: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n                    }),\n                    zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                        type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"web_search_call\")\n                    }),\n                    zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                        type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"computer_call\")\n                    }),\n                    zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                        type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"reasoning\")\n                    })\n                ])),\n                incomplete_details: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                    reason: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n                }).nullable(),\n                usage: usageSchema\n            })),\n            abortSignal: options.abortSignal,\n            fetch: this.config.fetch\n        });\n        const outputTextElements = response.output.filter((output)=>output.type === \"message\").flatMap((output)=>output.content).filter((content)=>content.type === \"output_text\");\n        const toolCalls = response.output.filter((output)=>output.type === \"function_call\").map((output)=>({\n                toolCallType: \"function\",\n                toolCallId: output.call_id,\n                toolName: output.name,\n                args: output.arguments\n            }));\n        return {\n            text: outputTextElements.map((content)=>content.text).join(\"\\n\"),\n            sources: outputTextElements.flatMap((content)=>content.annotations.map((annotation)=>{\n                    var _a2, _b2, _c2;\n                    return {\n                        sourceType: \"url\",\n                        id: (_c2 = (_b2 = (_a2 = this.config).generateId) == null ? void 0 : _b2.call(_a2)) != null ? _c2 : (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.generateId)(),\n                        url: annotation.url,\n                        title: annotation.title\n                    };\n                })),\n            finishReason: mapOpenAIResponseFinishReason({\n                finishReason: (_a = response.incomplete_details) == null ? void 0 : _a.reason,\n                hasToolCalls: toolCalls.length > 0\n            }),\n            toolCalls: toolCalls.length > 0 ? toolCalls : void 0,\n            usage: {\n                promptTokens: response.usage.input_tokens,\n                completionTokens: response.usage.output_tokens\n            },\n            rawCall: {\n                rawPrompt: void 0,\n                rawSettings: {}\n            },\n            rawResponse: {\n                headers: responseHeaders,\n                body: rawResponse\n            },\n            request: {\n                body: JSON.stringify(body)\n            },\n            response: {\n                id: response.id,\n                timestamp: new Date(response.created_at * 1e3),\n                modelId: response.model\n            },\n            providerMetadata: {\n                openai: {\n                    responseId: response.id,\n                    cachedPromptTokens: (_c = (_b = response.usage.input_tokens_details) == null ? void 0 : _b.cached_tokens) != null ? _c : null,\n                    reasoningTokens: (_e = (_d = response.usage.output_tokens_details) == null ? void 0 : _d.reasoning_tokens) != null ? _e : null\n                }\n            },\n            warnings\n        };\n    }\n    async doStream(options) {\n        const { args: body, warnings } = this.getArgs(options);\n        const { responseHeaders, value: response } = await (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.postJsonToApi)({\n            url: this.config.url({\n                path: \"/responses\",\n                modelId: this.modelId\n            }),\n            headers: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.combineHeaders)(this.config.headers(), options.headers),\n            body: {\n                ...body,\n                stream: true\n            },\n            failedResponseHandler: openaiFailedResponseHandler,\n            successfulResponseHandler: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.createEventSourceResponseHandler)(openaiResponsesChunkSchema),\n            abortSignal: options.abortSignal,\n            fetch: this.config.fetch\n        });\n        const self = this;\n        let finishReason = \"unknown\";\n        let promptTokens = NaN;\n        let completionTokens = NaN;\n        let cachedPromptTokens = null;\n        let reasoningTokens = null;\n        let responseId = null;\n        const ongoingToolCalls = {};\n        let hasToolCalls = false;\n        return {\n            stream: response.pipeThrough(new TransformStream({\n                transform (chunk, controller) {\n                    var _a, _b, _c, _d, _e, _f, _g, _h;\n                    if (!chunk.success) {\n                        finishReason = \"error\";\n                        controller.enqueue({\n                            type: \"error\",\n                            error: chunk.error\n                        });\n                        return;\n                    }\n                    const value = chunk.value;\n                    if (isResponseOutputItemAddedChunk(value)) {\n                        if (value.item.type === \"function_call\") {\n                            ongoingToolCalls[value.output_index] = {\n                                toolName: value.item.name,\n                                toolCallId: value.item.call_id\n                            };\n                            controller.enqueue({\n                                type: \"tool-call-delta\",\n                                toolCallType: \"function\",\n                                toolCallId: value.item.call_id,\n                                toolName: value.item.name,\n                                argsTextDelta: value.item.arguments\n                            });\n                        }\n                    } else if (isResponseFunctionCallArgumentsDeltaChunk(value)) {\n                        const toolCall = ongoingToolCalls[value.output_index];\n                        if (toolCall != null) {\n                            controller.enqueue({\n                                type: \"tool-call-delta\",\n                                toolCallType: \"function\",\n                                toolCallId: toolCall.toolCallId,\n                                toolName: toolCall.toolName,\n                                argsTextDelta: value.delta\n                            });\n                        }\n                    } else if (isResponseCreatedChunk(value)) {\n                        responseId = value.response.id;\n                        controller.enqueue({\n                            type: \"response-metadata\",\n                            id: value.response.id,\n                            timestamp: new Date(value.response.created_at * 1e3),\n                            modelId: value.response.model\n                        });\n                    } else if (isTextDeltaChunk(value)) {\n                        controller.enqueue({\n                            type: \"text-delta\",\n                            textDelta: value.delta\n                        });\n                    } else if (isResponseOutputItemDoneChunk(value) && value.item.type === \"function_call\") {\n                        ongoingToolCalls[value.output_index] = void 0;\n                        hasToolCalls = true;\n                        controller.enqueue({\n                            type: \"tool-call\",\n                            toolCallType: \"function\",\n                            toolCallId: value.item.call_id,\n                            toolName: value.item.name,\n                            args: value.item.arguments\n                        });\n                    } else if (isResponseFinishedChunk(value)) {\n                        finishReason = mapOpenAIResponseFinishReason({\n                            finishReason: (_a = value.response.incomplete_details) == null ? void 0 : _a.reason,\n                            hasToolCalls\n                        });\n                        promptTokens = value.response.usage.input_tokens;\n                        completionTokens = value.response.usage.output_tokens;\n                        cachedPromptTokens = (_c = (_b = value.response.usage.input_tokens_details) == null ? void 0 : _b.cached_tokens) != null ? _c : cachedPromptTokens;\n                        reasoningTokens = (_e = (_d = value.response.usage.output_tokens_details) == null ? void 0 : _d.reasoning_tokens) != null ? _e : reasoningTokens;\n                    } else if (isResponseAnnotationAddedChunk(value)) {\n                        controller.enqueue({\n                            type: \"source\",\n                            source: {\n                                sourceType: \"url\",\n                                id: (_h = (_g = (_f = self.config).generateId) == null ? void 0 : _g.call(_f)) != null ? _h : (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.generateId)(),\n                                url: value.annotation.url,\n                                title: value.annotation.title\n                            }\n                        });\n                    }\n                },\n                flush (controller) {\n                    controller.enqueue({\n                        type: \"finish\",\n                        finishReason,\n                        usage: {\n                            promptTokens,\n                            completionTokens\n                        },\n                        ...(cachedPromptTokens != null || reasoningTokens != null) && {\n                            providerMetadata: {\n                                openai: {\n                                    responseId,\n                                    cachedPromptTokens,\n                                    reasoningTokens\n                                }\n                            }\n                        }\n                    });\n                }\n            })),\n            rawCall: {\n                rawPrompt: void 0,\n                rawSettings: {}\n            },\n            rawResponse: {\n                headers: responseHeaders\n            },\n            request: {\n                body: JSON.stringify(body)\n            },\n            warnings\n        };\n    }\n};\nvar usageSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    input_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n    input_tokens_details: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        cached_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish()\n    }).nullish(),\n    output_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n    output_tokens_details: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        reasoning_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish()\n    }).nullish()\n});\nvar textDeltaChunkSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"response.output_text.delta\"),\n    delta: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n});\nvar responseFinishedChunkSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    type: zod__WEBPACK_IMPORTED_MODULE_2__.z.enum([\n        \"response.completed\",\n        \"response.incomplete\"\n    ]),\n    response: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        incomplete_details: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n            reason: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n        }).nullish(),\n        usage: usageSchema\n    })\n});\nvar responseCreatedChunkSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"response.created\"),\n    response: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        id: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n        created_at: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n        model: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n    })\n});\nvar responseOutputItemDoneSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"response.output_item.done\"),\n    output_index: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n    item: zod__WEBPACK_IMPORTED_MODULE_2__.z.discriminatedUnion(\"type\", [\n        zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n            type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"message\")\n        }),\n        zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n            type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"function_call\"),\n            id: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n            call_id: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n            name: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n            arguments: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n            status: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"completed\")\n        })\n    ])\n});\nvar responseFunctionCallArgumentsDeltaSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"response.function_call_arguments.delta\"),\n    item_id: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n    output_index: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n    delta: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n});\nvar responseOutputItemAddedSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"response.output_item.added\"),\n    output_index: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n    item: zod__WEBPACK_IMPORTED_MODULE_2__.z.discriminatedUnion(\"type\", [\n        zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n            type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"message\")\n        }),\n        zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n            type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"function_call\"),\n            id: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n            call_id: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n            name: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n            arguments: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n        })\n    ])\n});\nvar responseAnnotationAddedSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"response.output_text.annotation.added\"),\n    annotation: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"url_citation\"),\n        url: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n        title: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n    })\n});\nvar openaiResponsesChunkSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.union([\n    textDeltaChunkSchema,\n    responseFinishedChunkSchema,\n    responseCreatedChunkSchema,\n    responseOutputItemDoneSchema,\n    responseFunctionCallArgumentsDeltaSchema,\n    responseOutputItemAddedSchema,\n    responseAnnotationAddedSchema,\n    zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        type: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n    }).passthrough()\n]);\nfunction isTextDeltaChunk(chunk) {\n    return chunk.type === \"response.output_text.delta\";\n}\nfunction isResponseOutputItemDoneChunk(chunk) {\n    return chunk.type === \"response.output_item.done\";\n}\nfunction isResponseFinishedChunk(chunk) {\n    return chunk.type === \"response.completed\" || chunk.type === \"response.incomplete\";\n}\nfunction isResponseCreatedChunk(chunk) {\n    return chunk.type === \"response.created\";\n}\nfunction isResponseFunctionCallArgumentsDeltaChunk(chunk) {\n    return chunk.type === \"response.function_call_arguments.delta\";\n}\nfunction isResponseOutputItemAddedChunk(chunk) {\n    return chunk.type === \"response.output_item.added\";\n}\nfunction isResponseAnnotationAddedChunk(chunk) {\n    return chunk.type === \"response.output_text.annotation.added\";\n}\nfunction getResponsesModelConfig(modelId) {\n    if (modelId.startsWith(\"o\")) {\n        if (modelId.startsWith(\"o1-mini\") || modelId.startsWith(\"o1-preview\")) {\n            return {\n                isReasoningModel: true,\n                systemMessageMode: \"remove\",\n                requiredAutoTruncation: false\n            };\n        }\n        return {\n            isReasoningModel: true,\n            systemMessageMode: \"developer\",\n            requiredAutoTruncation: false\n        };\n    }\n    return {\n        isReasoningModel: false,\n        systemMessageMode: \"system\",\n        requiredAutoTruncation: false\n    };\n}\nvar openaiResponsesProviderOptionsSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    metadata: zod__WEBPACK_IMPORTED_MODULE_2__.z.any().nullish(),\n    parallelToolCalls: zod__WEBPACK_IMPORTED_MODULE_2__.z.boolean().nullish(),\n    previousResponseId: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n    store: zod__WEBPACK_IMPORTED_MODULE_2__.z.boolean().nullish(),\n    user: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n    reasoningEffort: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n    strictSchemas: zod__WEBPACK_IMPORTED_MODULE_2__.z.boolean().nullish(),\n    instructions: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish()\n});\n// src/openai-tools.ts\n\nvar WebSearchPreviewParameters = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({});\nfunction webSearchPreviewTool({ searchContextSize, userLocation } = {}) {\n    return {\n        type: \"provider-defined\",\n        id: \"openai.web_search_preview\",\n        args: {\n            searchContextSize,\n            userLocation\n        },\n        parameters: WebSearchPreviewParameters\n    };\n}\nvar openaiTools = {\n    webSearchPreview: webSearchPreviewTool\n};\n// src/openai-provider.ts\nfunction createOpenAI(options = {}) {\n    var _a, _b, _c;\n    const baseURL = (_a = (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.withoutTrailingSlash)(options.baseURL)) != null ? _a : \"https://api.openai.com/v1\";\n    const compatibility = (_b = options.compatibility) != null ? _b : \"compatible\";\n    const providerName = (_c = options.name) != null ? _c : \"openai\";\n    const getHeaders = ()=>({\n            Authorization: `Bearer ${(0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.loadApiKey)({\n                apiKey: options.apiKey,\n                environmentVariableName: \"OPENAI_API_KEY\",\n                description: \"OpenAI\"\n            })}`,\n            \"OpenAI-Organization\": options.organization,\n            \"OpenAI-Project\": options.project,\n            ...options.headers\n        });\n    const createChatModel = (modelId, settings = {})=>new OpenAIChatLanguageModel(modelId, settings, {\n            provider: `${providerName}.chat`,\n            url: ({ path })=>`${baseURL}${path}`,\n            headers: getHeaders,\n            compatibility,\n            fetch: options.fetch\n        });\n    const createCompletionModel = (modelId, settings = {})=>new OpenAICompletionLanguageModel(modelId, settings, {\n            provider: `${providerName}.completion`,\n            url: ({ path })=>`${baseURL}${path}`,\n            headers: getHeaders,\n            compatibility,\n            fetch: options.fetch\n        });\n    const createEmbeddingModel = (modelId, settings = {})=>new OpenAIEmbeddingModel(modelId, settings, {\n            provider: `${providerName}.embedding`,\n            url: ({ path })=>`${baseURL}${path}`,\n            headers: getHeaders,\n            fetch: options.fetch\n        });\n    const createImageModel = (modelId, settings = {})=>new OpenAIImageModel(modelId, settings, {\n            provider: `${providerName}.image`,\n            url: ({ path })=>`${baseURL}${path}`,\n            headers: getHeaders,\n            fetch: options.fetch\n        });\n    const createLanguageModel = (modelId, settings)=>{\n        if (new.target) {\n            throw new Error(\"The OpenAI model function cannot be called with the new keyword.\");\n        }\n        if (modelId === \"gpt-3.5-turbo-instruct\") {\n            return createCompletionModel(modelId, settings);\n        }\n        return createChatModel(modelId, settings);\n    };\n    const createResponsesModel = (modelId)=>{\n        return new OpenAIResponsesLanguageModel(modelId, {\n            provider: `${providerName}.responses`,\n            url: ({ path })=>`${baseURL}${path}`,\n            headers: getHeaders,\n            fetch: options.fetch\n        });\n    };\n    const provider = function(modelId, settings) {\n        return createLanguageModel(modelId, settings);\n    };\n    provider.languageModel = createLanguageModel;\n    provider.chat = createChatModel;\n    provider.completion = createCompletionModel;\n    provider.responses = createResponsesModel;\n    provider.embedding = createEmbeddingModel;\n    provider.textEmbedding = createEmbeddingModel;\n    provider.textEmbeddingModel = createEmbeddingModel;\n    provider.image = createImageModel;\n    provider.imageModel = createImageModel;\n    provider.tools = openaiTools;\n    return provider;\n}\nvar openai = createOpenAI({\n    compatibility: \"strict\"\n});\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFpLXNkay9vcGVuYWkvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSx5QkFBeUI7QUFJTztBQUVoQyxvQ0FBb0M7QUFJVjtBQVFNO0FBQ0Y7QUFFOUIseUNBQXlDO0FBR2Y7QUFDeUM7QUFDbkUsU0FBU2MsNEJBQTRCLEVBQ25DQyxNQUFNLEVBQ05DLDJCQUEyQixLQUFLLEVBQ2hDQyxvQkFBb0IsUUFBUSxFQUM3QjtJQUNDLE1BQU1DLFdBQVcsRUFBRTtJQUNuQixNQUFNQyxXQUFXLEVBQUU7SUFDbkIsS0FBSyxNQUFNLEVBQUVDLElBQUksRUFBRUMsT0FBTyxFQUFFLElBQUlOLE9BQVE7UUFDdEMsT0FBUUs7WUFDTixLQUFLO2dCQUFVO29CQUNiLE9BQVFIO3dCQUNOLEtBQUs7NEJBQVU7Z0NBQ2JDLFNBQVNJLElBQUksQ0FBQztvQ0FBRUYsTUFBTTtvQ0FBVUM7Z0NBQVE7Z0NBQ3hDOzRCQUNGO3dCQUNBLEtBQUs7NEJBQWE7Z0NBQ2hCSCxTQUFTSSxJQUFJLENBQUM7b0NBQUVGLE1BQU07b0NBQWFDO2dDQUFRO2dDQUMzQzs0QkFDRjt3QkFDQSxLQUFLOzRCQUFVO2dDQUNiRixTQUFTRyxJQUFJLENBQUM7b0NBQ1pDLE1BQU07b0NBQ05DLFNBQVM7Z0NBQ1g7Z0NBQ0E7NEJBQ0Y7d0JBQ0E7NEJBQVM7Z0NBQ1AsTUFBTUMsbUJBQW1CUjtnQ0FDekIsTUFBTSxJQUFJUyxNQUNSLENBQUMsaUNBQWlDLEVBQUVELGlCQUFpQixDQUFDOzRCQUUxRDtvQkFDRjtvQkFDQTtnQkFDRjtZQUNBLEtBQUs7Z0JBQVE7b0JBQ1gsSUFBSUosUUFBUU0sTUFBTSxLQUFLLEtBQUtOLE9BQU8sQ0FBQyxFQUFFLENBQUNFLElBQUksS0FBSyxRQUFRO3dCQUN0REwsU0FBU0ksSUFBSSxDQUFDOzRCQUFFRixNQUFNOzRCQUFRQyxTQUFTQSxPQUFPLENBQUMsRUFBRSxDQUFDTyxJQUFJO3dCQUFDO3dCQUN2RDtvQkFD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Ly4vbm9kZV9tb2R1bGVzL0BhaS1zZGsvb3BlbmFpL2Rpc3QvaW5kZXgubWpzP2VlNDMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL29wZW5haS1wcm92aWRlci50c1xuaW1wb3J0IHtcbiAgbG9hZEFwaUtleSxcbiAgd2l0aG91dFRyYWlsaW5nU2xhc2hcbn0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXItdXRpbHNcIjtcblxuLy8gc3JjL29wZW5haS1jaGF0LWxhbmd1YWdlLW1vZGVsLnRzXG5pbXBvcnQge1xuICBJbnZhbGlkUmVzcG9uc2VEYXRhRXJyb3IsXG4gIFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yIGFzIFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yM1xufSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuaW1wb3J0IHtcbiAgY29tYmluZUhlYWRlcnMsXG4gIGNyZWF0ZUV2ZW50U291cmNlUmVzcG9uc2VIYW5kbGVyLFxuICBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyLFxuICBnZW5lcmF0ZUlkLFxuICBpc1BhcnNhYmxlSnNvbixcbiAgcG9zdEpzb25Ub0FwaVxufSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuaW1wb3J0IHsgeiBhcyB6MiB9IGZyb20gXCJ6b2RcIjtcblxuLy8gc3JjL2NvbnZlcnQtdG8tb3BlbmFpLWNoYXQtbWVzc2FnZXMudHNcbmltcG9ydCB7XG4gIFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yXG59IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5pbXBvcnQgeyBjb252ZXJ0VWludDhBcnJheVRvQmFzZTY0IH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXItdXRpbHNcIjtcbmZ1bmN0aW9uIGNvbnZlcnRUb09wZW5BSUNoYXRNZXNzYWdlcyh7XG4gIHByb21wdCxcbiAgdXNlTGVnYWN5RnVuY3Rpb25DYWxsaW5nID0gZmFsc2UsXG4gIHN5c3RlbU1lc3NhZ2VNb2RlID0gXCJzeXN0ZW1cIlxufSkge1xuICBjb25zdCBtZXNzYWdlcyA9IFtdO1xuICBjb25zdCB3YXJuaW5ncyA9IFtdO1xuICBmb3IgKGNvbnN0IHsgcm9sZSwgY29udGVudCB9IG9mIHByb21wdCkge1xuICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgY2FzZSBcInN5c3RlbVwiOiB7XG4gICAgICAgIHN3aXRjaCAoc3lzdGVtTWVzc2FnZU1vZGUpIHtcbiAgICAgICAgICBjYXNlIFwic3lzdGVtXCI6IHtcbiAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2goeyByb2xlOiBcInN5c3RlbVwiLCBjb250ZW50IH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJkZXZlbG9wZXJcIjoge1xuICAgICAgICAgICAgbWVzc2FnZXMucHVzaCh7IHJvbGU6IFwiZGV2ZWxvcGVyXCIsIGNvbnRlbnQgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgICAgICAgICAgdHlwZTogXCJvdGhlclwiLFxuICAgICAgICAgICAgICBtZXNzYWdlOiBcInN5c3RlbSBtZXNzYWdlcyBhcmUgcmVtb3ZlZCBmb3IgdGhpcyBtb2RlbFwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrID0gc3lzdGVtTWVzc2FnZU1vZGU7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIGBVbnN1cHBvcnRlZCBzeXN0ZW0gbWVzc2FnZSBtb2RlOiAke19leGhhdXN0aXZlQ2hlY2t9YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwidXNlclwiOiB7XG4gICAgICAgIGlmIChjb250ZW50Lmxlbmd0aCA9PT0gMSAmJiBjb250ZW50WzBdLnR5cGUgPT09IFwidGV4dFwiKSB7XG4gICAgICAgICAgbWVzc2FnZXMucHVzaCh7IHJvbGU6IFwidXNlclwiLCBjb250ZW50OiBjb250ZW50WzBdLnRleHQgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICAgICAgY29udGVudDogY29udGVudC5tYXAoKHBhcnQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgICAgICBzd2l0Y2ggKHBhcnQudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIFwidGV4dFwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IHBhcnQudGV4dCB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhc2UgXCJpbWFnZVwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwiaW1hZ2VfdXJsXCIsXG4gICAgICAgICAgICAgICAgICBpbWFnZV91cmw6IHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBwYXJ0LmltYWdlIGluc3RhbmNlb2YgVVJMID8gcGFydC5pbWFnZS50b1N0cmluZygpIDogYGRhdGE6JHsoX2EgPSBwYXJ0Lm1pbWVUeXBlKSAhPSBudWxsID8gX2EgOiBcImltYWdlL2pwZWdcIn07YmFzZTY0LCR7Y29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NChwYXJ0LmltYWdlKX1gLFxuICAgICAgICAgICAgICAgICAgICAvLyBPcGVuQUkgc3BlY2lmaWMgZXh0ZW5zaW9uOiBpbWFnZSBkZXRhaWxcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiAoX2MgPSAoX2IgPSBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfYi5vcGVuYWkpID09IG51bGwgPyB2b2lkIDAgOiBfYy5pbWFnZURldGFpbFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY2FzZSBcImZpbGVcIjoge1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0LmRhdGEgaW5zdGFuY2VvZiBVUkwpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uYWxpdHk6IFwiJ0ZpbGUgY29udGVudCBwYXJ0cyB3aXRoIFVSTCBkYXRhJyBmdW5jdGlvbmFsaXR5IG5vdCBzdXBwb3J0ZWQuXCJcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHBhcnQubWltZVR5cGUpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJhdWRpby93YXZcIjoge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiaW5wdXRfYXVkaW9cIixcbiAgICAgICAgICAgICAgICAgICAgICBpbnB1dF9hdWRpbzogeyBkYXRhOiBwYXJ0LmRhdGEsIGZvcm1hdDogXCJ3YXZcIiB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiYXVkaW8vbXAzXCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiYXVkaW8vbXBlZ1wiOiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJpbnB1dF9hdWRpb1wiLFxuICAgICAgICAgICAgICAgICAgICAgIGlucHV0X2F1ZGlvOiB7IGRhdGE6IHBhcnQuZGF0YSwgZm9ybWF0OiBcIm1wM1wiIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJhcHBsaWNhdGlvbi9wZGZcIjoge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZmlsZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGZpbGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOiAoX2QgPSBwYXJ0LmZpbGVuYW1lKSAhPSBudWxsID8gX2QgOiBgcGFydC0ke2luZGV4fS5wZGZgLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9kYXRhOiBgZGF0YTphcHBsaWNhdGlvbi9wZGY7YmFzZTY0LCR7cGFydC5kYXRhfWBcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25hbGl0eTogYEZpbGUgY29udGVudCBwYXJ0IHR5cGUgJHtwYXJ0Lm1pbWVUeXBlfSBpbiB1c2VyIG1lc3NhZ2VzYFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiYXNzaXN0YW50XCI6IHtcbiAgICAgICAgbGV0IHRleHQgPSBcIlwiO1xuICAgICAgICBjb25zdCB0b29sQ2FsbHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIGNvbnRlbnQpIHtcbiAgICAgICAgICBzd2l0Y2ggKHBhcnQudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcInRleHRcIjoge1xuICAgICAgICAgICAgICB0ZXh0ICs9IHBhcnQudGV4dDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vbC1jYWxsXCI6IHtcbiAgICAgICAgICAgICAgdG9vbENhbGxzLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkOiBwYXJ0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBwYXJ0LnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgYXJndW1lbnRzOiBKU09OLnN0cmluZ2lmeShwYXJ0LmFyZ3MpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh1c2VMZWdhY3lGdW5jdGlvbkNhbGxpbmcpIHtcbiAgICAgICAgICBpZiAodG9vbENhbGxzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcih7XG4gICAgICAgICAgICAgIGZ1bmN0aW9uYWxpdHk6IFwidXNlTGVnYWN5RnVuY3Rpb25DYWxsaW5nIHdpdGggbXVsdGlwbGUgdG9vbCBjYWxscyBpbiBvbmUgbWVzc2FnZVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICAgICAgY29udGVudDogdGV4dCxcbiAgICAgICAgICAgIGZ1bmN0aW9uX2NhbGw6IHRvb2xDYWxscy5sZW5ndGggPiAwID8gdG9vbENhbGxzWzBdLmZ1bmN0aW9uIDogdm9pZCAwXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICAgICAgY29udGVudDogdGV4dCxcbiAgICAgICAgICAgIHRvb2xfY2FsbHM6IHRvb2xDYWxscy5sZW5ndGggPiAwID8gdG9vbENhbGxzIDogdm9pZCAwXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwidG9vbFwiOiB7XG4gICAgICAgIGZvciAoY29uc3QgdG9vbFJlc3BvbnNlIG9mIGNvbnRlbnQpIHtcbiAgICAgICAgICBpZiAodXNlTGVnYWN5RnVuY3Rpb25DYWxsaW5nKSB7XG4gICAgICAgICAgICBtZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgcm9sZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgICBuYW1lOiB0b29sUmVzcG9uc2UudG9vbE5hbWUsXG4gICAgICAgICAgICAgIGNvbnRlbnQ6IEpTT04uc3RyaW5naWZ5KHRvb2xSZXNwb25zZS5yZXN1bHQpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICAgIHJvbGU6IFwidG9vbFwiLFxuICAgICAgICAgICAgICB0b29sX2NhbGxfaWQ6IHRvb2xSZXNwb25zZS50b29sQ2FsbElkLFxuICAgICAgICAgICAgICBjb250ZW50OiBKU09OLnN0cmluZ2lmeSh0b29sUmVzcG9uc2UucmVzdWx0KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrID0gcm9sZTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCByb2xlOiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB7IG1lc3NhZ2VzLCB3YXJuaW5ncyB9O1xufVxuXG4vLyBzcmMvbWFwLW9wZW5haS1jaGF0LWxvZ3Byb2JzLnRzXG5mdW5jdGlvbiBtYXBPcGVuQUlDaGF0TG9nUHJvYnNPdXRwdXQobG9ncHJvYnMpIHtcbiAgdmFyIF9hLCBfYjtcbiAgcmV0dXJuIChfYiA9IChfYSA9IGxvZ3Byb2JzID09IG51bGwgPyB2b2lkIDAgOiBsb2dwcm9icy5jb250ZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EubWFwKCh7IHRva2VuLCBsb2dwcm9iLCB0b3BfbG9ncHJvYnMgfSkgPT4gKHtcbiAgICB0b2tlbixcbiAgICBsb2dwcm9iLFxuICAgIHRvcExvZ3Byb2JzOiB0b3BfbG9ncHJvYnMgPyB0b3BfbG9ncHJvYnMubWFwKCh7IHRva2VuOiB0b2tlbjIsIGxvZ3Byb2I6IGxvZ3Byb2IyIH0pID0+ICh7XG4gICAgICB0b2tlbjogdG9rZW4yLFxuICAgICAgbG9ncHJvYjogbG9ncHJvYjJcbiAgICB9KSkgOiBbXVxuICB9KSkpICE9IG51bGwgPyBfYiA6IHZvaWQgMDtcbn1cblxuLy8gc3JjL21hcC1vcGVuYWktZmluaXNoLXJlYXNvbi50c1xuZnVuY3Rpb24gbWFwT3BlbkFJRmluaXNoUmVhc29uKGZpbmlzaFJlYXNvbikge1xuICBzd2l0Y2ggKGZpbmlzaFJlYXNvbikge1xuICAgIGNhc2UgXCJzdG9wXCI6XG4gICAgICByZXR1cm4gXCJzdG9wXCI7XG4gICAgY2FzZSBcImxlbmd0aFwiOlxuICAgICAgcmV0dXJuIFwibGVuZ3RoXCI7XG4gICAgY2FzZSBcImNvbnRlbnRfZmlsdGVyXCI6XG4gICAgICByZXR1cm4gXCJjb250ZW50LWZpbHRlclwiO1xuICAgIGNhc2UgXCJmdW5jdGlvbl9jYWxsXCI6XG4gICAgY2FzZSBcInRvb2xfY2FsbHNcIjpcbiAgICAgIHJldHVybiBcInRvb2wtY2FsbHNcIjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFwidW5rbm93blwiO1xuICB9XG59XG5cbi8vIHNyYy9vcGVuYWktZXJyb3IudHNcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQgeyBjcmVhdGVKc29uRXJyb3JSZXNwb25zZUhhbmRsZXIgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xudmFyIG9wZW5haUVycm9yRGF0YVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgZXJyb3I6IHoub2JqZWN0KHtcbiAgICBtZXNzYWdlOiB6LnN0cmluZygpLFxuICAgIC8vIFRoZSBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGJlbG93IGlzIGhhbmRsZWQgbG9vc2VseSB0byBzdXBwb3J0XG4gICAgLy8gT3BlbkFJLWNvbXBhdGlibGUgcHJvdmlkZXJzIHRoYXQgaGF2ZSBzbGlnaHRseSBkaWZmZXJlbnQgZXJyb3JcbiAgICAvLyByZXNwb25zZXM6XG4gICAgdHlwZTogei5zdHJpbmcoKS5udWxsaXNoKCksXG4gICAgcGFyYW06IHouYW55KCkubnVsbGlzaCgpLFxuICAgIGNvZGU6IHoudW5pb24oW3ouc3RyaW5nKCksIHoubnVtYmVyKCldKS5udWxsaXNoKClcbiAgfSlcbn0pO1xudmFyIG9wZW5haUZhaWxlZFJlc3BvbnNlSGFuZGxlciA9IGNyZWF0ZUpzb25FcnJvclJlc3BvbnNlSGFuZGxlcih7XG4gIGVycm9yU2NoZW1hOiBvcGVuYWlFcnJvckRhdGFTY2hlbWEsXG4gIGVycm9yVG9NZXNzYWdlOiAoZGF0YSkgPT4gZGF0YS5lcnJvci5tZXNzYWdlXG59KTtcblxuLy8gc3JjL2dldC1yZXNwb25zZS1tZXRhZGF0YS50c1xuZnVuY3Rpb24gZ2V0UmVzcG9uc2VNZXRhZGF0YSh7XG4gIGlkLFxuICBtb2RlbCxcbiAgY3JlYXRlZFxufSkge1xuICByZXR1cm4ge1xuICAgIGlkOiBpZCAhPSBudWxsID8gaWQgOiB2b2lkIDAsXG4gICAgbW9kZWxJZDogbW9kZWwgIT0gbnVsbCA/IG1vZGVsIDogdm9pZCAwLFxuICAgIHRpbWVzdGFtcDogY3JlYXRlZCAhPSBudWxsID8gbmV3IERhdGUoY3JlYXRlZCAqIDFlMykgOiB2b2lkIDBcbiAgfTtcbn1cblxuLy8gc3JjL29wZW5haS1wcmVwYXJlLXRvb2xzLnRzXG5pbXBvcnQge1xuICBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvciBhcyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcjJcbn0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbmZ1bmN0aW9uIHByZXBhcmVUb29scyh7XG4gIG1vZGUsXG4gIHVzZUxlZ2FjeUZ1bmN0aW9uQ2FsbGluZyA9IGZhbHNlLFxuICBzdHJ1Y3R1cmVkT3V0cHV0c1xufSkge1xuICB2YXIgX2E7XG4gIGNvbnN0IHRvb2xzID0gKChfYSA9IG1vZGUudG9vbHMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5sZW5ndGgpID8gbW9kZS50b29scyA6IHZvaWQgMDtcbiAgY29uc3QgdG9vbFdhcm5pbmdzID0gW107XG4gIGlmICh0b29scyA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHsgdG9vbHM6IHZvaWQgMCwgdG9vbF9jaG9pY2U6IHZvaWQgMCwgdG9vbFdhcm5pbmdzIH07XG4gIH1cbiAgY29uc3QgdG9vbENob2ljZSA9IG1vZGUudG9vbENob2ljZTtcbiAgaWYgKHVzZUxlZ2FjeUZ1bmN0aW9uQ2FsbGluZykge1xuICAgIGNvbnN0IG9wZW5haUZ1bmN0aW9ucyA9IFtdO1xuICAgIGZvciAoY29uc3QgdG9vbCBvZiB0b29scykge1xuICAgICAgaWYgKHRvb2wudHlwZSA9PT0gXCJwcm92aWRlci1kZWZpbmVkXCIpIHtcbiAgICAgICAgdG9vbFdhcm5pbmdzLnB1c2goeyB0eXBlOiBcInVuc3VwcG9ydGVkLXRvb2xcIiwgdG9vbCB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wZW5haUZ1bmN0aW9ucy5wdXNoKHtcbiAgICAgICAgICBuYW1lOiB0b29sLm5hbWUsXG4gICAgICAgICAgZGVzY3JpcHRpb246IHRvb2wuZGVzY3JpcHRpb24sXG4gICAgICAgICAgcGFyYW1ldGVyczogdG9vbC5wYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodG9vbENob2ljZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBmdW5jdGlvbnM6IG9wZW5haUZ1bmN0aW9ucyxcbiAgICAgICAgZnVuY3Rpb25fY2FsbDogdm9pZCAwLFxuICAgICAgICB0b29sV2FybmluZ3NcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHR5cGUyID0gdG9vbENob2ljZS50eXBlO1xuICAgIHN3aXRjaCAodHlwZTIpIHtcbiAgICAgIGNhc2UgXCJhdXRvXCI6XG4gICAgICBjYXNlIFwibm9uZVwiOlxuICAgICAgY2FzZSB2b2lkIDA6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZnVuY3Rpb25zOiBvcGVuYWlGdW5jdGlvbnMsXG4gICAgICAgICAgZnVuY3Rpb25fY2FsbDogdm9pZCAwLFxuICAgICAgICAgIHRvb2xXYXJuaW5nc1xuICAgICAgICB9O1xuICAgICAgY2FzZSBcInJlcXVpcmVkXCI6XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcjIoe1xuICAgICAgICAgIGZ1bmN0aW9uYWxpdHk6IFwidXNlTGVnYWN5RnVuY3Rpb25DYWxsaW5nIGFuZCB0b29sQ2hvaWNlOiByZXF1aXJlZFwiXG4gICAgICAgIH0pO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBmdW5jdGlvbnM6IG9wZW5haUZ1bmN0aW9ucyxcbiAgICAgICAgICBmdW5jdGlvbl9jYWxsOiB7IG5hbWU6IHRvb2xDaG9pY2UudG9vbE5hbWUgfSxcbiAgICAgICAgICB0b29sV2FybmluZ3NcbiAgICAgICAgfTtcbiAgICB9XG4gIH1cbiAgY29uc3Qgb3BlbmFpVG9vbHMyID0gW107XG4gIGZvciAoY29uc3QgdG9vbCBvZiB0b29scykge1xuICAgIGlmICh0b29sLnR5cGUgPT09IFwicHJvdmlkZXItZGVmaW5lZFwiKSB7XG4gICAgICB0b29sV2FybmluZ3MucHVzaCh7IHR5cGU6IFwidW5zdXBwb3J0ZWQtdG9vbFwiLCB0b29sIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcGVuYWlUb29sczIucHVzaCh7XG4gICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgZnVuY3Rpb246IHtcbiAgICAgICAgICBuYW1lOiB0b29sLm5hbWUsXG4gICAgICAgICAgZGVzY3JpcHRpb246IHRvb2wuZGVzY3JpcHRpb24sXG4gICAgICAgICAgcGFyYW1ldGVyczogdG9vbC5wYXJhbWV0ZXJzLFxuICAgICAgICAgIHN0cmljdDogc3RydWN0dXJlZE91dHB1dHMgPyB0cnVlIDogdm9pZCAwXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBpZiAodG9vbENob2ljZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHsgdG9vbHM6IG9wZW5haVRvb2xzMiwgdG9vbF9jaG9pY2U6IHZvaWQgMCwgdG9vbFdhcm5pbmdzIH07XG4gIH1cbiAgY29uc3QgdHlwZSA9IHRvb2xDaG9pY2UudHlwZTtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBcImF1dG9cIjpcbiAgICBjYXNlIFwibm9uZVwiOlxuICAgIGNhc2UgXCJyZXF1aXJlZFwiOlxuICAgICAgcmV0dXJuIHsgdG9vbHM6IG9wZW5haVRvb2xzMiwgdG9vbF9jaG9pY2U6IHR5cGUsIHRvb2xXYXJuaW5ncyB9O1xuICAgIGNhc2UgXCJ0b29sXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b29sczogb3BlbmFpVG9vbHMyLFxuICAgICAgICB0b29sX2Nob2ljZToge1xuICAgICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICBmdW5jdGlvbjoge1xuICAgICAgICAgICAgbmFtZTogdG9vbENob2ljZS50b29sTmFtZVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdG9vbFdhcm5pbmdzXG4gICAgICB9O1xuICAgIGRlZmF1bHQ6IHtcbiAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2sgPSB0eXBlO1xuICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yMih7XG4gICAgICAgIGZ1bmN0aW9uYWxpdHk6IGBVbnN1cHBvcnRlZCB0b29sIGNob2ljZSB0eXBlOiAke19leGhhdXN0aXZlQ2hlY2t9YFxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cbi8vIHNyYy9vcGVuYWktY2hhdC1sYW5ndWFnZS1tb2RlbC50c1xudmFyIE9wZW5BSUNoYXRMYW5ndWFnZU1vZGVsID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihtb2RlbElkLCBzZXR0aW5ncywgY29uZmlnKSB7XG4gICAgdGhpcy5zcGVjaWZpY2F0aW9uVmVyc2lvbiA9IFwidjFcIjtcbiAgICB0aGlzLm1vZGVsSWQgPSBtb2RlbElkO1xuICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgfVxuICBnZXQgc3VwcG9ydHNTdHJ1Y3R1cmVkT3V0cHV0cygpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChfYSA9IHRoaXMuc2V0dGluZ3Muc3RydWN0dXJlZE91dHB1dHMpICE9IG51bGwgPyBfYSA6IGlzUmVhc29uaW5nTW9kZWwodGhpcy5tb2RlbElkKTtcbiAgfVxuICBnZXQgZGVmYXVsdE9iamVjdEdlbmVyYXRpb25Nb2RlKCkge1xuICAgIGlmIChpc0F1ZGlvTW9kZWwodGhpcy5tb2RlbElkKSkge1xuICAgICAgcmV0dXJuIFwidG9vbFwiO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdXBwb3J0c1N0cnVjdHVyZWRPdXRwdXRzID8gXCJqc29uXCIgOiBcInRvb2xcIjtcbiAgfVxuICBnZXQgcHJvdmlkZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLnByb3ZpZGVyO1xuICB9XG4gIGdldCBzdXBwb3J0c0ltYWdlVXJscygpIHtcbiAgICByZXR1cm4gIXRoaXMuc2V0dGluZ3MuZG93bmxvYWRJbWFnZXM7XG4gIH1cbiAgZ2V0QXJncyh7XG4gICAgbW9kZSxcbiAgICBwcm9tcHQsXG4gICAgbWF4VG9rZW5zLFxuICAgIHRlbXBlcmF0dXJlLFxuICAgIHRvcFAsXG4gICAgdG9wSyxcbiAgICBmcmVxdWVuY3lQZW5hbHR5LFxuICAgIHByZXNlbmNlUGVuYWx0eSxcbiAgICBzdG9wU2VxdWVuY2VzLFxuICAgIHJlc3BvbnNlRm9ybWF0LFxuICAgIHNlZWQsXG4gICAgcHJvdmlkZXJNZXRhZGF0YVxuICB9KSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaDtcbiAgICBjb25zdCB0eXBlID0gbW9kZS50eXBlO1xuICAgIGNvbnN0IHdhcm5pbmdzID0gW107XG4gICAgaWYgKHRvcEsgIT0gbnVsbCkge1xuICAgICAgd2FybmluZ3MucHVzaCh7XG4gICAgICAgIHR5cGU6IFwidW5zdXBwb3J0ZWQtc2V0dGluZ1wiLFxuICAgICAgICBzZXR0aW5nOiBcInRvcEtcIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICgocmVzcG9uc2VGb3JtYXQgPT0gbnVsbCA/IHZvaWQgMCA6IHJlc3BvbnNlRm9ybWF0LnR5cGUpID09PSBcImpzb25cIiAmJiByZXNwb25zZUZvcm1hdC5zY2hlbWEgIT0gbnVsbCAmJiAhdGhpcy5zdXBwb3J0c1N0cnVjdHVyZWRPdXRwdXRzKSB7XG4gICAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgICAgdHlwZTogXCJ1bnN1cHBvcnRlZC1zZXR0aW5nXCIsXG4gICAgICAgIHNldHRpbmc6IFwicmVzcG9uc2VGb3JtYXRcIixcbiAgICAgICAgZGV0YWlsczogXCJKU09OIHJlc3BvbnNlIGZvcm1hdCBzY2hlbWEgaXMgb25seSBzdXBwb3J0ZWQgd2l0aCBzdHJ1Y3R1cmVkT3V0cHV0c1wiXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgdXNlTGVnYWN5RnVuY3Rpb25DYWxsaW5nID0gdGhpcy5zZXR0aW5ncy51c2VMZWdhY3lGdW5jdGlvbkNhbGxpbmc7XG4gICAgaWYgKHVzZUxlZ2FjeUZ1bmN0aW9uQ2FsbGluZyAmJiB0aGlzLnNldHRpbmdzLnBhcmFsbGVsVG9vbENhbGxzID09PSB0cnVlKSB7XG4gICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3IzKHtcbiAgICAgICAgZnVuY3Rpb25hbGl0eTogXCJ1c2VMZWdhY3lGdW5jdGlvbkNhbGxpbmcgd2l0aCBwYXJhbGxlbFRvb2xDYWxsc1wiXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHVzZUxlZ2FjeUZ1bmN0aW9uQ2FsbGluZyAmJiB0aGlzLnN1cHBvcnRzU3RydWN0dXJlZE91dHB1dHMpIHtcbiAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcjMoe1xuICAgICAgICBmdW5jdGlvbmFsaXR5OiBcInN0cnVjdHVyZWRPdXRwdXRzIHdpdGggdXNlTGVnYWN5RnVuY3Rpb25DYWxsaW5nXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCB7IG1lc3NhZ2VzLCB3YXJuaW5nczogbWVzc2FnZVdhcm5pbmdzIH0gPSBjb252ZXJ0VG9PcGVuQUlDaGF0TWVzc2FnZXMoXG4gICAgICB7XG4gICAgICAgIHByb21wdCxcbiAgICAgICAgdXNlTGVnYWN5RnVuY3Rpb25DYWxsaW5nLFxuICAgICAgICBzeXN0ZW1NZXNzYWdlTW9kZTogZ2V0U3lzdGVtTWVzc2FnZU1vZGUodGhpcy5tb2RlbElkKVxuICAgICAgfVxuICAgICk7XG4gICAgd2FybmluZ3MucHVzaCguLi5tZXNzYWdlV2FybmluZ3MpO1xuICAgIGNvbnN0IGJhc2VBcmdzID0ge1xuICAgICAgLy8gbW9kZWwgaWQ6XG4gICAgICBtb2RlbDogdGhpcy5tb2RlbElkLFxuICAgICAgLy8gbW9kZWwgc3BlY2lmaWMgc2V0dGluZ3M6XG4gICAgICBsb2dpdF9iaWFzOiB0aGlzLnNldHRpbmdzLmxvZ2l0QmlhcyxcbiAgICAgIGxvZ3Byb2JzOiB0aGlzLnNldHRpbmdzLmxvZ3Byb2JzID09PSB0cnVlIHx8IHR5cGVvZiB0aGlzLnNldHRpbmdzLmxvZ3Byb2JzID09PSBcIm51bWJlclwiID8gdHJ1ZSA6IHZvaWQgMCxcbiAgICAgIHRvcF9sb2dwcm9iczogdHlwZW9mIHRoaXMuc2V0dGluZ3MubG9ncHJvYnMgPT09IFwibnVtYmVyXCIgPyB0aGlzLnNldHRpbmdzLmxvZ3Byb2JzIDogdHlwZW9mIHRoaXMuc2V0dGluZ3MubG9ncHJvYnMgPT09IFwiYm9vbGVhblwiID8gdGhpcy5zZXR0aW5ncy5sb2dwcm9icyA/IDAgOiB2b2lkIDAgOiB2b2lkIDAsXG4gICAgICB1c2VyOiB0aGlzLnNldHRpbmdzLnVzZXIsXG4gICAgICBwYXJhbGxlbF90b29sX2NhbGxzOiB0aGlzLnNldHRpbmdzLnBhcmFsbGVsVG9vbENhbGxzLFxuICAgICAgLy8gc3RhbmRhcmRpemVkIHNldHRpbmdzOlxuICAgICAgbWF4X3Rva2VuczogbWF4VG9rZW5zLFxuICAgICAgdGVtcGVyYXR1cmUsXG4gICAgICB0b3BfcDogdG9wUCxcbiAgICAgIGZyZXF1ZW5jeV9wZW5hbHR5OiBmcmVxdWVuY3lQZW5hbHR5LFxuICAgICAgcHJlc2VuY2VfcGVuYWx0eTogcHJlc2VuY2VQZW5hbHR5LFxuICAgICAgcmVzcG9uc2VfZm9ybWF0OiAocmVzcG9uc2VGb3JtYXQgPT0gbnVsbCA/IHZvaWQgMCA6IHJlc3BvbnNlRm9ybWF0LnR5cGUpID09PSBcImpzb25cIiA/IHRoaXMuc3VwcG9ydHNTdHJ1Y3R1cmVkT3V0cHV0cyAmJiByZXNwb25zZUZvcm1hdC5zY2hlbWEgIT0gbnVsbCA/IHtcbiAgICAgICAgdHlwZTogXCJqc29uX3NjaGVtYVwiLFxuICAgICAgICBqc29uX3NjaGVtYToge1xuICAgICAgICAgIHNjaGVtYTogcmVzcG9uc2VGb3JtYXQuc2NoZW1hLFxuICAgICAgICAgIHN0cmljdDogdHJ1ZSxcbiAgICAgICAgICBuYW1lOiAoX2EgPSByZXNwb25zZUZvcm1hdC5uYW1lKSAhPSBudWxsID8gX2EgOiBcInJlc3BvbnNlXCIsXG4gICAgICAgICAgZGVzY3JpcHRpb246IHJlc3BvbnNlRm9ybWF0LmRlc2NyaXB0aW9uXG4gICAgICAgIH1cbiAgICAgIH0gOiB7IHR5cGU6IFwianNvbl9vYmplY3RcIiB9IDogdm9pZCAwLFxuICAgICAgc3RvcDogc3RvcFNlcXVlbmNlcyxcbiAgICAgIHNlZWQsXG4gICAgICAvLyBvcGVuYWkgc3BlY2lmaWMgc2V0dGluZ3M6XG4gICAgICAvLyBUT0RPIHJlbW92ZSBpbiBuZXh0IG1ham9yIHZlcnNpb247IHdlIGF1dG8tbWFwIG1heFRva2VucyBub3dcbiAgICAgIG1heF9jb21wbGV0aW9uX3Rva2VuczogKF9iID0gcHJvdmlkZXJNZXRhZGF0YSA9PSBudWxsID8gdm9pZCAwIDogcHJvdmlkZXJNZXRhZGF0YS5vcGVuYWkpID09IG51bGwgPyB2b2lkIDAgOiBfYi5tYXhDb21wbGV0aW9uVG9rZW5zLFxuICAgICAgc3RvcmU6IChfYyA9IHByb3ZpZGVyTWV0YWRhdGEgPT0gbnVsbCA/IHZvaWQgMCA6IHByb3ZpZGVyTWV0YWRhdGEub3BlbmFpKSA9PSBudWxsID8gdm9pZCAwIDogX2Muc3RvcmUsXG4gICAgICBtZXRhZGF0YTogKF9kID0gcHJvdmlkZXJNZXRhZGF0YSA9PSBudWxsID8gdm9pZCAwIDogcHJvdmlkZXJNZXRhZGF0YS5vcGVuYWkpID09IG51bGwgPyB2b2lkIDAgOiBfZC5tZXRhZGF0YSxcbiAgICAgIHByZWRpY3Rpb246IChfZSA9IHByb3ZpZGVyTWV0YWRhdGEgPT0gbnVsbCA/IHZvaWQgMCA6IHByb3ZpZGVyTWV0YWRhdGEub3BlbmFpKSA9PSBudWxsID8gdm9pZCAwIDogX2UucHJlZGljdGlvbixcbiAgICAgIHJlYXNvbmluZ19lZmZvcnQ6IChfZyA9IChfZiA9IHByb3ZpZGVyTWV0YWRhdGEgPT0gbnVsbCA/IHZvaWQgMCA6IHByb3ZpZGVyTWV0YWRhdGEub3BlbmFpKSA9PSBudWxsID8gdm9pZCAwIDogX2YucmVhc29uaW5nRWZmb3J0KSAhPSBudWxsID8gX2cgOiB0aGlzLnNldHRpbmdzLnJlYXNvbmluZ0VmZm9ydCxcbiAgICAgIC8vIG1lc3NhZ2VzOlxuICAgICAgbWVzc2FnZXNcbiAgICB9O1xuICAgIGlmIChpc1JlYXNvbmluZ01vZGVsKHRoaXMubW9kZWxJZCkpIHtcbiAgICAgIGlmIChiYXNlQXJncy50ZW1wZXJhdHVyZSAhPSBudWxsKSB7XG4gICAgICAgIGJhc2VBcmdzLnRlbXBlcmF0dXJlID0gdm9pZCAwO1xuICAgICAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiBcInVuc3VwcG9ydGVkLXNldHRpbmdcIixcbiAgICAgICAgICBzZXR0aW5nOiBcInRlbXBlcmF0dXJlXCIsXG4gICAgICAgICAgZGV0YWlsczogXCJ0ZW1wZXJhdHVyZSBpcyBub3Qgc3VwcG9ydGVkIGZvciByZWFzb25pbmcgbW9kZWxzXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoYmFzZUFyZ3MudG9wX3AgIT0gbnVsbCkge1xuICAgICAgICBiYXNlQXJncy50b3BfcCA9IHZvaWQgMDtcbiAgICAgICAgd2FybmluZ3MucHVzaCh7XG4gICAgICAgICAgdHlwZTogXCJ1bnN1cHBvcnRlZC1zZXR0aW5nXCIsXG4gICAgICAgICAgc2V0dGluZzogXCJ0b3BQXCIsXG4gICAgICAgICAgZGV0YWlsczogXCJ0b3BQIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIHJlYXNvbmluZyBtb2RlbHNcIlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChiYXNlQXJncy5mcmVxdWVuY3lfcGVuYWx0eSAhPSBudWxsKSB7XG4gICAgICAgIGJhc2VBcmdzLmZyZXF1ZW5jeV9wZW5hbHR5ID0gdm9pZCAwO1xuICAgICAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiBcInVuc3VwcG9ydGVkLXNldHRpbmdcIixcbiAgICAgICAgICBzZXR0aW5nOiBcImZyZXF1ZW5jeVBlbmFsdHlcIixcbiAgICAgICAgICBkZXRhaWxzOiBcImZyZXF1ZW5jeVBlbmFsdHkgaXMgbm90IHN1cHBvcnRlZCBmb3IgcmVhc29uaW5nIG1vZGVsc1wiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKGJhc2VBcmdzLnByZXNlbmNlX3BlbmFsdHkgIT0gbnVsbCkge1xuICAgICAgICBiYXNlQXJncy5wcmVzZW5jZV9wZW5hbHR5ID0gdm9pZCAwO1xuICAgICAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiBcInVuc3VwcG9ydGVkLXNldHRpbmdcIixcbiAgICAgICAgICBzZXR0aW5nOiBcInByZXNlbmNlUGVuYWx0eVwiLFxuICAgICAgICAgIGRldGFpbHM6IFwicHJlc2VuY2VQZW5hbHR5IGlzIG5vdCBzdXBwb3J0ZWQgZm9yIHJlYXNvbmluZyBtb2RlbHNcIlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChiYXNlQXJncy5sb2dpdF9iaWFzICE9IG51bGwpIHtcbiAgICAgICAgYmFzZUFyZ3MubG9naXRfYmlhcyA9IHZvaWQgMDtcbiAgICAgICAgd2FybmluZ3MucHVzaCh7XG4gICAgICAgICAgdHlwZTogXCJvdGhlclwiLFxuICAgICAgICAgIG1lc3NhZ2U6IFwibG9naXRCaWFzIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIHJlYXNvbmluZyBtb2RlbHNcIlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChiYXNlQXJncy5sb2dwcm9icyAhPSBudWxsKSB7XG4gICAgICAgIGJhc2VBcmdzLmxvZ3Byb2JzID0gdm9pZCAwO1xuICAgICAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiBcIm90aGVyXCIsXG4gICAgICAgICAgbWVzc2FnZTogXCJsb2dwcm9icyBpcyBub3Qgc3VwcG9ydGVkIGZvciByZWFzb25pbmcgbW9kZWxzXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoYmFzZUFyZ3MudG9wX2xvZ3Byb2JzICE9IG51bGwpIHtcbiAgICAgICAgYmFzZUFyZ3MudG9wX2xvZ3Byb2JzID0gdm9pZCAwO1xuICAgICAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiBcIm90aGVyXCIsXG4gICAgICAgICAgbWVzc2FnZTogXCJ0b3BMb2dwcm9icyBpcyBub3Qgc3VwcG9ydGVkIGZvciByZWFzb25pbmcgbW9kZWxzXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoYmFzZUFyZ3MubWF4X3Rva2VucyAhPSBudWxsKSB7XG4gICAgICAgIGlmIChiYXNlQXJncy5tYXhfY29tcGxldGlvbl90b2tlbnMgPT0gbnVsbCkge1xuICAgICAgICAgIGJhc2VBcmdzLm1heF9jb21wbGV0aW9uX3Rva2VucyA9IGJhc2VBcmdzLm1heF90b2tlbnM7XG4gICAgICAgIH1cbiAgICAgICAgYmFzZUFyZ3MubWF4X3Rva2VucyA9IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwicmVndWxhclwiOiB7XG4gICAgICAgIGNvbnN0IHsgdG9vbHMsIHRvb2xfY2hvaWNlLCBmdW5jdGlvbnMsIGZ1bmN0aW9uX2NhbGwsIHRvb2xXYXJuaW5ncyB9ID0gcHJlcGFyZVRvb2xzKHtcbiAgICAgICAgICBtb2RlLFxuICAgICAgICAgIHVzZUxlZ2FjeUZ1bmN0aW9uQ2FsbGluZyxcbiAgICAgICAgICBzdHJ1Y3R1cmVkT3V0cHV0czogdGhpcy5zdXBwb3J0c1N0cnVjdHVyZWRPdXRwdXRzXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFyZ3M6IHtcbiAgICAgICAgICAgIC4uLmJhc2VBcmdzLFxuICAgICAgICAgICAgdG9vbHMsXG4gICAgICAgICAgICB0b29sX2Nob2ljZSxcbiAgICAgICAgICAgIGZ1bmN0aW9ucyxcbiAgICAgICAgICAgIGZ1bmN0aW9uX2NhbGxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHdhcm5pbmdzOiBbLi4ud2FybmluZ3MsIC4uLnRvb2xXYXJuaW5nc11cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJvYmplY3QtanNvblwiOiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYXJnczoge1xuICAgICAgICAgICAgLi4uYmFzZUFyZ3MsXG4gICAgICAgICAgICByZXNwb25zZV9mb3JtYXQ6IHRoaXMuc3VwcG9ydHNTdHJ1Y3R1cmVkT3V0cHV0cyAmJiBtb2RlLnNjaGVtYSAhPSBudWxsID8ge1xuICAgICAgICAgICAgICB0eXBlOiBcImpzb25fc2NoZW1hXCIsXG4gICAgICAgICAgICAgIGpzb25fc2NoZW1hOiB7XG4gICAgICAgICAgICAgICAgc2NoZW1hOiBtb2RlLnNjaGVtYSxcbiAgICAgICAgICAgICAgICBzdHJpY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogKF9oID0gbW9kZS5uYW1lKSAhPSBudWxsID8gX2ggOiBcInJlc3BvbnNlXCIsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IG1vZGUuZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSA6IHsgdHlwZTogXCJqc29uX29iamVjdFwiIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHdhcm5pbmdzXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBjYXNlIFwib2JqZWN0LXRvb2xcIjoge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFyZ3M6IHVzZUxlZ2FjeUZ1bmN0aW9uQ2FsbGluZyA/IHtcbiAgICAgICAgICAgIC4uLmJhc2VBcmdzLFxuICAgICAgICAgICAgZnVuY3Rpb25fY2FsbDoge1xuICAgICAgICAgICAgICBuYW1lOiBtb2RlLnRvb2wubmFtZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uczogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogbW9kZS50b29sLm5hbWUsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IG1vZGUudG9vbC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiBtb2RlLnRvb2wucGFyYW1ldGVyc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAgfSA6IHtcbiAgICAgICAgICAgIC4uLmJhc2VBcmdzLFxuICAgICAgICAgICAgdG9vbF9jaG9pY2U6IHtcbiAgICAgICAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgICBmdW5jdGlvbjogeyBuYW1lOiBtb2RlLnRvb2wubmFtZSB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG9vbHM6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICAgICAgICBmdW5jdGlvbjoge1xuICAgICAgICAgICAgICAgICAgbmFtZTogbW9kZS50b29sLm5hbWUsXG4gICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogbW9kZS50b29sLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyczogbW9kZS50b29sLnBhcmFtZXRlcnMsXG4gICAgICAgICAgICAgICAgICBzdHJpY3Q6IHRoaXMuc3VwcG9ydHNTdHJ1Y3R1cmVkT3V0cHV0cyA/IHRydWUgOiB2b2lkIDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHdhcm5pbmdzXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2sgPSB0eXBlO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHR5cGU6ICR7X2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgYXN5bmMgZG9HZW5lcmF0ZShvcHRpb25zKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaDtcbiAgICBjb25zdCB7IGFyZ3M6IGJvZHksIHdhcm5pbmdzIH0gPSB0aGlzLmdldEFyZ3Mob3B0aW9ucyk7XG4gICAgY29uc3Qge1xuICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgdmFsdWU6IHJlc3BvbnNlLFxuICAgICAgcmF3VmFsdWU6IHJhd1Jlc3BvbnNlXG4gICAgfSA9IGF3YWl0IHBvc3RKc29uVG9BcGkoe1xuICAgICAgdXJsOiB0aGlzLmNvbmZpZy51cmwoe1xuICAgICAgICBwYXRoOiBcIi9jaGF0L2NvbXBsZXRpb25zXCIsXG4gICAgICAgIG1vZGVsSWQ6IHRoaXMubW9kZWxJZFxuICAgICAgfSksXG4gICAgICBoZWFkZXJzOiBjb21iaW5lSGVhZGVycyh0aGlzLmNvbmZpZy5oZWFkZXJzKCksIG9wdGlvbnMuaGVhZGVycyksXG4gICAgICBib2R5LFxuICAgICAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyOiBvcGVuYWlGYWlsZWRSZXNwb25zZUhhbmRsZXIsXG4gICAgICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyOiBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyKFxuICAgICAgICBvcGVuYWlDaGF0UmVzcG9uc2VTY2hlbWFcbiAgICAgICksXG4gICAgICBhYm9ydFNpZ25hbDogb3B0aW9ucy5hYm9ydFNpZ25hbCxcbiAgICAgIGZldGNoOiB0aGlzLmNvbmZpZy5mZXRjaFxuICAgIH0pO1xuICAgIGNvbnN0IHsgbWVzc2FnZXM6IHJhd1Byb21wdCwgLi4ucmF3U2V0dGluZ3MgfSA9IGJvZHk7XG4gICAgY29uc3QgY2hvaWNlID0gcmVzcG9uc2UuY2hvaWNlc1swXTtcbiAgICBjb25zdCBjb21wbGV0aW9uVG9rZW5EZXRhaWxzID0gKF9hID0gcmVzcG9uc2UudXNhZ2UpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jb21wbGV0aW9uX3Rva2Vuc19kZXRhaWxzO1xuICAgIGNvbnN0IHByb21wdFRva2VuRGV0YWlscyA9IChfYiA9IHJlc3BvbnNlLnVzYWdlKSA9PSBudWxsID8gdm9pZCAwIDogX2IucHJvbXB0X3Rva2Vuc19kZXRhaWxzO1xuICAgIGNvbnN0IHByb3ZpZGVyTWV0YWRhdGEgPSB7IG9wZW5haToge30gfTtcbiAgICBpZiAoKGNvbXBsZXRpb25Ub2tlbkRldGFpbHMgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbXBsZXRpb25Ub2tlbkRldGFpbHMucmVhc29uaW5nX3Rva2VucykgIT0gbnVsbCkge1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YS5vcGVuYWkucmVhc29uaW5nVG9rZW5zID0gY29tcGxldGlvblRva2VuRGV0YWlscyA9PSBudWxsID8gdm9pZCAwIDogY29tcGxldGlvblRva2VuRGV0YWlscy5yZWFzb25pbmdfdG9rZW5zO1xuICAgIH1cbiAgICBpZiAoKGNvbXBsZXRpb25Ub2tlbkRldGFpbHMgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbXBsZXRpb25Ub2tlbkRldGFpbHMuYWNjZXB0ZWRfcHJlZGljdGlvbl90b2tlbnMpICE9IG51bGwpIHtcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGEub3BlbmFpLmFjY2VwdGVkUHJlZGljdGlvblRva2VucyA9IGNvbXBsZXRpb25Ub2tlbkRldGFpbHMgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbXBsZXRpb25Ub2tlbkRldGFpbHMuYWNjZXB0ZWRfcHJlZGljdGlvbl90b2tlbnM7XG4gICAgfVxuICAgIGlmICgoY29tcGxldGlvblRva2VuRGV0YWlscyA9PSBudWxsID8gdm9pZCAwIDogY29tcGxldGlvblRva2VuRGV0YWlscy5yZWplY3RlZF9wcmVkaWN0aW9uX3Rva2VucykgIT0gbnVsbCkge1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YS5vcGVuYWkucmVqZWN0ZWRQcmVkaWN0aW9uVG9rZW5zID0gY29tcGxldGlvblRva2VuRGV0YWlscyA9PSBudWxsID8gdm9pZCAwIDogY29tcGxldGlvblRva2VuRGV0YWlscy5yZWplY3RlZF9wcmVkaWN0aW9uX3Rva2VucztcbiAgICB9XG4gICAgaWYgKChwcm9tcHRUb2tlbkRldGFpbHMgPT0gbnVsbCA/IHZvaWQgMCA6IHByb21wdFRva2VuRGV0YWlscy5jYWNoZWRfdG9rZW5zKSAhPSBudWxsKSB7XG4gICAgICBwcm92aWRlck1ldGFkYXRhLm9wZW5haS5jYWNoZWRQcm9tcHRUb2tlbnMgPSBwcm9tcHRUb2tlbkRldGFpbHMgPT0gbnVsbCA/IHZvaWQgMCA6IHByb21wdFRva2VuRGV0YWlscy5jYWNoZWRfdG9rZW5zO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdGV4dDogKF9jID0gY2hvaWNlLm1lc3NhZ2UuY29udGVudCkgIT0gbnVsbCA/IF9jIDogdm9pZCAwLFxuICAgICAgdG9vbENhbGxzOiB0aGlzLnNldHRpbmdzLnVzZUxlZ2FjeUZ1bmN0aW9uQ2FsbGluZyAmJiBjaG9pY2UubWVzc2FnZS5mdW5jdGlvbl9jYWxsID8gW1xuICAgICAgICB7XG4gICAgICAgICAgdG9vbENhbGxUeXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgdG9vbENhbGxJZDogZ2VuZXJhdGVJZCgpLFxuICAgICAgICAgIHRvb2xOYW1lOiBjaG9pY2UubWVzc2FnZS5mdW5jdGlvbl9jYWxsLm5hbWUsXG4gICAgICAgICAgYXJnczogY2hvaWNlLm1lc3NhZ2UuZnVuY3Rpb25fY2FsbC5hcmd1bWVudHNcbiAgICAgICAgfVxuICAgICAgXSA6IChfZCA9IGNob2ljZS5tZXNzYWdlLnRvb2xfY2FsbHMpID09IG51bGwgPyB2b2lkIDAgOiBfZC5tYXAoKHRvb2xDYWxsKSA9PiB7XG4gICAgICAgIHZhciBfYTI7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdG9vbENhbGxUeXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgdG9vbENhbGxJZDogKF9hMiA9IHRvb2xDYWxsLmlkKSAhPSBudWxsID8gX2EyIDogZ2VuZXJhdGVJZCgpLFxuICAgICAgICAgIHRvb2xOYW1lOiB0b29sQ2FsbC5mdW5jdGlvbi5uYW1lLFxuICAgICAgICAgIGFyZ3M6IHRvb2xDYWxsLmZ1bmN0aW9uLmFyZ3VtZW50c1xuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgICBmaW5pc2hSZWFzb246IG1hcE9wZW5BSUZpbmlzaFJlYXNvbihjaG9pY2UuZmluaXNoX3JlYXNvbiksXG4gICAgICB1c2FnZToge1xuICAgICAgICBwcm9tcHRUb2tlbnM6IChfZiA9IChfZSA9IHJlc3BvbnNlLnVzYWdlKSA9PSBudWxsID8gdm9pZCAwIDogX2UucHJvbXB0X3Rva2VucykgIT0gbnVsbCA/IF9mIDogTmFOLFxuICAgICAgICBjb21wbGV0aW9uVG9rZW5zOiAoX2ggPSAoX2cgPSByZXNwb25zZS51c2FnZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9nLmNvbXBsZXRpb25fdG9rZW5zKSAhPSBudWxsID8gX2ggOiBOYU5cbiAgICAgIH0sXG4gICAgICByYXdDYWxsOiB7IHJhd1Byb21wdCwgcmF3U2V0dGluZ3MgfSxcbiAgICAgIHJhd1Jlc3BvbnNlOiB7IGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycywgYm9keTogcmF3UmVzcG9uc2UgfSxcbiAgICAgIHJlcXVlc3Q6IHsgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSkgfSxcbiAgICAgIHJlc3BvbnNlOiBnZXRSZXNwb25zZU1ldGFkYXRhKHJlc3BvbnNlKSxcbiAgICAgIHdhcm5pbmdzLFxuICAgICAgbG9ncHJvYnM6IG1hcE9wZW5BSUNoYXRMb2dQcm9ic091dHB1dChjaG9pY2UubG9ncHJvYnMpLFxuICAgICAgcHJvdmlkZXJNZXRhZGF0YVxuICAgIH07XG4gIH1cbiAgYXN5bmMgZG9TdHJlYW0ob3B0aW9ucykge1xuICAgIGlmICh0aGlzLnNldHRpbmdzLnNpbXVsYXRlU3RyZWFtaW5nKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRvR2VuZXJhdGUob3B0aW9ucyk7XG4gICAgICBjb25zdCBzaW11bGF0ZWRTdHJlYW0gPSBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgICAgICBzdGFydChjb250cm9sbGVyKSB7XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogXCJyZXNwb25zZS1tZXRhZGF0YVwiLCAuLi5yZXN1bHQucmVzcG9uc2UgfSk7XG4gICAgICAgICAgaWYgKHJlc3VsdC50ZXh0KSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICB0eXBlOiBcInRleHQtZGVsdGFcIixcbiAgICAgICAgICAgICAgdGV4dERlbHRhOiByZXN1bHQudGV4dFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyZXN1bHQudG9vbENhbGxzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRvb2xDYWxsIG9mIHJlc3VsdC50b29sQ2FsbHMpIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRvb2wtY2FsbC1kZWx0YVwiLFxuICAgICAgICAgICAgICAgIHRvb2xDYWxsVHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHRvb2xDYWxsLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgdG9vbE5hbWU6IHRvb2xDYWxsLnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgIGFyZ3NUZXh0RGVsdGE6IHRvb2xDYWxsLmFyZ3NcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0b29sLWNhbGxcIixcbiAgICAgICAgICAgICAgICAuLi50b29sQ2FsbFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgIHR5cGU6IFwiZmluaXNoXCIsXG4gICAgICAgICAgICBmaW5pc2hSZWFzb246IHJlc3VsdC5maW5pc2hSZWFzb24sXG4gICAgICAgICAgICB1c2FnZTogcmVzdWx0LnVzYWdlLFxuICAgICAgICAgICAgbG9ncHJvYnM6IHJlc3VsdC5sb2dwcm9icyxcbiAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IHJlc3VsdC5wcm92aWRlck1ldGFkYXRhXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0cmVhbTogc2ltdWxhdGVkU3RyZWFtLFxuICAgICAgICByYXdDYWxsOiByZXN1bHQucmF3Q2FsbCxcbiAgICAgICAgcmF3UmVzcG9uc2U6IHJlc3VsdC5yYXdSZXNwb25zZSxcbiAgICAgICAgd2FybmluZ3M6IHJlc3VsdC53YXJuaW5nc1xuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgeyBhcmdzLCB3YXJuaW5ncyB9ID0gdGhpcy5nZXRBcmdzKG9wdGlvbnMpO1xuICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAuLi5hcmdzLFxuICAgICAgc3RyZWFtOiB0cnVlLFxuICAgICAgLy8gb25seSBpbmNsdWRlIHN0cmVhbV9vcHRpb25zIHdoZW4gaW4gc3RyaWN0IGNvbXBhdGliaWxpdHkgbW9kZTpcbiAgICAgIHN0cmVhbV9vcHRpb25zOiB0aGlzLmNvbmZpZy5jb21wYXRpYmlsaXR5ID09PSBcInN0cmljdFwiID8geyBpbmNsdWRlX3VzYWdlOiB0cnVlIH0gOiB2b2lkIDBcbiAgICB9O1xuICAgIGNvbnN0IHsgcmVzcG9uc2VIZWFkZXJzLCB2YWx1ZTogcmVzcG9uc2UgfSA9IGF3YWl0IHBvc3RKc29uVG9BcGkoe1xuICAgICAgdXJsOiB0aGlzLmNvbmZpZy51cmwoe1xuICAgICAgICBwYXRoOiBcIi9jaGF0L2NvbXBsZXRpb25zXCIsXG4gICAgICAgIG1vZGVsSWQ6IHRoaXMubW9kZWxJZFxuICAgICAgfSksXG4gICAgICBoZWFkZXJzOiBjb21iaW5lSGVhZGVycyh0aGlzLmNvbmZpZy5oZWFkZXJzKCksIG9wdGlvbnMuaGVhZGVycyksXG4gICAgICBib2R5LFxuICAgICAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyOiBvcGVuYWlGYWlsZWRSZXNwb25zZUhhbmRsZXIsXG4gICAgICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyOiBjcmVhdGVFdmVudFNvdXJjZVJlc3BvbnNlSGFuZGxlcihcbiAgICAgICAgb3BlbmFpQ2hhdENodW5rU2NoZW1hXG4gICAgICApLFxuICAgICAgYWJvcnRTaWduYWw6IG9wdGlvbnMuYWJvcnRTaWduYWwsXG4gICAgICBmZXRjaDogdGhpcy5jb25maWcuZmV0Y2hcbiAgICB9KTtcbiAgICBjb25zdCB7IG1lc3NhZ2VzOiByYXdQcm9tcHQsIC4uLnJhd1NldHRpbmdzIH0gPSBhcmdzO1xuICAgIGNvbnN0IHRvb2xDYWxscyA9IFtdO1xuICAgIGxldCBmaW5pc2hSZWFzb24gPSBcInVua25vd25cIjtcbiAgICBsZXQgdXNhZ2UgPSB7XG4gICAgICBwcm9tcHRUb2tlbnM6IHZvaWQgMCxcbiAgICAgIGNvbXBsZXRpb25Ub2tlbnM6IHZvaWQgMFxuICAgIH07XG4gICAgbGV0IGxvZ3Byb2JzO1xuICAgIGxldCBpc0ZpcnN0Q2h1bmsgPSB0cnVlO1xuICAgIGNvbnN0IHsgdXNlTGVnYWN5RnVuY3Rpb25DYWxsaW5nIH0gPSB0aGlzLnNldHRpbmdzO1xuICAgIGNvbnN0IHByb3ZpZGVyTWV0YWRhdGEgPSB7IG9wZW5haToge30gfTtcbiAgICByZXR1cm4ge1xuICAgICAgc3RyZWFtOiByZXNwb25zZS5waXBlVGhyb3VnaChcbiAgICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbSh7XG4gICAgICAgICAgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaSwgX2osIF9rLCBfbDtcbiAgICAgICAgICAgIGlmICghY2h1bmsuc3VjY2Vzcykge1xuICAgICAgICAgICAgICBmaW5pc2hSZWFzb24gPSBcImVycm9yXCI7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6IFwiZXJyb3JcIiwgZXJyb3I6IGNodW5rLmVycm9yIH0pO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGNodW5rLnZhbHVlO1xuICAgICAgICAgICAgaWYgKFwiZXJyb3JcIiBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgICBmaW5pc2hSZWFzb24gPSBcImVycm9yXCI7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6IFwiZXJyb3JcIiwgZXJyb3I6IHZhbHVlLmVycm9yIH0pO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNGaXJzdENodW5rKSB7XG4gICAgICAgICAgICAgIGlzRmlyc3RDaHVuayA9IGZhbHNlO1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwicmVzcG9uc2UtbWV0YWRhdGFcIixcbiAgICAgICAgICAgICAgICAuLi5nZXRSZXNwb25zZU1ldGFkYXRhKHZhbHVlKVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZS51c2FnZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICBwcm9tcHRfdG9rZW5zLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRpb25fdG9rZW5zLFxuICAgICAgICAgICAgICAgIHByb21wdF90b2tlbnNfZGV0YWlscyxcbiAgICAgICAgICAgICAgICBjb21wbGV0aW9uX3Rva2Vuc19kZXRhaWxzXG4gICAgICAgICAgICAgIH0gPSB2YWx1ZS51c2FnZTtcbiAgICAgICAgICAgICAgdXNhZ2UgPSB7XG4gICAgICAgICAgICAgICAgcHJvbXB0VG9rZW5zOiBwcm9tcHRfdG9rZW5zICE9IG51bGwgPyBwcm9tcHRfdG9rZW5zIDogdm9pZCAwLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRpb25Ub2tlbnM6IGNvbXBsZXRpb25fdG9rZW5zICE9IG51bGwgPyBjb21wbGV0aW9uX3Rva2VucyA6IHZvaWQgMFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBpZiAoKGNvbXBsZXRpb25fdG9rZW5zX2RldGFpbHMgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbXBsZXRpb25fdG9rZW5zX2RldGFpbHMucmVhc29uaW5nX3Rva2VucykgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGEub3BlbmFpLnJlYXNvbmluZ1Rva2VucyA9IGNvbXBsZXRpb25fdG9rZW5zX2RldGFpbHMgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbXBsZXRpb25fdG9rZW5zX2RldGFpbHMucmVhc29uaW5nX3Rva2VucztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoKGNvbXBsZXRpb25fdG9rZW5zX2RldGFpbHMgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbXBsZXRpb25fdG9rZW5zX2RldGFpbHMuYWNjZXB0ZWRfcHJlZGljdGlvbl90b2tlbnMpICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhLm9wZW5haS5hY2NlcHRlZFByZWRpY3Rpb25Ub2tlbnMgPSBjb21wbGV0aW9uX3Rva2Vuc19kZXRhaWxzID09IG51bGwgPyB2b2lkIDAgOiBjb21wbGV0aW9uX3Rva2Vuc19kZXRhaWxzLmFjY2VwdGVkX3ByZWRpY3Rpb25fdG9rZW5zO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICgoY29tcGxldGlvbl90b2tlbnNfZGV0YWlscyA9PSBudWxsID8gdm9pZCAwIDogY29tcGxldGlvbl90b2tlbnNfZGV0YWlscy5yZWplY3RlZF9wcmVkaWN0aW9uX3Rva2VucykgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGEub3BlbmFpLnJlamVjdGVkUHJlZGljdGlvblRva2VucyA9IGNvbXBsZXRpb25fdG9rZW5zX2RldGFpbHMgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbXBsZXRpb25fdG9rZW5zX2RldGFpbHMucmVqZWN0ZWRfcHJlZGljdGlvbl90b2tlbnM7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKChwcm9tcHRfdG9rZW5zX2RldGFpbHMgPT0gbnVsbCA/IHZvaWQgMCA6IHByb21wdF90b2tlbnNfZGV0YWlscy5jYWNoZWRfdG9rZW5zKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YS5vcGVuYWkuY2FjaGVkUHJvbXB0VG9rZW5zID0gcHJvbXB0X3Rva2Vuc19kZXRhaWxzID09IG51bGwgPyB2b2lkIDAgOiBwcm9tcHRfdG9rZW5zX2RldGFpbHMuY2FjaGVkX3Rva2VucztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2hvaWNlID0gdmFsdWUuY2hvaWNlc1swXTtcbiAgICAgICAgICAgIGlmICgoY2hvaWNlID09IG51bGwgPyB2b2lkIDAgOiBjaG9pY2UuZmluaXNoX3JlYXNvbikgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBmaW5pc2hSZWFzb24gPSBtYXBPcGVuQUlGaW5pc2hSZWFzb24oY2hvaWNlLmZpbmlzaF9yZWFzb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChjaG9pY2UgPT0gbnVsbCA/IHZvaWQgMCA6IGNob2ljZS5kZWx0YSkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkZWx0YSA9IGNob2ljZS5kZWx0YTtcbiAgICAgICAgICAgIGlmIChkZWx0YS5jb250ZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRleHQtZGVsdGFcIixcbiAgICAgICAgICAgICAgICB0ZXh0RGVsdGE6IGRlbHRhLmNvbnRlbnRcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtYXBwZWRMb2dwcm9icyA9IG1hcE9wZW5BSUNoYXRMb2dQcm9ic091dHB1dChcbiAgICAgICAgICAgICAgY2hvaWNlID09IG51bGwgPyB2b2lkIDAgOiBjaG9pY2UubG9ncHJvYnNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAobWFwcGVkTG9ncHJvYnMgPT0gbnVsbCA/IHZvaWQgMCA6IG1hcHBlZExvZ3Byb2JzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBpZiAobG9ncHJvYnMgPT09IHZvaWQgMCkgbG9ncHJvYnMgPSBbXTtcbiAgICAgICAgICAgICAgbG9ncHJvYnMucHVzaCguLi5tYXBwZWRMb2dwcm9icyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtYXBwZWRUb29sQ2FsbHMgPSB1c2VMZWdhY3lGdW5jdGlvbkNhbGxpbmcgJiYgZGVsdGEuZnVuY3Rpb25fY2FsbCAhPSBudWxsID8gW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgICAgIGlkOiBnZW5lcmF0ZUlkKCksXG4gICAgICAgICAgICAgICAgZnVuY3Rpb246IGRlbHRhLmZ1bmN0aW9uX2NhbGwsXG4gICAgICAgICAgICAgICAgaW5kZXg6IDBcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSA6IGRlbHRhLnRvb2xfY2FsbHM7XG4gICAgICAgICAgICBpZiAobWFwcGVkVG9vbENhbGxzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCB0b29sQ2FsbERlbHRhIG9mIG1hcHBlZFRvb2xDYWxscykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdG9vbENhbGxEZWx0YS5pbmRleDtcbiAgICAgICAgICAgICAgICBpZiAodG9vbENhbGxzW2luZGV4XSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICBpZiAodG9vbENhbGxEZWx0YS50eXBlICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRSZXNwb25zZURhdGFFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgZGF0YTogdG9vbENhbGxEZWx0YSxcbiAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgRXhwZWN0ZWQgJ2Z1bmN0aW9uJyB0eXBlLmBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAodG9vbENhbGxEZWx0YS5pZCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkUmVzcG9uc2VEYXRhRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHRvb2xDYWxsRGVsdGEsXG4gICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYEV4cGVjdGVkICdpZCcgdG8gYmUgYSBzdHJpbmcuYFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmICgoKF9hID0gdG9vbENhbGxEZWx0YS5mdW5jdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLm5hbWUpID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRSZXNwb25zZURhdGFFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgZGF0YTogdG9vbENhbGxEZWx0YSxcbiAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgRXhwZWN0ZWQgJ2Z1bmN0aW9uLm5hbWUnIHRvIGJlIGEgc3RyaW5nLmBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbHNbaW5kZXhdID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogdG9vbENhbGxEZWx0YS5pZCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRvb2xDYWxsRGVsdGEuZnVuY3Rpb24ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHM6IChfYiA9IHRvb2xDYWxsRGVsdGEuZnVuY3Rpb24uYXJndW1lbnRzKSAhPSBudWxsID8gX2IgOiBcIlwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGhhc0ZpbmlzaGVkOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xDYWxsMiA9IHRvb2xDYWxsc1tpbmRleF07XG4gICAgICAgICAgICAgICAgICBpZiAoKChfYyA9IHRvb2xDYWxsMi5mdW5jdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLm5hbWUpICE9IG51bGwgJiYgKChfZCA9IHRvb2xDYWxsMi5mdW5jdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLmFyZ3VtZW50cykgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9vbENhbGwyLmZ1bmN0aW9uLmFyZ3VtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwidG9vbC1jYWxsLWRlbHRhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbFR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHRvb2xDYWxsMi5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiB0b29sQ2FsbDIuZnVuY3Rpb24ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NUZXh0RGVsdGE6IHRvb2xDYWxsMi5mdW5jdGlvbi5hcmd1bWVudHNcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNQYXJzYWJsZUpzb24odG9vbENhbGwyLmZ1bmN0aW9uLmFyZ3VtZW50cykpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJ0b29sLWNhbGxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsVHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogKF9lID0gdG9vbENhbGwyLmlkKSAhPSBudWxsID8gX2UgOiBnZW5lcmF0ZUlkKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sTmFtZTogdG9vbENhbGwyLmZ1bmN0aW9uLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzOiB0b29sQ2FsbDIuZnVuY3Rpb24uYXJndW1lbnRzXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgdG9vbENhbGwyLmhhc0ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xDYWxsID0gdG9vbENhbGxzW2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAodG9vbENhbGwuaGFzRmluaXNoZWQpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKChfZiA9IHRvb2xDYWxsRGVsdGEuZnVuY3Rpb24pID09IG51bGwgPyB2b2lkIDAgOiBfZi5hcmd1bWVudHMpICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsLmZ1bmN0aW9uLmFyZ3VtZW50cyArPSAoX2ggPSAoX2cgPSB0b29sQ2FsbERlbHRhLmZ1bmN0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogX2cuYXJndW1lbnRzKSAhPSBudWxsID8gX2ggOiBcIlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgdHlwZTogXCJ0b29sLWNhbGwtZGVsdGFcIixcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsVHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogdG9vbENhbGwuaWQsXG4gICAgICAgICAgICAgICAgICB0b29sTmFtZTogdG9vbENhbGwuZnVuY3Rpb24ubmFtZSxcbiAgICAgICAgICAgICAgICAgIGFyZ3NUZXh0RGVsdGE6IChfaSA9IHRvb2xDYWxsRGVsdGEuZnVuY3Rpb24uYXJndW1lbnRzKSAhPSBudWxsID8gX2kgOiBcIlwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCgoX2ogPSB0b29sQ2FsbC5mdW5jdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9qLm5hbWUpICE9IG51bGwgJiYgKChfayA9IHRvb2xDYWxsLmZ1bmN0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogX2suYXJndW1lbnRzKSAhPSBudWxsICYmIGlzUGFyc2FibGVKc29uKHRvb2xDYWxsLmZ1bmN0aW9uLmFyZ3VtZW50cykpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwidG9vbC1jYWxsXCIsXG4gICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsVHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiAoX2wgPSB0b29sQ2FsbC5pZCkgIT0gbnVsbCA/IF9sIDogZ2VuZXJhdGVJZCgpLFxuICAgICAgICAgICAgICAgICAgICB0b29sTmFtZTogdG9vbENhbGwuZnVuY3Rpb24ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgYXJnczogdG9vbENhbGwuZnVuY3Rpb24uYXJndW1lbnRzXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsLmhhc0ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGZsdXNoKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICB0eXBlOiBcImZpbmlzaFwiLFxuICAgICAgICAgICAgICBmaW5pc2hSZWFzb24sXG4gICAgICAgICAgICAgIGxvZ3Byb2JzLFxuICAgICAgICAgICAgICB1c2FnZToge1xuICAgICAgICAgICAgICAgIHByb21wdFRva2VuczogKF9hID0gdXNhZ2UucHJvbXB0VG9rZW5zKSAhPSBudWxsID8gX2EgOiBOYU4sXG4gICAgICAgICAgICAgICAgY29tcGxldGlvblRva2VuczogKF9iID0gdXNhZ2UuY29tcGxldGlvblRva2VucykgIT0gbnVsbCA/IF9iIDogTmFOXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIC4uLnByb3ZpZGVyTWV0YWRhdGEgIT0gbnVsbCA/IHsgcHJvdmlkZXJNZXRhZGF0YSB9IDoge31cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICksXG4gICAgICByYXdDYWxsOiB7IHJhd1Byb21wdCwgcmF3U2V0dGluZ3MgfSxcbiAgICAgIHJhd1Jlc3BvbnNlOiB7IGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyB9LFxuICAgICAgcmVxdWVzdDogeyBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSB9LFxuICAgICAgd2FybmluZ3NcbiAgICB9O1xuICB9XG59O1xudmFyIG9wZW5haVRva2VuVXNhZ2VTY2hlbWEgPSB6Mi5vYmplY3Qoe1xuICBwcm9tcHRfdG9rZW5zOiB6Mi5udW1iZXIoKS5udWxsaXNoKCksXG4gIGNvbXBsZXRpb25fdG9rZW5zOiB6Mi5udW1iZXIoKS5udWxsaXNoKCksXG4gIHByb21wdF90b2tlbnNfZGV0YWlsczogejIub2JqZWN0KHtcbiAgICBjYWNoZWRfdG9rZW5zOiB6Mi5udW1iZXIoKS5udWxsaXNoKClcbiAgfSkubnVsbGlzaCgpLFxuICBjb21wbGV0aW9uX3Rva2Vuc19kZXRhaWxzOiB6Mi5vYmplY3Qoe1xuICAgIHJlYXNvbmluZ190b2tlbnM6IHoyLm51bWJlcigpLm51bGxpc2goKSxcbiAgICBhY2NlcHRlZF9wcmVkaWN0aW9uX3Rva2VuczogejIubnVtYmVyKCkubnVsbGlzaCgpLFxuICAgIHJlamVjdGVkX3ByZWRpY3Rpb25fdG9rZW5zOiB6Mi5udW1iZXIoKS5udWxsaXNoKClcbiAgfSkubnVsbGlzaCgpXG59KS5udWxsaXNoKCk7XG52YXIgb3BlbmFpQ2hhdFJlc3BvbnNlU2NoZW1hID0gejIub2JqZWN0KHtcbiAgaWQ6IHoyLnN0cmluZygpLm51bGxpc2goKSxcbiAgY3JlYXRlZDogejIubnVtYmVyKCkubnVsbGlzaCgpLFxuICBtb2RlbDogejIuc3RyaW5nKCkubnVsbGlzaCgpLFxuICBjaG9pY2VzOiB6Mi5hcnJheShcbiAgICB6Mi5vYmplY3Qoe1xuICAgICAgbWVzc2FnZTogejIub2JqZWN0KHtcbiAgICAgICAgcm9sZTogejIubGl0ZXJhbChcImFzc2lzdGFudFwiKS5udWxsaXNoKCksXG4gICAgICAgIGNvbnRlbnQ6IHoyLnN0cmluZygpLm51bGxpc2goKSxcbiAgICAgICAgZnVuY3Rpb25fY2FsbDogejIub2JqZWN0KHtcbiAgICAgICAgICBhcmd1bWVudHM6IHoyLnN0cmluZygpLFxuICAgICAgICAgIG5hbWU6IHoyLnN0cmluZygpXG4gICAgICAgIH0pLm51bGxpc2goKSxcbiAgICAgICAgdG9vbF9jYWxsczogejIuYXJyYXkoXG4gICAgICAgICAgejIub2JqZWN0KHtcbiAgICAgICAgICAgIGlkOiB6Mi5zdHJpbmcoKS5udWxsaXNoKCksXG4gICAgICAgICAgICB0eXBlOiB6Mi5saXRlcmFsKFwiZnVuY3Rpb25cIiksXG4gICAgICAgICAgICBmdW5jdGlvbjogejIub2JqZWN0KHtcbiAgICAgICAgICAgICAgbmFtZTogejIuc3RyaW5nKCksXG4gICAgICAgICAgICAgIGFyZ3VtZW50czogejIuc3RyaW5nKClcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSlcbiAgICAgICAgKS5udWxsaXNoKClcbiAgICAgIH0pLFxuICAgICAgaW5kZXg6IHoyLm51bWJlcigpLFxuICAgICAgbG9ncHJvYnM6IHoyLm9iamVjdCh7XG4gICAgICAgIGNvbnRlbnQ6IHoyLmFycmF5KFxuICAgICAgICAgIHoyLm9iamVjdCh7XG4gICAgICAgICAgICB0b2tlbjogejIuc3RyaW5nKCksXG4gICAgICAgICAgICBsb2dwcm9iOiB6Mi5udW1iZXIoKSxcbiAgICAgICAgICAgIHRvcF9sb2dwcm9iczogejIuYXJyYXkoXG4gICAgICAgICAgICAgIHoyLm9iamVjdCh7XG4gICAgICAgICAgICAgICAgdG9rZW46IHoyLnN0cmluZygpLFxuICAgICAgICAgICAgICAgIGxvZ3Byb2I6IHoyLm51bWJlcigpXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApXG4gICAgICAgICAgfSlcbiAgICAgICAgKS5udWxsYWJsZSgpXG4gICAgICB9KS5udWxsaXNoKCksXG4gICAgICBmaW5pc2hfcmVhc29uOiB6Mi5zdHJpbmcoKS5udWxsaXNoKClcbiAgICB9KVxuICApLFxuICB1c2FnZTogb3BlbmFpVG9rZW5Vc2FnZVNjaGVtYVxufSk7XG52YXIgb3BlbmFpQ2hhdENodW5rU2NoZW1hID0gejIudW5pb24oW1xuICB6Mi5vYmplY3Qoe1xuICAgIGlkOiB6Mi5zdHJpbmcoKS5udWxsaXNoKCksXG4gICAgY3JlYXRlZDogejIubnVtYmVyKCkubnVsbGlzaCgpLFxuICAgIG1vZGVsOiB6Mi5zdHJpbmcoKS5udWxsaXNoKCksXG4gICAgY2hvaWNlczogejIuYXJyYXkoXG4gICAgICB6Mi5vYmplY3Qoe1xuICAgICAgICBkZWx0YTogejIub2JqZWN0KHtcbiAgICAgICAgICByb2xlOiB6Mi5lbnVtKFtcImFzc2lzdGFudFwiXSkubnVsbGlzaCgpLFxuICAgICAgICAgIGNvbnRlbnQ6IHoyLnN0cmluZygpLm51bGxpc2goKSxcbiAgICAgICAgICBmdW5jdGlvbl9jYWxsOiB6Mi5vYmplY3Qoe1xuICAgICAgICAgICAgbmFtZTogejIuc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIGFyZ3VtZW50czogejIuc3RyaW5nKCkub3B0aW9uYWwoKVxuICAgICAgICAgIH0pLm51bGxpc2goKSxcbiAgICAgICAgICB0b29sX2NhbGxzOiB6Mi5hcnJheShcbiAgICAgICAgICAgIHoyLm9iamVjdCh7XG4gICAgICAgICAgICAgIGluZGV4OiB6Mi5udW1iZXIoKSxcbiAgICAgICAgICAgICAgaWQ6IHoyLnN0cmluZygpLm51bGxpc2goKSxcbiAgICAgICAgICAgICAgdHlwZTogejIubGl0ZXJhbChcImZ1bmN0aW9uXCIpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgIGZ1bmN0aW9uOiB6Mi5vYmplY3Qoe1xuICAgICAgICAgICAgICAgIG5hbWU6IHoyLnN0cmluZygpLm51bGxpc2goKSxcbiAgICAgICAgICAgICAgICBhcmd1bWVudHM6IHoyLnN0cmluZygpLm51bGxpc2goKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApLm51bGxpc2goKVxuICAgICAgICB9KS5udWxsaXNoKCksXG4gICAgICAgIGxvZ3Byb2JzOiB6Mi5vYmplY3Qoe1xuICAgICAgICAgIGNvbnRlbnQ6IHoyLmFycmF5KFxuICAgICAgICAgICAgejIub2JqZWN0KHtcbiAgICAgICAgICAgICAgdG9rZW46IHoyLnN0cmluZygpLFxuICAgICAgICAgICAgICBsb2dwcm9iOiB6Mi5udW1iZXIoKSxcbiAgICAgICAgICAgICAgdG9wX2xvZ3Byb2JzOiB6Mi5hcnJheShcbiAgICAgICAgICAgICAgICB6Mi5vYmplY3Qoe1xuICAgICAgICAgICAgICAgICAgdG9rZW46IHoyLnN0cmluZygpLFxuICAgICAgICAgICAgICAgICAgbG9ncHJvYjogejIubnVtYmVyKClcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICkubnVsbGFibGUoKVxuICAgICAgICB9KS5udWxsaXNoKCksXG4gICAgICAgIGZpbmlzaF9yZWFzb246IHoyLnN0cmluZygpLm51bGxhYmxlKCkub3B0aW9uYWwoKSxcbiAgICAgICAgaW5kZXg6IHoyLm51bWJlcigpXG4gICAgICB9KVxuICAgICksXG4gICAgdXNhZ2U6IG9wZW5haVRva2VuVXNhZ2VTY2hlbWFcbiAgfSksXG4gIG9wZW5haUVycm9yRGF0YVNjaGVtYVxuXSk7XG5mdW5jdGlvbiBpc1JlYXNvbmluZ01vZGVsKG1vZGVsSWQpIHtcbiAgcmV0dXJuIG1vZGVsSWQgPT09IFwibzFcIiB8fCBtb2RlbElkLnN0YXJ0c1dpdGgoXCJvMS1cIikgfHwgbW9kZWxJZCA9PT0gXCJvM1wiIHx8IG1vZGVsSWQuc3RhcnRzV2l0aChcIm8zLVwiKTtcbn1cbmZ1bmN0aW9uIGlzQXVkaW9Nb2RlbChtb2RlbElkKSB7XG4gIHJldHVybiBtb2RlbElkLnN0YXJ0c1dpdGgoXCJncHQtNG8tYXVkaW8tcHJldmlld1wiKTtcbn1cbmZ1bmN0aW9uIGdldFN5c3RlbU1lc3NhZ2VNb2RlKG1vZGVsSWQpIHtcbiAgdmFyIF9hLCBfYjtcbiAgaWYgKCFpc1JlYXNvbmluZ01vZGVsKG1vZGVsSWQpKSB7XG4gICAgcmV0dXJuIFwic3lzdGVtXCI7XG4gIH1cbiAgcmV0dXJuIChfYiA9IChfYSA9IHJlYXNvbmluZ01vZGVsc1ttb2RlbElkXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnN5c3RlbU1lc3NhZ2VNb2RlKSAhPSBudWxsID8gX2IgOiBcImRldmVsb3BlclwiO1xufVxudmFyIHJlYXNvbmluZ01vZGVscyA9IHtcbiAgXCJvMS1taW5pXCI6IHtcbiAgICBzeXN0ZW1NZXNzYWdlTW9kZTogXCJyZW1vdmVcIlxuICB9LFxuICBcIm8xLW1pbmktMjAyNC0wOS0xMlwiOiB7XG4gICAgc3lzdGVtTWVzc2FnZU1vZGU6IFwicmVtb3ZlXCJcbiAgfSxcbiAgXCJvMS1wcmV2aWV3XCI6IHtcbiAgICBzeXN0ZW1NZXNzYWdlTW9kZTogXCJyZW1vdmVcIlxuICB9LFxuICBcIm8xLXByZXZpZXctMjAyNC0wOS0xMlwiOiB7XG4gICAgc3lzdGVtTWVzc2FnZU1vZGU6IFwicmVtb3ZlXCJcbiAgfSxcbiAgXCJvMy1taW5pXCI6IHtcbiAgICBzeXN0ZW1NZXNzYWdlTW9kZTogXCJkZXZlbG9wZXJcIlxuICB9LFxuICBcIm8zLW1pbmktMjAyNS0wMS0zMVwiOiB7XG4gICAgc3lzdGVtTWVzc2FnZU1vZGU6IFwiZGV2ZWxvcGVyXCJcbiAgfVxufTtcblxuLy8gc3JjL29wZW5haS1jb21wbGV0aW9uLWxhbmd1YWdlLW1vZGVsLnRzXG5pbXBvcnQge1xuICBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvciBhcyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcjVcbn0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbmltcG9ydCB7XG4gIGNvbWJpbmVIZWFkZXJzIGFzIGNvbWJpbmVIZWFkZXJzMixcbiAgY3JlYXRlRXZlbnRTb3VyY2VSZXNwb25zZUhhbmRsZXIgYXMgY3JlYXRlRXZlbnRTb3VyY2VSZXNwb25zZUhhbmRsZXIyLFxuICBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyIGFzIGNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXIyLFxuICBwb3N0SnNvblRvQXBpIGFzIHBvc3RKc29uVG9BcGkyXG59IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG5pbXBvcnQgeyB6IGFzIHozIH0gZnJvbSBcInpvZFwiO1xuXG4vLyBzcmMvY29udmVydC10by1vcGVuYWktY29tcGxldGlvbi1wcm9tcHQudHNcbmltcG9ydCB7XG4gIEludmFsaWRQcm9tcHRFcnJvcixcbiAgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3IgYXMgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3I0XG59IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5mdW5jdGlvbiBjb252ZXJ0VG9PcGVuQUlDb21wbGV0aW9uUHJvbXB0KHtcbiAgcHJvbXB0LFxuICBpbnB1dEZvcm1hdCxcbiAgdXNlciA9IFwidXNlclwiLFxuICBhc3Npc3RhbnQgPSBcImFzc2lzdGFudFwiXG59KSB7XG4gIGlmIChpbnB1dEZvcm1hdCA9PT0gXCJwcm9tcHRcIiAmJiBwcm9tcHQubGVuZ3RoID09PSAxICYmIHByb21wdFswXS5yb2xlID09PSBcInVzZXJcIiAmJiBwcm9tcHRbMF0uY29udGVudC5sZW5ndGggPT09IDEgJiYgcHJvbXB0WzBdLmNvbnRlbnRbMF0udHlwZSA9PT0gXCJ0ZXh0XCIpIHtcbiAgICByZXR1cm4geyBwcm9tcHQ6IHByb21wdFswXS5jb250ZW50WzBdLnRleHQgfTtcbiAgfVxuICBsZXQgdGV4dCA9IFwiXCI7XG4gIGlmIChwcm9tcHRbMF0ucm9sZSA9PT0gXCJzeXN0ZW1cIikge1xuICAgIHRleHQgKz0gYCR7cHJvbXB0WzBdLmNvbnRlbnR9XG5cbmA7XG4gICAgcHJvbXB0ID0gcHJvbXB0LnNsaWNlKDEpO1xuICB9XG4gIGZvciAoY29uc3QgeyByb2xlLCBjb250ZW50IH0gb2YgcHJvbXB0KSB7XG4gICAgc3dpdGNoIChyb2xlKSB7XG4gICAgICBjYXNlIFwic3lzdGVtXCI6IHtcbiAgICAgICAgdGhyb3cgbmV3IEludmFsaWRQcm9tcHRFcnJvcih7XG4gICAgICAgICAgbWVzc2FnZTogXCJVbmV4cGVjdGVkIHN5c3RlbSBtZXNzYWdlIGluIHByb21wdDogJHtjb250ZW50fVwiLFxuICAgICAgICAgIHByb21wdFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJ1c2VyXCI6IHtcbiAgICAgICAgY29uc3QgdXNlck1lc3NhZ2UgPSBjb250ZW50Lm1hcCgocGFydCkgPT4ge1xuICAgICAgICAgIHN3aXRjaCAocGFydC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwidGV4dFwiOiB7XG4gICAgICAgICAgICAgIHJldHVybiBwYXJ0LnRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW1hZ2VcIjoge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3I0KHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbmFsaXR5OiBcImltYWdlc1wiXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSkuam9pbihcIlwiKTtcbiAgICAgICAgdGV4dCArPSBgJHt1c2VyfTpcbiR7dXNlck1lc3NhZ2V9XG5cbmA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcImFzc2lzdGFudFwiOiB7XG4gICAgICAgIGNvbnN0IGFzc2lzdGFudE1lc3NhZ2UgPSBjb250ZW50Lm1hcCgocGFydCkgPT4ge1xuICAgICAgICAgIHN3aXRjaCAocGFydC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwidGV4dFwiOiB7XG4gICAgICAgICAgICAgIHJldHVybiBwYXJ0LnRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vbC1jYWxsXCI6IHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yNCh7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb25hbGl0eTogXCJ0b29sLWNhbGwgbWVzc2FnZXNcIlxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pLmpvaW4oXCJcIik7XG4gICAgICAgIHRleHQgKz0gYCR7YXNzaXN0YW50fTpcbiR7YXNzaXN0YW50TWVzc2FnZX1cblxuYDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwidG9vbFwiOiB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcjQoe1xuICAgICAgICAgIGZ1bmN0aW9uYWxpdHk6IFwidG9vbCBtZXNzYWdlc1wiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrID0gcm9sZTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCByb2xlOiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHRleHQgKz0gYCR7YXNzaXN0YW50fTpcbmA7XG4gIHJldHVybiB7XG4gICAgcHJvbXB0OiB0ZXh0LFxuICAgIHN0b3BTZXF1ZW5jZXM6IFtgXG4ke3VzZXJ9OmBdXG4gIH07XG59XG5cbi8vIHNyYy9tYXAtb3BlbmFpLWNvbXBsZXRpb24tbG9ncHJvYnMudHNcbmZ1bmN0aW9uIG1hcE9wZW5BSUNvbXBsZXRpb25Mb2dQcm9icyhsb2dwcm9icykge1xuICByZXR1cm4gbG9ncHJvYnMgPT0gbnVsbCA/IHZvaWQgMCA6IGxvZ3Byb2JzLnRva2Vucy5tYXAoKHRva2VuLCBpbmRleCkgPT4gKHtcbiAgICB0b2tlbixcbiAgICBsb2dwcm9iOiBsb2dwcm9icy50b2tlbl9sb2dwcm9ic1tpbmRleF0sXG4gICAgdG9wTG9ncHJvYnM6IGxvZ3Byb2JzLnRvcF9sb2dwcm9icyA/IE9iamVjdC5lbnRyaWVzKGxvZ3Byb2JzLnRvcF9sb2dwcm9ic1tpbmRleF0pLm1hcChcbiAgICAgIChbdG9rZW4yLCBsb2dwcm9iXSkgPT4gKHtcbiAgICAgICAgdG9rZW46IHRva2VuMixcbiAgICAgICAgbG9ncHJvYlxuICAgICAgfSlcbiAgICApIDogW11cbiAgfSkpO1xufVxuXG4vLyBzcmMvb3BlbmFpLWNvbXBsZXRpb24tbGFuZ3VhZ2UtbW9kZWwudHNcbnZhciBPcGVuQUlDb21wbGV0aW9uTGFuZ3VhZ2VNb2RlbCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IobW9kZWxJZCwgc2V0dGluZ3MsIGNvbmZpZykge1xuICAgIHRoaXMuc3BlY2lmaWNhdGlvblZlcnNpb24gPSBcInYxXCI7XG4gICAgdGhpcy5kZWZhdWx0T2JqZWN0R2VuZXJhdGlvbk1vZGUgPSB2b2lkIDA7XG4gICAgdGhpcy5tb2RlbElkID0gbW9kZWxJZDtcbiAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gIH1cbiAgZ2V0IHByb3ZpZGVyKCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5wcm92aWRlcjtcbiAgfVxuICBnZXRBcmdzKHtcbiAgICBtb2RlLFxuICAgIGlucHV0Rm9ybWF0LFxuICAgIHByb21wdCxcbiAgICBtYXhUb2tlbnMsXG4gICAgdGVtcGVyYXR1cmUsXG4gICAgdG9wUCxcbiAgICB0b3BLLFxuICAgIGZyZXF1ZW5jeVBlbmFsdHksXG4gICAgcHJlc2VuY2VQZW5hbHR5LFxuICAgIHN0b3BTZXF1ZW5jZXM6IHVzZXJTdG9wU2VxdWVuY2VzLFxuICAgIHJlc3BvbnNlRm9ybWF0LFxuICAgIHNlZWRcbiAgfSkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCB0eXBlID0gbW9kZS50eXBlO1xuICAgIGNvbnN0IHdhcm5pbmdzID0gW107XG4gICAgaWYgKHRvcEsgIT0gbnVsbCkge1xuICAgICAgd2FybmluZ3MucHVzaCh7XG4gICAgICAgIHR5cGU6IFwidW5zdXBwb3J0ZWQtc2V0dGluZ1wiLFxuICAgICAgICBzZXR0aW5nOiBcInRvcEtcIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChyZXNwb25zZUZvcm1hdCAhPSBudWxsICYmIHJlc3BvbnNlRm9ybWF0LnR5cGUgIT09IFwidGV4dFwiKSB7XG4gICAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgICAgdHlwZTogXCJ1bnN1cHBvcnRlZC1zZXR0aW5nXCIsXG4gICAgICAgIHNldHRpbmc6IFwicmVzcG9uc2VGb3JtYXRcIixcbiAgICAgICAgZGV0YWlsczogXCJKU09OIHJlc3BvbnNlIGZvcm1hdCBpcyBub3Qgc3VwcG9ydGVkLlwiXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgeyBwcm9tcHQ6IGNvbXBsZXRpb25Qcm9tcHQsIHN0b3BTZXF1ZW5jZXMgfSA9IGNvbnZlcnRUb09wZW5BSUNvbXBsZXRpb25Qcm9tcHQoeyBwcm9tcHQsIGlucHV0Rm9ybWF0IH0pO1xuICAgIGNvbnN0IHN0b3AgPSBbLi4uc3RvcFNlcXVlbmNlcyAhPSBudWxsID8gc3RvcFNlcXVlbmNlcyA6IFtdLCAuLi51c2VyU3RvcFNlcXVlbmNlcyAhPSBudWxsID8gdXNlclN0b3BTZXF1ZW5jZXMgOiBbXV07XG4gICAgY29uc3QgYmFzZUFyZ3MgPSB7XG4gICAgICAvLyBtb2RlbCBpZDpcbiAgICAgIG1vZGVsOiB0aGlzLm1vZGVsSWQsXG4gICAgICAvLyBtb2RlbCBzcGVjaWZpYyBzZXR0aW5nczpcbiAgICAgIGVjaG86IHRoaXMuc2V0dGluZ3MuZWNobyxcbiAgICAgIGxvZ2l0X2JpYXM6IHRoaXMuc2V0dGluZ3MubG9naXRCaWFzLFxuICAgICAgbG9ncHJvYnM6IHR5cGVvZiB0aGlzLnNldHRpbmdzLmxvZ3Byb2JzID09PSBcIm51bWJlclwiID8gdGhpcy5zZXR0aW5ncy5sb2dwcm9icyA6IHR5cGVvZiB0aGlzLnNldHRpbmdzLmxvZ3Byb2JzID09PSBcImJvb2xlYW5cIiA/IHRoaXMuc2V0dGluZ3MubG9ncHJvYnMgPyAwIDogdm9pZCAwIDogdm9pZCAwLFxuICAgICAgc3VmZml4OiB0aGlzLnNldHRpbmdzLnN1ZmZpeCxcbiAgICAgIHVzZXI6IHRoaXMuc2V0dGluZ3MudXNlcixcbiAgICAgIC8vIHN0YW5kYXJkaXplZCBzZXR0aW5nczpcbiAgICAgIG1heF90b2tlbnM6IG1heFRva2VucyxcbiAgICAgIHRlbXBlcmF0dXJlLFxuICAgICAgdG9wX3A6IHRvcFAsXG4gICAgICBmcmVxdWVuY3lfcGVuYWx0eTogZnJlcXVlbmN5UGVuYWx0eSxcbiAgICAgIHByZXNlbmNlX3BlbmFsdHk6IHByZXNlbmNlUGVuYWx0eSxcbiAgICAgIHNlZWQsXG4gICAgICAvLyBwcm9tcHQ6XG4gICAgICBwcm9tcHQ6IGNvbXBsZXRpb25Qcm9tcHQsXG4gICAgICAvLyBzdG9wIHNlcXVlbmNlczpcbiAgICAgIHN0b3A6IHN0b3AubGVuZ3RoID4gMCA/IHN0b3AgOiB2b2lkIDBcbiAgICB9O1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBcInJlZ3VsYXJcIjoge1xuICAgICAgICBpZiAoKF9hID0gbW9kZS50b29scykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkge1xuICAgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcjUoe1xuICAgICAgICAgICAgZnVuY3Rpb25hbGl0eTogXCJ0b29sc1wiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vZGUudG9vbENob2ljZSkge1xuICAgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcjUoe1xuICAgICAgICAgICAgZnVuY3Rpb25hbGl0eTogXCJ0b29sQ2hvaWNlXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBhcmdzOiBiYXNlQXJncywgd2FybmluZ3MgfTtcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJvYmplY3QtanNvblwiOiB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcjUoe1xuICAgICAgICAgIGZ1bmN0aW9uYWxpdHk6IFwib2JqZWN0LWpzb24gbW9kZVwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY2FzZSBcIm9iamVjdC10b29sXCI6IHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yNSh7XG4gICAgICAgICAgZnVuY3Rpb25hbGl0eTogXCJvYmplY3QtdG9vbCBtb2RlXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2sgPSB0eXBlO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHR5cGU6ICR7X2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgYXN5bmMgZG9HZW5lcmF0ZShvcHRpb25zKSB7XG4gICAgY29uc3QgeyBhcmdzLCB3YXJuaW5ncyB9ID0gdGhpcy5nZXRBcmdzKG9wdGlvbnMpO1xuICAgIGNvbnN0IHtcbiAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgIHZhbHVlOiByZXNwb25zZSxcbiAgICAgIHJhd1ZhbHVlOiByYXdSZXNwb25zZVxuICAgIH0gPSBhd2FpdCBwb3N0SnNvblRvQXBpMih7XG4gICAgICB1cmw6IHRoaXMuY29uZmlnLnVybCh7XG4gICAgICAgIHBhdGg6IFwiL2NvbXBsZXRpb25zXCIsXG4gICAgICAgIG1vZGVsSWQ6IHRoaXMubW9kZWxJZFxuICAgICAgfSksXG4gICAgICBoZWFkZXJzOiBjb21iaW5lSGVhZGVyczIodGhpcy5jb25maWcuaGVhZGVycygpLCBvcHRpb25zLmhlYWRlcnMpLFxuICAgICAgYm9keTogYXJncyxcbiAgICAgIGZhaWxlZFJlc3BvbnNlSGFuZGxlcjogb3BlbmFpRmFpbGVkUmVzcG9uc2VIYW5kbGVyLFxuICAgICAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcjogY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlcjIoXG4gICAgICAgIG9wZW5haUNvbXBsZXRpb25SZXNwb25zZVNjaGVtYVxuICAgICAgKSxcbiAgICAgIGFib3J0U2lnbmFsOiBvcHRpb25zLmFib3J0U2lnbmFsLFxuICAgICAgZmV0Y2g6IHRoaXMuY29uZmlnLmZldGNoXG4gICAgfSk7XG4gICAgY29uc3QgeyBwcm9tcHQ6IHJhd1Byb21wdCwgLi4ucmF3U2V0dGluZ3MgfSA9IGFyZ3M7XG4gICAgY29uc3QgY2hvaWNlID0gcmVzcG9uc2UuY2hvaWNlc1swXTtcbiAgICByZXR1cm4ge1xuICAgICAgdGV4dDogY2hvaWNlLnRleHQsXG4gICAgICB1c2FnZToge1xuICAgICAgICBwcm9tcHRUb2tlbnM6IHJlc3BvbnNlLnVzYWdlLnByb21wdF90b2tlbnMsXG4gICAgICAgIGNvbXBsZXRpb25Ub2tlbnM6IHJlc3BvbnNlLnVzYWdlLmNvbXBsZXRpb25fdG9rZW5zXG4gICAgICB9LFxuICAgICAgZmluaXNoUmVhc29uOiBtYXBPcGVuQUlGaW5pc2hSZWFzb24oY2hvaWNlLmZpbmlzaF9yZWFzb24pLFxuICAgICAgbG9ncHJvYnM6IG1hcE9wZW5BSUNvbXBsZXRpb25Mb2dQcm9icyhjaG9pY2UubG9ncHJvYnMpLFxuICAgICAgcmF3Q2FsbDogeyByYXdQcm9tcHQsIHJhd1NldHRpbmdzIH0sXG4gICAgICByYXdSZXNwb25zZTogeyBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMsIGJvZHk6IHJhd1Jlc3BvbnNlIH0sXG4gICAgICByZXNwb25zZTogZ2V0UmVzcG9uc2VNZXRhZGF0YShyZXNwb25zZSksXG4gICAgICB3YXJuaW5ncyxcbiAgICAgIHJlcXVlc3Q6IHsgYm9keTogSlNPTi5zdHJpbmdpZnkoYXJncykgfVxuICAgIH07XG4gIH1cbiAgYXN5bmMgZG9TdHJlYW0ob3B0aW9ucykge1xuICAgIGNvbnN0IHsgYXJncywgd2FybmluZ3MgfSA9IHRoaXMuZ2V0QXJncyhvcHRpb25zKTtcbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAgLi4uYXJncyxcbiAgICAgIHN0cmVhbTogdHJ1ZSxcbiAgICAgIC8vIG9ubHkgaW5jbHVkZSBzdHJlYW1fb3B0aW9ucyB3aGVuIGluIHN0cmljdCBjb21wYXRpYmlsaXR5IG1vZGU6XG4gICAgICBzdHJlYW1fb3B0aW9uczogdGhpcy5jb25maWcuY29tcGF0aWJpbGl0eSA9PT0gXCJzdHJpY3RcIiA/IHsgaW5jbHVkZV91c2FnZTogdHJ1ZSB9IDogdm9pZCAwXG4gICAgfTtcbiAgICBjb25zdCB7IHJlc3BvbnNlSGVhZGVycywgdmFsdWU6IHJlc3BvbnNlIH0gPSBhd2FpdCBwb3N0SnNvblRvQXBpMih7XG4gICAgICB1cmw6IHRoaXMuY29uZmlnLnVybCh7XG4gICAgICAgIHBhdGg6IFwiL2NvbXBsZXRpb25zXCIsXG4gICAgICAgIG1vZGVsSWQ6IHRoaXMubW9kZWxJZFxuICAgICAgfSksXG4gICAgICBoZWFkZXJzOiBjb21iaW5lSGVhZGVyczIodGhpcy5jb25maWcuaGVhZGVycygpLCBvcHRpb25zLmhlYWRlcnMpLFxuICAgICAgYm9keSxcbiAgICAgIGZhaWxlZFJlc3BvbnNlSGFuZGxlcjogb3BlbmFpRmFpbGVkUmVzcG9uc2VIYW5kbGVyLFxuICAgICAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcjogY3JlYXRlRXZlbnRTb3VyY2VSZXNwb25zZUhhbmRsZXIyKFxuICAgICAgICBvcGVuYWlDb21wbGV0aW9uQ2h1bmtTY2hlbWFcbiAgICAgICksXG4gICAgICBhYm9ydFNpZ25hbDogb3B0aW9ucy5hYm9ydFNpZ25hbCxcbiAgICAgIGZldGNoOiB0aGlzLmNvbmZpZy5mZXRjaFxuICAgIH0pO1xuICAgIGNvbnN0IHsgcHJvbXB0OiByYXdQcm9tcHQsIC4uLnJhd1NldHRpbmdzIH0gPSBhcmdzO1xuICAgIGxldCBmaW5pc2hSZWFzb24gPSBcInVua25vd25cIjtcbiAgICBsZXQgdXNhZ2UgPSB7XG4gICAgICBwcm9tcHRUb2tlbnM6IE51bWJlci5OYU4sXG4gICAgICBjb21wbGV0aW9uVG9rZW5zOiBOdW1iZXIuTmFOXG4gICAgfTtcbiAgICBsZXQgbG9ncHJvYnM7XG4gICAgbGV0IGlzRmlyc3RDaHVuayA9IHRydWU7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0cmVhbTogcmVzcG9uc2UucGlwZVRocm91Z2goXG4gICAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgICAgICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICAgICAgaWYgKCFjaHVuay5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgIGZpbmlzaFJlYXNvbiA9IFwiZXJyb3JcIjtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogXCJlcnJvclwiLCBlcnJvcjogY2h1bmsuZXJyb3IgfSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY2h1bmsudmFsdWU7XG4gICAgICAgICAgICBpZiAoXCJlcnJvclwiIGluIHZhbHVlKSB7XG4gICAgICAgICAgICAgIGZpbmlzaFJlYXNvbiA9IFwiZXJyb3JcIjtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogXCJlcnJvclwiLCBlcnJvcjogdmFsdWUuZXJyb3IgfSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0ZpcnN0Q2h1bmspIHtcbiAgICAgICAgICAgICAgaXNGaXJzdENodW5rID0gZmFsc2U7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJyZXNwb25zZS1tZXRhZGF0YVwiLFxuICAgICAgICAgICAgICAgIC4uLmdldFJlc3BvbnNlTWV0YWRhdGEodmFsdWUpXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlLnVzYWdlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgdXNhZ2UgPSB7XG4gICAgICAgICAgICAgICAgcHJvbXB0VG9rZW5zOiB2YWx1ZS51c2FnZS5wcm9tcHRfdG9rZW5zLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRpb25Ub2tlbnM6IHZhbHVlLnVzYWdlLmNvbXBsZXRpb25fdG9rZW5zXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjaG9pY2UgPSB2YWx1ZS5jaG9pY2VzWzBdO1xuICAgICAgICAgICAgaWYgKChjaG9pY2UgPT0gbnVsbCA/IHZvaWQgMCA6IGNob2ljZS5maW5pc2hfcmVhc29uKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIGZpbmlzaFJlYXNvbiA9IG1hcE9wZW5BSUZpbmlzaFJlYXNvbihjaG9pY2UuZmluaXNoX3JlYXNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKGNob2ljZSA9PSBudWxsID8gdm9pZCAwIDogY2hvaWNlLnRleHQpICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRleHQtZGVsdGFcIixcbiAgICAgICAgICAgICAgICB0ZXh0RGVsdGE6IGNob2ljZS50ZXh0XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbWFwcGVkTG9ncHJvYnMgPSBtYXBPcGVuQUlDb21wbGV0aW9uTG9nUHJvYnMoXG4gICAgICAgICAgICAgIGNob2ljZSA9PSBudWxsID8gdm9pZCAwIDogY2hvaWNlLmxvZ3Byb2JzXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKG1hcHBlZExvZ3Byb2JzID09IG51bGwgPyB2b2lkIDAgOiBtYXBwZWRMb2dwcm9icy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgaWYgKGxvZ3Byb2JzID09PSB2b2lkIDApIGxvZ3Byb2JzID0gW107XG4gICAgICAgICAgICAgIGxvZ3Byb2JzLnB1c2goLi4ubWFwcGVkTG9ncHJvYnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZmx1c2goY29udHJvbGxlcikge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgdHlwZTogXCJmaW5pc2hcIixcbiAgICAgICAgICAgICAgZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgICBsb2dwcm9icyxcbiAgICAgICAgICAgICAgdXNhZ2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICksXG4gICAgICByYXdDYWxsOiB7IHJhd1Byb21wdCwgcmF3U2V0dGluZ3MgfSxcbiAgICAgIHJhd1Jlc3BvbnNlOiB7IGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyB9LFxuICAgICAgd2FybmluZ3MsXG4gICAgICByZXF1ZXN0OiB7IGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpIH1cbiAgICB9O1xuICB9XG59O1xudmFyIG9wZW5haUNvbXBsZXRpb25SZXNwb25zZVNjaGVtYSA9IHozLm9iamVjdCh7XG4gIGlkOiB6My5zdHJpbmcoKS5udWxsaXNoKCksXG4gIGNyZWF0ZWQ6IHozLm51bWJlcigpLm51bGxpc2goKSxcbiAgbW9kZWw6IHozLnN0cmluZygpLm51bGxpc2goKSxcbiAgY2hvaWNlczogejMuYXJyYXkoXG4gICAgejMub2JqZWN0KHtcbiAgICAgIHRleHQ6IHozLnN0cmluZygpLFxuICAgICAgZmluaXNoX3JlYXNvbjogejMuc3RyaW5nKCksXG4gICAgICBsb2dwcm9iczogejMub2JqZWN0KHtcbiAgICAgICAgdG9rZW5zOiB6My5hcnJheSh6My5zdHJpbmcoKSksXG4gICAgICAgIHRva2VuX2xvZ3Byb2JzOiB6My5hcnJheSh6My5udW1iZXIoKSksXG4gICAgICAgIHRvcF9sb2dwcm9iczogejMuYXJyYXkoejMucmVjb3JkKHozLnN0cmluZygpLCB6My5udW1iZXIoKSkpLm51bGxhYmxlKClcbiAgICAgIH0pLm51bGxpc2goKVxuICAgIH0pXG4gICksXG4gIHVzYWdlOiB6My5vYmplY3Qoe1xuICAgIHByb21wdF90b2tlbnM6IHozLm51bWJlcigpLFxuICAgIGNvbXBsZXRpb25fdG9rZW5zOiB6My5udW1iZXIoKVxuICB9KVxufSk7XG52YXIgb3BlbmFpQ29tcGxldGlvbkNodW5rU2NoZW1hID0gejMudW5pb24oW1xuICB6My5vYmplY3Qoe1xuICAgIGlkOiB6My5zdHJpbmcoKS5udWxsaXNoKCksXG4gICAgY3JlYXRlZDogejMubnVtYmVyKCkubnVsbGlzaCgpLFxuICAgIG1vZGVsOiB6My5zdHJpbmcoKS5udWxsaXNoKCksXG4gICAgY2hvaWNlczogejMuYXJyYXkoXG4gICAgICB6My5vYmplY3Qoe1xuICAgICAgICB0ZXh0OiB6My5zdHJpbmcoKSxcbiAgICAgICAgZmluaXNoX3JlYXNvbjogejMuc3RyaW5nKCkubnVsbGlzaCgpLFxuICAgICAgICBpbmRleDogejMubnVtYmVyKCksXG4gICAgICAgIGxvZ3Byb2JzOiB6My5vYmplY3Qoe1xuICAgICAgICAgIHRva2VuczogejMuYXJyYXkoejMuc3RyaW5nKCkpLFxuICAgICAgICAgIHRva2VuX2xvZ3Byb2JzOiB6My5hcnJheSh6My5udW1iZXIoKSksXG4gICAgICAgICAgdG9wX2xvZ3Byb2JzOiB6My5hcnJheSh6My5yZWNvcmQoejMuc3RyaW5nKCksIHozLm51bWJlcigpKSkubnVsbGFibGUoKVxuICAgICAgICB9KS5udWxsaXNoKClcbiAgICAgIH0pXG4gICAgKSxcbiAgICB1c2FnZTogejMub2JqZWN0KHtcbiAgICAgIHByb21wdF90b2tlbnM6IHozLm51bWJlcigpLFxuICAgICAgY29tcGxldGlvbl90b2tlbnM6IHozLm51bWJlcigpXG4gICAgfSkubnVsbGlzaCgpXG4gIH0pLFxuICBvcGVuYWlFcnJvckRhdGFTY2hlbWFcbl0pO1xuXG4vLyBzcmMvb3BlbmFpLWVtYmVkZGluZy1tb2RlbC50c1xuaW1wb3J0IHtcbiAgVG9vTWFueUVtYmVkZGluZ1ZhbHVlc0ZvckNhbGxFcnJvclxufSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuaW1wb3J0IHtcbiAgY29tYmluZUhlYWRlcnMgYXMgY29tYmluZUhlYWRlcnMzLFxuICBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyIGFzIGNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXIzLFxuICBwb3N0SnNvblRvQXBpIGFzIHBvc3RKc29uVG9BcGkzXG59IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG5pbXBvcnQgeyB6IGFzIHo0IH0gZnJvbSBcInpvZFwiO1xudmFyIE9wZW5BSUVtYmVkZGluZ01vZGVsID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihtb2RlbElkLCBzZXR0aW5ncywgY29uZmlnKSB7XG4gICAgdGhpcy5zcGVjaWZpY2F0aW9uVmVyc2lvbiA9IFwidjFcIjtcbiAgICB0aGlzLm1vZGVsSWQgPSBtb2RlbElkO1xuICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgfVxuICBnZXQgcHJvdmlkZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLnByb3ZpZGVyO1xuICB9XG4gIGdldCBtYXhFbWJlZGRpbmdzUGVyQ2FsbCgpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChfYSA9IHRoaXMuc2V0dGluZ3MubWF4RW1iZWRkaW5nc1BlckNhbGwpICE9IG51bGwgPyBfYSA6IDIwNDg7XG4gIH1cbiAgZ2V0IHN1cHBvcnRzUGFyYWxsZWxDYWxscygpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChfYSA9IHRoaXMuc2V0dGluZ3Muc3VwcG9ydHNQYXJhbGxlbENhbGxzKSAhPSBudWxsID8gX2EgOiB0cnVlO1xuICB9XG4gIGFzeW5jIGRvRW1iZWQoe1xuICAgIHZhbHVlcyxcbiAgICBoZWFkZXJzLFxuICAgIGFib3J0U2lnbmFsXG4gIH0pIHtcbiAgICBpZiAodmFsdWVzLmxlbmd0aCA+IHRoaXMubWF4RW1iZWRkaW5nc1BlckNhbGwpIHtcbiAgICAgIHRocm93IG5ldyBUb29NYW55RW1iZWRkaW5nVmFsdWVzRm9yQ2FsbEVycm9yKHtcbiAgICAgICAgcHJvdmlkZXI6IHRoaXMucHJvdmlkZXIsXG4gICAgICAgIG1vZGVsSWQ6IHRoaXMubW9kZWxJZCxcbiAgICAgICAgbWF4RW1iZWRkaW5nc1BlckNhbGw6IHRoaXMubWF4RW1iZWRkaW5nc1BlckNhbGwsXG4gICAgICAgIHZhbHVlc1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHsgcmVzcG9uc2VIZWFkZXJzLCB2YWx1ZTogcmVzcG9uc2UgfSA9IGF3YWl0IHBvc3RKc29uVG9BcGkzKHtcbiAgICAgIHVybDogdGhpcy5jb25maWcudXJsKHtcbiAgICAgICAgcGF0aDogXCIvZW1iZWRkaW5nc1wiLFxuICAgICAgICBtb2RlbElkOiB0aGlzLm1vZGVsSWRcbiAgICAgIH0pLFxuICAgICAgaGVhZGVyczogY29tYmluZUhlYWRlcnMzKHRoaXMuY29uZmlnLmhlYWRlcnMoKSwgaGVhZGVycyksXG4gICAgICBib2R5OiB7XG4gICAgICAgIG1vZGVsOiB0aGlzLm1vZGVsSWQsXG4gICAgICAgIGlucHV0OiB2YWx1ZXMsXG4gICAgICAgIGVuY29kaW5nX2Zvcm1hdDogXCJmbG9hdFwiLFxuICAgICAgICBkaW1lbnNpb25zOiB0aGlzLnNldHRpbmdzLmRpbWVuc2lvbnMsXG4gICAgICAgIHVzZXI6IHRoaXMuc2V0dGluZ3MudXNlclxuICAgICAgfSxcbiAgICAgIGZhaWxlZFJlc3BvbnNlSGFuZGxlcjogb3BlbmFpRmFpbGVkUmVzcG9uc2VIYW5kbGVyLFxuICAgICAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcjogY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlcjMoXG4gICAgICAgIG9wZW5haVRleHRFbWJlZGRpbmdSZXNwb25zZVNjaGVtYVxuICAgICAgKSxcbiAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgZmV0Y2g6IHRoaXMuY29uZmlnLmZldGNoXG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVtYmVkZGluZ3M6IHJlc3BvbnNlLmRhdGEubWFwKChpdGVtKSA9PiBpdGVtLmVtYmVkZGluZyksXG4gICAgICB1c2FnZTogcmVzcG9uc2UudXNhZ2UgPyB7IHRva2VuczogcmVzcG9uc2UudXNhZ2UucHJvbXB0X3Rva2VucyB9IDogdm9pZCAwLFxuICAgICAgcmF3UmVzcG9uc2U6IHsgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzIH1cbiAgICB9O1xuICB9XG59O1xudmFyIG9wZW5haVRleHRFbWJlZGRpbmdSZXNwb25zZVNjaGVtYSA9IHo0Lm9iamVjdCh7XG4gIGRhdGE6IHo0LmFycmF5KHo0Lm9iamVjdCh7IGVtYmVkZGluZzogejQuYXJyYXkoejQubnVtYmVyKCkpIH0pKSxcbiAgdXNhZ2U6IHo0Lm9iamVjdCh7IHByb21wdF90b2tlbnM6IHo0Lm51bWJlcigpIH0pLm51bGxpc2goKVxufSk7XG5cbi8vIHNyYy9vcGVuYWktaW1hZ2UtbW9kZWwudHNcbmltcG9ydCB7XG4gIGNvbWJpbmVIZWFkZXJzIGFzIGNvbWJpbmVIZWFkZXJzNCxcbiAgY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlciBhcyBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyNCxcbiAgcG9zdEpzb25Ub0FwaSBhcyBwb3N0SnNvblRvQXBpNFxufSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuaW1wb3J0IHsgeiBhcyB6NSB9IGZyb20gXCJ6b2RcIjtcblxuLy8gc3JjL29wZW5haS1pbWFnZS1zZXR0aW5ncy50c1xudmFyIG1vZGVsTWF4SW1hZ2VzUGVyQ2FsbCA9IHtcbiAgXCJkYWxsLWUtM1wiOiAxLFxuICBcImRhbGwtZS0yXCI6IDEwXG59O1xuXG4vLyBzcmMvb3BlbmFpLWltYWdlLW1vZGVsLnRzXG52YXIgT3BlbkFJSW1hZ2VNb2RlbCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IobW9kZWxJZCwgc2V0dGluZ3MsIGNvbmZpZykge1xuICAgIHRoaXMubW9kZWxJZCA9IG1vZGVsSWQ7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMuc3BlY2lmaWNhdGlvblZlcnNpb24gPSBcInYxXCI7XG4gIH1cbiAgZ2V0IG1heEltYWdlc1BlckNhbGwoKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICByZXR1cm4gKF9iID0gKF9hID0gdGhpcy5zZXR0aW5ncy5tYXhJbWFnZXNQZXJDYWxsKSAhPSBudWxsID8gX2EgOiBtb2RlbE1heEltYWdlc1BlckNhbGxbdGhpcy5tb2RlbElkXSkgIT0gbnVsbCA/IF9iIDogMTtcbiAgfVxuICBnZXQgcHJvdmlkZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLnByb3ZpZGVyO1xuICB9XG4gIGFzeW5jIGRvR2VuZXJhdGUoe1xuICAgIHByb21wdCxcbiAgICBuLFxuICAgIHNpemUsXG4gICAgYXNwZWN0UmF0aW8sXG4gICAgc2VlZCxcbiAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgaGVhZGVycyxcbiAgICBhYm9ydFNpZ25hbFxuICB9KSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIGNvbnN0IHdhcm5pbmdzID0gW107XG4gICAgaWYgKGFzcGVjdFJhdGlvICE9IG51bGwpIHtcbiAgICAgIHdhcm5pbmdzLnB1c2goe1xuICAgICAgICB0eXBlOiBcInVuc3VwcG9ydGVkLXNldHRpbmdcIixcbiAgICAgICAgc2V0dGluZzogXCJhc3BlY3RSYXRpb1wiLFxuICAgICAgICBkZXRhaWxzOiBcIlRoaXMgbW9kZWwgZG9lcyBub3Qgc3VwcG9ydCBhc3BlY3QgcmF0aW8uIFVzZSBgc2l6ZWAgaW5zdGVhZC5cIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChzZWVkICE9IG51bGwpIHtcbiAgICAgIHdhcm5pbmdzLnB1c2goeyB0eXBlOiBcInVuc3VwcG9ydGVkLXNldHRpbmdcIiwgc2V0dGluZzogXCJzZWVkXCIgfSk7XG4gICAgfVxuICAgIGNvbnN0IGN1cnJlbnREYXRlID0gKF9jID0gKF9iID0gKF9hID0gdGhpcy5jb25maWcuX2ludGVybmFsKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY3VycmVudERhdGUpID09IG51bGwgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKSkgIT0gbnVsbCA/IF9jIDogLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCk7XG4gICAgY29uc3QgeyB2YWx1ZTogcmVzcG9uc2UsIHJlc3BvbnNlSGVhZGVycyB9ID0gYXdhaXQgcG9zdEpzb25Ub0FwaTQoe1xuICAgICAgdXJsOiB0aGlzLmNvbmZpZy51cmwoe1xuICAgICAgICBwYXRoOiBcIi9pbWFnZXMvZ2VuZXJhdGlvbnNcIixcbiAgICAgICAgbW9kZWxJZDogdGhpcy5tb2RlbElkXG4gICAgICB9KSxcbiAgICAgIGhlYWRlcnM6IGNvbWJpbmVIZWFkZXJzNCh0aGlzLmNvbmZpZy5oZWFkZXJzKCksIGhlYWRlcnMpLFxuICAgICAgYm9keToge1xuICAgICAgICBtb2RlbDogdGhpcy5tb2RlbElkLFxuICAgICAgICBwcm9tcHQsXG4gICAgICAgIG4sXG4gICAgICAgIHNpemUsXG4gICAgICAgIC4uLihfZCA9IHByb3ZpZGVyT3B0aW9ucy5vcGVuYWkpICE9IG51bGwgPyBfZCA6IHt9LFxuICAgICAgICByZXNwb25zZV9mb3JtYXQ6IFwiYjY0X2pzb25cIlxuICAgICAgfSxcbiAgICAgIGZhaWxlZFJlc3BvbnNlSGFuZGxlcjogb3BlbmFpRmFpbGVkUmVzcG9uc2VIYW5kbGVyLFxuICAgICAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcjogY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlcjQoXG4gICAgICAgIG9wZW5haUltYWdlUmVzcG9uc2VTY2hlbWFcbiAgICAgICksXG4gICAgICBhYm9ydFNpZ25hbCxcbiAgICAgIGZldGNoOiB0aGlzLmNvbmZpZy5mZXRjaFxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICBpbWFnZXM6IHJlc3BvbnNlLmRhdGEubWFwKChpdGVtKSA9PiBpdGVtLmI2NF9qc29uKSxcbiAgICAgIHdhcm5pbmdzLFxuICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgdGltZXN0YW1wOiBjdXJyZW50RGF0ZSxcbiAgICAgICAgbW9kZWxJZDogdGhpcy5tb2RlbElkLFxuICAgICAgICBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnNcbiAgICAgIH1cbiAgICB9O1xuICB9XG59O1xudmFyIG9wZW5haUltYWdlUmVzcG9uc2VTY2hlbWEgPSB6NS5vYmplY3Qoe1xuICBkYXRhOiB6NS5hcnJheSh6NS5vYmplY3QoeyBiNjRfanNvbjogejUuc3RyaW5nKCkgfSkpXG59KTtcblxuLy8gc3JjL3Jlc3BvbnNlcy9vcGVuYWktcmVzcG9uc2VzLWxhbmd1YWdlLW1vZGVsLnRzXG5pbXBvcnQge1xuICBjb21iaW5lSGVhZGVycyBhcyBjb21iaW5lSGVhZGVyczUsXG4gIGNyZWF0ZUV2ZW50U291cmNlUmVzcG9uc2VIYW5kbGVyIGFzIGNyZWF0ZUV2ZW50U291cmNlUmVzcG9uc2VIYW5kbGVyMyxcbiAgY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlciBhcyBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyNSxcbiAgZ2VuZXJhdGVJZCBhcyBnZW5lcmF0ZUlkMixcbiAgcGFyc2VQcm92aWRlck9wdGlvbnMsXG4gIHBvc3RKc29uVG9BcGkgYXMgcG9zdEpzb25Ub0FwaTVcbn0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXItdXRpbHNcIjtcbmltcG9ydCB7IHogYXMgejYgfSBmcm9tIFwiem9kXCI7XG5cbi8vIHNyYy9yZXNwb25zZXMvY29udmVydC10by1vcGVuYWktcmVzcG9uc2VzLW1lc3NhZ2VzLnRzXG5pbXBvcnQge1xuICBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvciBhcyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcjZcbn0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbmltcG9ydCB7IGNvbnZlcnRVaW50OEFycmF5VG9CYXNlNjQgYXMgY29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NDIgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuZnVuY3Rpb24gY29udmVydFRvT3BlbkFJUmVzcG9uc2VzTWVzc2FnZXMoe1xuICBwcm9tcHQsXG4gIHN5c3RlbU1lc3NhZ2VNb2RlXG59KSB7XG4gIGNvbnN0IG1lc3NhZ2VzID0gW107XG4gIGNvbnN0IHdhcm5pbmdzID0gW107XG4gIGZvciAoY29uc3QgeyByb2xlLCBjb250ZW50IH0gb2YgcHJvbXB0KSB7XG4gICAgc3dpdGNoIChyb2xlKSB7XG4gICAgICBjYXNlIFwic3lzdGVtXCI6IHtcbiAgICAgICAgc3dpdGNoIChzeXN0ZW1NZXNzYWdlTW9kZSkge1xuICAgICAgICAgIGNhc2UgXCJzeXN0ZW1cIjoge1xuICAgICAgICAgICAgbWVzc2FnZXMucHVzaCh7IHJvbGU6IFwic3lzdGVtXCIsIGNvbnRlbnQgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcImRldmVsb3BlclwiOiB7XG4gICAgICAgICAgICBtZXNzYWdlcy5wdXNoKHsgcm9sZTogXCJkZXZlbG9wZXJcIiwgY29udGVudCB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICAgIHdhcm5pbmdzLnB1c2goe1xuICAgICAgICAgICAgICB0eXBlOiBcIm90aGVyXCIsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IFwic3lzdGVtIG1lc3NhZ2VzIGFyZSByZW1vdmVkIGZvciB0aGlzIG1vZGVsXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2sgPSBzeXN0ZW1NZXNzYWdlTW9kZTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgYFVuc3VwcG9ydGVkIHN5c3RlbSBtZXNzYWdlIG1vZGU6ICR7X2V4aGF1c3RpdmVDaGVja31gXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJ1c2VyXCI6IHtcbiAgICAgICAgbWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICAgICAgY29udGVudDogY29udGVudC5tYXAoKHBhcnQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgICAgICBzd2l0Y2ggKHBhcnQudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIFwidGV4dFwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJpbnB1dF90ZXh0XCIsIHRleHQ6IHBhcnQudGV4dCB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhc2UgXCJpbWFnZVwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwiaW5wdXRfaW1hZ2VcIixcbiAgICAgICAgICAgICAgICAgIGltYWdlX3VybDogcGFydC5pbWFnZSBpbnN0YW5jZW9mIFVSTCA/IHBhcnQuaW1hZ2UudG9TdHJpbmcoKSA6IGBkYXRhOiR7KF9hID0gcGFydC5taW1lVHlwZSkgIT0gbnVsbCA/IF9hIDogXCJpbWFnZS9qcGVnXCJ9O2Jhc2U2NCwke2NvbnZlcnRVaW50OEFycmF5VG9CYXNlNjQyKHBhcnQuaW1hZ2UpfWAsXG4gICAgICAgICAgICAgICAgICAvLyBPcGVuQUkgc3BlY2lmaWMgZXh0ZW5zaW9uOiBpbWFnZSBkZXRhaWxcbiAgICAgICAgICAgICAgICAgIGRldGFpbDogKF9jID0gKF9iID0gcGFydC5wcm92aWRlck1ldGFkYXRhKSA9PSBudWxsID8gdm9pZCAwIDogX2Iub3BlbmFpKSA9PSBudWxsID8gdm9pZCAwIDogX2MuaW1hZ2VEZXRhaWxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhc2UgXCJmaWxlXCI6IHtcbiAgICAgICAgICAgICAgICBpZiAocGFydC5kYXRhIGluc3RhbmNlb2YgVVJMKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3I2KHtcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25hbGl0eTogXCJGaWxlIFVSTHMgaW4gdXNlciBtZXNzYWdlc1wiXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3dpdGNoIChwYXJ0Lm1pbWVUeXBlKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiYXBwbGljYXRpb24vcGRmXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImlucHV0X2ZpbGVcIixcbiAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTogKF9kID0gcGFydC5maWxlbmFtZSkgIT0gbnVsbCA/IF9kIDogYHBhcnQtJHtpbmRleH0ucGRmYCxcbiAgICAgICAgICAgICAgICAgICAgICBmaWxlX2RhdGE6IGBkYXRhOmFwcGxpY2F0aW9uL3BkZjtiYXNlNjQsJHtwYXJ0LmRhdGF9YFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3I2KHtcbiAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbmFsaXR5OiBcIk9ubHkgUERGIGZpbGVzIGFyZSBzdXBwb3J0ZWQgaW4gdXNlciBtZXNzYWdlc1wiXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJhc3Npc3RhbnRcIjoge1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgY29udGVudCkge1xuICAgICAgICAgIHN3aXRjaCAocGFydC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwidGV4dFwiOiB7XG4gICAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgICAgICAgICAgY29udGVudDogW3sgdHlwZTogXCJvdXRwdXRfdGV4dFwiLCB0ZXh0OiBwYXJ0LnRleHQgfV1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb2wtY2FsbFwiOiB7XG4gICAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiZnVuY3Rpb25fY2FsbFwiLFxuICAgICAgICAgICAgICAgIGNhbGxfaWQ6IHBhcnQudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBwYXJ0LnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgIGFyZ3VtZW50czogSlNPTi5zdHJpbmdpZnkocGFydC5hcmdzKVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcInRvb2xcIjoge1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgY29udGVudCkge1xuICAgICAgICAgIG1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogXCJmdW5jdGlvbl9jYWxsX291dHB1dFwiLFxuICAgICAgICAgICAgY2FsbF9pZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgb3V0cHV0OiBKU09OLnN0cmluZ2lmeShwYXJ0LnJlc3VsdClcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjayA9IHJvbGU7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgcm9sZTogJHtfZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4geyBtZXNzYWdlcywgd2FybmluZ3MgfTtcbn1cblxuLy8gc3JjL3Jlc3BvbnNlcy9tYXAtb3BlbmFpLXJlc3BvbnNlcy1maW5pc2gtcmVhc29uLnRzXG5mdW5jdGlvbiBtYXBPcGVuQUlSZXNwb25zZUZpbmlzaFJlYXNvbih7XG4gIGZpbmlzaFJlYXNvbixcbiAgaGFzVG9vbENhbGxzXG59KSB7XG4gIHN3aXRjaCAoZmluaXNoUmVhc29uKSB7XG4gICAgY2FzZSB2b2lkIDA6XG4gICAgY2FzZSBudWxsOlxuICAgICAgcmV0dXJuIGhhc1Rvb2xDYWxscyA/IFwidG9vbC1jYWxsc1wiIDogXCJzdG9wXCI7XG4gICAgY2FzZSBcIm1heF9vdXRwdXRfdG9rZW5zXCI6XG4gICAgICByZXR1cm4gXCJsZW5ndGhcIjtcbiAgICBjYXNlIFwiY29udGVudF9maWx0ZXJcIjpcbiAgICAgIHJldHVybiBcImNvbnRlbnQtZmlsdGVyXCI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBoYXNUb29sQ2FsbHMgPyBcInRvb2wtY2FsbHNcIiA6IFwidW5rbm93blwiO1xuICB9XG59XG5cbi8vIHNyYy9yZXNwb25zZXMvb3BlbmFpLXJlc3BvbnNlcy1wcmVwYXJlLXRvb2xzLnRzXG5pbXBvcnQge1xuICBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvciBhcyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcjdcbn0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbmZ1bmN0aW9uIHByZXBhcmVSZXNwb25zZXNUb29scyh7XG4gIG1vZGUsXG4gIHN0cmljdFxufSkge1xuICB2YXIgX2E7XG4gIGNvbnN0IHRvb2xzID0gKChfYSA9IG1vZGUudG9vbHMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5sZW5ndGgpID8gbW9kZS50b29scyA6IHZvaWQgMDtcbiAgY29uc3QgdG9vbFdhcm5pbmdzID0gW107XG4gIGlmICh0b29scyA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHsgdG9vbHM6IHZvaWQgMCwgdG9vbF9jaG9pY2U6IHZvaWQgMCwgdG9vbFdhcm5pbmdzIH07XG4gIH1cbiAgY29uc3QgdG9vbENob2ljZSA9IG1vZGUudG9vbENob2ljZTtcbiAgY29uc3Qgb3BlbmFpVG9vbHMyID0gW107XG4gIGZvciAoY29uc3QgdG9vbCBvZiB0b29scykge1xuICAgIHN3aXRjaCAodG9vbC50eXBlKSB7XG4gICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgb3BlbmFpVG9vbHMyLnB1c2goe1xuICAgICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICBuYW1lOiB0b29sLm5hbWUsXG4gICAgICAgICAgZGVzY3JpcHRpb246IHRvb2wuZGVzY3JpcHRpb24sXG4gICAgICAgICAgcGFyYW1ldGVyczogdG9vbC5wYXJhbWV0ZXJzLFxuICAgICAgICAgIHN0cmljdDogc3RyaWN0ID8gdHJ1ZSA6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicHJvdmlkZXItZGVmaW5lZFwiOlxuICAgICAgICBzd2l0Y2ggKHRvb2wuaWQpIHtcbiAgICAgICAgICBjYXNlIFwib3BlbmFpLndlYl9zZWFyY2hfcHJldmlld1wiOlxuICAgICAgICAgICAgb3BlbmFpVG9vbHMyLnB1c2goe1xuICAgICAgICAgICAgICB0eXBlOiBcIndlYl9zZWFyY2hfcHJldmlld1wiLFxuICAgICAgICAgICAgICBzZWFyY2hfY29udGV4dF9zaXplOiB0b29sLmFyZ3Muc2VhcmNoQ29udGV4dFNpemUsXG4gICAgICAgICAgICAgIHVzZXJfbG9jYXRpb246IHRvb2wuYXJncy51c2VyTG9jYXRpb25cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRvb2xXYXJuaW5ncy5wdXNoKHsgdHlwZTogXCJ1bnN1cHBvcnRlZC10b29sXCIsIHRvb2wgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRvb2xXYXJuaW5ncy5wdXNoKHsgdHlwZTogXCJ1bnN1cHBvcnRlZC10b29sXCIsIHRvb2wgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBpZiAodG9vbENob2ljZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHsgdG9vbHM6IG9wZW5haVRvb2xzMiwgdG9vbF9jaG9pY2U6IHZvaWQgMCwgdG9vbFdhcm5pbmdzIH07XG4gIH1cbiAgY29uc3QgdHlwZSA9IHRvb2xDaG9pY2UudHlwZTtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBcImF1dG9cIjpcbiAgICBjYXNlIFwibm9uZVwiOlxuICAgIGNhc2UgXCJyZXF1aXJlZFwiOlxuICAgICAgcmV0dXJuIHsgdG9vbHM6IG9wZW5haVRvb2xzMiwgdG9vbF9jaG9pY2U6IHR5cGUsIHRvb2xXYXJuaW5ncyB9O1xuICAgIGNhc2UgXCJ0b29sXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b29sczogb3BlbmFpVG9vbHMyLFxuICAgICAgICB0b29sX2Nob2ljZToge1xuICAgICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICBuYW1lOiB0b29sQ2hvaWNlLnRvb2xOYW1lXG4gICAgICAgIH0sXG4gICAgICAgIHRvb2xXYXJuaW5nc1xuICAgICAgfTtcbiAgICBkZWZhdWx0OiB7XG4gICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrID0gdHlwZTtcbiAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcjcoe1xuICAgICAgICBmdW5jdGlvbmFsaXR5OiBgVW5zdXBwb3J0ZWQgdG9vbCBjaG9pY2UgdHlwZTogJHtfZXhoYXVzdGl2ZUNoZWNrfWBcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuXG4vLyBzcmMvcmVzcG9uc2VzL29wZW5haS1yZXNwb25zZXMtbGFuZ3VhZ2UtbW9kZWwudHNcbnZhciBPcGVuQUlSZXNwb25zZXNMYW5ndWFnZU1vZGVsID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihtb2RlbElkLCBjb25maWcpIHtcbiAgICB0aGlzLnNwZWNpZmljYXRpb25WZXJzaW9uID0gXCJ2MVwiO1xuICAgIHRoaXMuZGVmYXVsdE9iamVjdEdlbmVyYXRpb25Nb2RlID0gXCJqc29uXCI7XG4gICAgdGhpcy5tb2RlbElkID0gbW9kZWxJZDtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgfVxuICBnZXQgcHJvdmlkZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLnByb3ZpZGVyO1xuICB9XG4gIGdldEFyZ3Moe1xuICAgIG1vZGUsXG4gICAgbWF4VG9rZW5zLFxuICAgIHRlbXBlcmF0dXJlLFxuICAgIHN0b3BTZXF1ZW5jZXMsXG4gICAgdG9wUCxcbiAgICB0b3BLLFxuICAgIHByZXNlbmNlUGVuYWx0eSxcbiAgICBmcmVxdWVuY3lQZW5hbHR5LFxuICAgIHNlZWQsXG4gICAgcHJvbXB0LFxuICAgIHByb3ZpZGVyTWV0YWRhdGEsXG4gICAgcmVzcG9uc2VGb3JtYXRcbiAgfSkge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIGNvbnN0IHdhcm5pbmdzID0gW107XG4gICAgY29uc3QgbW9kZWxDb25maWcgPSBnZXRSZXNwb25zZXNNb2RlbENvbmZpZyh0aGlzLm1vZGVsSWQpO1xuICAgIGNvbnN0IHR5cGUgPSBtb2RlLnR5cGU7XG4gICAgaWYgKHRvcEsgIT0gbnVsbCkge1xuICAgICAgd2FybmluZ3MucHVzaCh7XG4gICAgICAgIHR5cGU6IFwidW5zdXBwb3J0ZWQtc2V0dGluZ1wiLFxuICAgICAgICBzZXR0aW5nOiBcInRvcEtcIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChzZWVkICE9IG51bGwpIHtcbiAgICAgIHdhcm5pbmdzLnB1c2goe1xuICAgICAgICB0eXBlOiBcInVuc3VwcG9ydGVkLXNldHRpbmdcIixcbiAgICAgICAgc2V0dGluZzogXCJzZWVkXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAocHJlc2VuY2VQZW5hbHR5ICE9IG51bGwpIHtcbiAgICAgIHdhcm5pbmdzLnB1c2goe1xuICAgICAgICB0eXBlOiBcInVuc3VwcG9ydGVkLXNldHRpbmdcIixcbiAgICAgICAgc2V0dGluZzogXCJwcmVzZW5jZVBlbmFsdHlcIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChmcmVxdWVuY3lQZW5hbHR5ICE9IG51bGwpIHtcbiAgICAgIHdhcm5pbmdzLnB1c2goe1xuICAgICAgICB0eXBlOiBcInVuc3VwcG9ydGVkLXNldHRpbmdcIixcbiAgICAgICAgc2V0dGluZzogXCJmcmVxdWVuY3lQZW5hbHR5XCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoc3RvcFNlcXVlbmNlcyAhPSBudWxsKSB7XG4gICAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgICAgdHlwZTogXCJ1bnN1cHBvcnRlZC1zZXR0aW5nXCIsXG4gICAgICAgIHNldHRpbmc6IFwic3RvcFNlcXVlbmNlc1wiXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgeyBtZXNzYWdlcywgd2FybmluZ3M6IG1lc3NhZ2VXYXJuaW5ncyB9ID0gY29udmVydFRvT3BlbkFJUmVzcG9uc2VzTWVzc2FnZXMoe1xuICAgICAgcHJvbXB0LFxuICAgICAgc3lzdGVtTWVzc2FnZU1vZGU6IG1vZGVsQ29uZmlnLnN5c3RlbU1lc3NhZ2VNb2RlXG4gICAgfSk7XG4gICAgd2FybmluZ3MucHVzaCguLi5tZXNzYWdlV2FybmluZ3MpO1xuICAgIGNvbnN0IG9wZW5haU9wdGlvbnMgPSBwYXJzZVByb3ZpZGVyT3B0aW9ucyh7XG4gICAgICBwcm92aWRlcjogXCJvcGVuYWlcIixcbiAgICAgIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgIHNjaGVtYTogb3BlbmFpUmVzcG9uc2VzUHJvdmlkZXJPcHRpb25zU2NoZW1hXG4gICAgfSk7XG4gICAgY29uc3QgaXNTdHJpY3QgPSAoX2EgPSBvcGVuYWlPcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcGVuYWlPcHRpb25zLnN0cmljdFNjaGVtYXMpICE9IG51bGwgPyBfYSA6IHRydWU7XG4gICAgY29uc3QgYmFzZUFyZ3MgPSB7XG4gICAgICBtb2RlbDogdGhpcy5tb2RlbElkLFxuICAgICAgaW5wdXQ6IG1lc3NhZ2VzLFxuICAgICAgdGVtcGVyYXR1cmUsXG4gICAgICB0b3BfcDogdG9wUCxcbiAgICAgIG1heF9vdXRwdXRfdG9rZW5zOiBtYXhUb2tlbnMsXG4gICAgICAuLi4ocmVzcG9uc2VGb3JtYXQgPT0gbnVsbCA/IHZvaWQgMCA6IHJlc3BvbnNlRm9ybWF0LnR5cGUpID09PSBcImpzb25cIiAmJiB7XG4gICAgICAgIHRleHQ6IHtcbiAgICAgICAgICBmb3JtYXQ6IHJlc3BvbnNlRm9ybWF0LnNjaGVtYSAhPSBudWxsID8ge1xuICAgICAgICAgICAgdHlwZTogXCJqc29uX3NjaGVtYVwiLFxuICAgICAgICAgICAgc3RyaWN0OiBpc1N0cmljdCxcbiAgICAgICAgICAgIG5hbWU6IChfYiA9IHJlc3BvbnNlRm9ybWF0Lm5hbWUpICE9IG51bGwgPyBfYiA6IFwicmVzcG9uc2VcIixcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiByZXNwb25zZUZvcm1hdC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIHNjaGVtYTogcmVzcG9uc2VGb3JtYXQuc2NoZW1hXG4gICAgICAgICAgfSA6IHsgdHlwZTogXCJqc29uX29iamVjdFwiIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8vIHByb3ZpZGVyIG9wdGlvbnM6XG4gICAgICBtZXRhZGF0YTogb3BlbmFpT3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3BlbmFpT3B0aW9ucy5tZXRhZGF0YSxcbiAgICAgIHBhcmFsbGVsX3Rvb2xfY2FsbHM6IG9wZW5haU9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wZW5haU9wdGlvbnMucGFyYWxsZWxUb29sQ2FsbHMsXG4gICAgICBwcmV2aW91c19yZXNwb25zZV9pZDogb3BlbmFpT3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3BlbmFpT3B0aW9ucy5wcmV2aW91c1Jlc3BvbnNlSWQsXG4gICAgICBzdG9yZTogb3BlbmFpT3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3BlbmFpT3B0aW9ucy5zdG9yZSxcbiAgICAgIHVzZXI6IG9wZW5haU9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wZW5haU9wdGlvbnMudXNlcixcbiAgICAgIGluc3RydWN0aW9uczogb3BlbmFpT3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3BlbmFpT3B0aW9ucy5pbnN0cnVjdGlvbnMsXG4gICAgICAvLyBtb2RlbC1zcGVjaWZpYyBzZXR0aW5nczpcbiAgICAgIC4uLm1vZGVsQ29uZmlnLmlzUmVhc29uaW5nTW9kZWwgJiYgKG9wZW5haU9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wZW5haU9wdGlvbnMucmVhc29uaW5nRWZmb3J0KSAhPSBudWxsICYmIHtcbiAgICAgICAgcmVhc29uaW5nOiB7IGVmZm9ydDogb3BlbmFpT3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3BlbmFpT3B0aW9ucy5yZWFzb25pbmdFZmZvcnQgfVxuICAgICAgfSxcbiAgICAgIC4uLm1vZGVsQ29uZmlnLnJlcXVpcmVkQXV0b1RydW5jYXRpb24gJiYge1xuICAgICAgICB0cnVuY2F0aW9uOiBcImF1dG9cIlxuICAgICAgfVxuICAgIH07XG4gICAgaWYgKG1vZGVsQ29uZmlnLmlzUmVhc29uaW5nTW9kZWwpIHtcbiAgICAgIGlmIChiYXNlQXJncy50ZW1wZXJhdHVyZSAhPSBudWxsKSB7XG4gICAgICAgIGJhc2VBcmdzLnRlbXBlcmF0dXJlID0gdm9pZCAwO1xuICAgICAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiBcInVuc3VwcG9ydGVkLXNldHRpbmdcIixcbiAgICAgICAgICBzZXR0aW5nOiBcInRlbXBlcmF0dXJlXCIsXG4gICAgICAgICAgZGV0YWlsczogXCJ0ZW1wZXJhdHVyZSBpcyBub3Qgc3VwcG9ydGVkIGZvciByZWFzb25pbmcgbW9kZWxzXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoYmFzZUFyZ3MudG9wX3AgIT0gbnVsbCkge1xuICAgICAgICBiYXNlQXJncy50b3BfcCA9IHZvaWQgMDtcbiAgICAgICAgd2FybmluZ3MucHVzaCh7XG4gICAgICAgICAgdHlwZTogXCJ1bnN1cHBvcnRlZC1zZXR0aW5nXCIsXG4gICAgICAgICAgc2V0dGluZzogXCJ0b3BQXCIsXG4gICAgICAgICAgZGV0YWlsczogXCJ0b3BQIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIHJlYXNvbmluZyBtb2RlbHNcIlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwicmVndWxhclwiOiB7XG4gICAgICAgIGNvbnN0IHsgdG9vbHMsIHRvb2xfY2hvaWNlLCB0b29sV2FybmluZ3MgfSA9IHByZXBhcmVSZXNwb25zZXNUb29scyh7XG4gICAgICAgICAgbW9kZSxcbiAgICAgICAgICBzdHJpY3Q6IGlzU3RyaWN0XG4gICAgICAgICAgLy8gVE9ETyBzdXBwb3J0IHByb3ZpZGVyIG9wdGlvbnMgb24gdG9vbHNcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYXJnczoge1xuICAgICAgICAgICAgLi4uYmFzZUFyZ3MsXG4gICAgICAgICAgICB0b29scyxcbiAgICAgICAgICAgIHRvb2xfY2hvaWNlXG4gICAgICAgICAgfSxcbiAgICAgICAgICB3YXJuaW5nczogWy4uLndhcm5pbmdzLCAuLi50b29sV2FybmluZ3NdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBjYXNlIFwib2JqZWN0LWpzb25cIjoge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFyZ3M6IHtcbiAgICAgICAgICAgIC4uLmJhc2VBcmdzLFxuICAgICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgICBmb3JtYXQ6IG1vZGUuc2NoZW1hICE9IG51bGwgPyB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJqc29uX3NjaGVtYVwiLFxuICAgICAgICAgICAgICAgIHN0cmljdDogaXNTdHJpY3QsXG4gICAgICAgICAgICAgICAgbmFtZTogKF9jID0gbW9kZS5uYW1lKSAhPSBudWxsID8gX2MgOiBcInJlc3BvbnNlXCIsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IG1vZGUuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgc2NoZW1hOiBtb2RlLnNjaGVtYVxuICAgICAgICAgICAgICB9IDogeyB0eXBlOiBcImpzb25fb2JqZWN0XCIgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgd2FybmluZ3NcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJvYmplY3QtdG9vbFwiOiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYXJnczoge1xuICAgICAgICAgICAgLi4uYmFzZUFyZ3MsXG4gICAgICAgICAgICB0b29sX2Nob2ljZTogeyB0eXBlOiBcImZ1bmN0aW9uXCIsIG5hbWU6IG1vZGUudG9vbC5uYW1lIH0sXG4gICAgICAgICAgICB0b29sczogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgICAgIG5hbWU6IG1vZGUudG9vbC5uYW1lLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBtb2RlLnRvb2wuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgcGFyYW1ldGVyczogbW9kZS50b29sLnBhcmFtZXRlcnMsXG4gICAgICAgICAgICAgICAgc3RyaWN0OiBpc1N0cmljdFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAgfSxcbiAgICAgICAgICB3YXJuaW5nc1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrID0gdHlwZTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCB0eXBlOiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGFzeW5jIGRvR2VuZXJhdGUob3B0aW9ucykge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgY29uc3QgeyBhcmdzOiBib2R5LCB3YXJuaW5ncyB9ID0gdGhpcy5nZXRBcmdzKG9wdGlvbnMpO1xuICAgIGNvbnN0IHtcbiAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgIHZhbHVlOiByZXNwb25zZSxcbiAgICAgIHJhd1ZhbHVlOiByYXdSZXNwb25zZVxuICAgIH0gPSBhd2FpdCBwb3N0SnNvblRvQXBpNSh7XG4gICAgICB1cmw6IHRoaXMuY29uZmlnLnVybCh7XG4gICAgICAgIHBhdGg6IFwiL3Jlc3BvbnNlc1wiLFxuICAgICAgICBtb2RlbElkOiB0aGlzLm1vZGVsSWRcbiAgICAgIH0pLFxuICAgICAgaGVhZGVyczogY29tYmluZUhlYWRlcnM1KHRoaXMuY29uZmlnLmhlYWRlcnMoKSwgb3B0aW9ucy5oZWFkZXJzKSxcbiAgICAgIGJvZHksXG4gICAgICBmYWlsZWRSZXNwb25zZUhhbmRsZXI6IG9wZW5haUZhaWxlZFJlc3BvbnNlSGFuZGxlcixcbiAgICAgIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXI6IGNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXI1KFxuICAgICAgICB6Ni5vYmplY3Qoe1xuICAgICAgICAgIGlkOiB6Ni5zdHJpbmcoKSxcbiAgICAgICAgICBjcmVhdGVkX2F0OiB6Ni5udW1iZXIoKSxcbiAgICAgICAgICBtb2RlbDogejYuc3RyaW5nKCksXG4gICAgICAgICAgb3V0cHV0OiB6Ni5hcnJheShcbiAgICAgICAgICAgIHo2LmRpc2NyaW1pbmF0ZWRVbmlvbihcInR5cGVcIiwgW1xuICAgICAgICAgICAgICB6Ni5vYmplY3Qoe1xuICAgICAgICAgICAgICAgIHR5cGU6IHo2LmxpdGVyYWwoXCJtZXNzYWdlXCIpLFxuICAgICAgICAgICAgICAgIHJvbGU6IHo2LmxpdGVyYWwoXCJhc3Npc3RhbnRcIiksXG4gICAgICAgICAgICAgICAgY29udGVudDogejYuYXJyYXkoXG4gICAgICAgICAgICAgICAgICB6Ni5vYmplY3Qoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiB6Ni5saXRlcmFsKFwib3V0cHV0X3RleHRcIiksXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHo2LnN0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uczogejYuYXJyYXkoXG4gICAgICAgICAgICAgICAgICAgICAgejYub2JqZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHo2LmxpdGVyYWwoXCJ1cmxfY2l0YXRpb25cIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydF9pbmRleDogejYubnVtYmVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRfaW5kZXg6IHo2Lm51bWJlcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB6Ni5zdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB6Ni5zdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgejYub2JqZWN0KHtcbiAgICAgICAgICAgICAgICB0eXBlOiB6Ni5saXRlcmFsKFwiZnVuY3Rpb25fY2FsbFwiKSxcbiAgICAgICAgICAgICAgICBjYWxsX2lkOiB6Ni5zdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBuYW1lOiB6Ni5zdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBhcmd1bWVudHM6IHo2LnN0cmluZygpXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICB6Ni5vYmplY3Qoe1xuICAgICAgICAgICAgICAgIHR5cGU6IHo2LmxpdGVyYWwoXCJ3ZWJfc2VhcmNoX2NhbGxcIilcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIHo2Lm9iamVjdCh7XG4gICAgICAgICAgICAgICAgdHlwZTogejYubGl0ZXJhbChcImNvbXB1dGVyX2NhbGxcIilcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIHo2Lm9iamVjdCh7XG4gICAgICAgICAgICAgICAgdHlwZTogejYubGl0ZXJhbChcInJlYXNvbmluZ1wiKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgXSlcbiAgICAgICAgICApLFxuICAgICAgICAgIGluY29tcGxldGVfZGV0YWlsczogejYub2JqZWN0KHsgcmVhc29uOiB6Ni5zdHJpbmcoKSB9KS5udWxsYWJsZSgpLFxuICAgICAgICAgIHVzYWdlOiB1c2FnZVNjaGVtYVxuICAgICAgICB9KVxuICAgICAgKSxcbiAgICAgIGFib3J0U2lnbmFsOiBvcHRpb25zLmFib3J0U2lnbmFsLFxuICAgICAgZmV0Y2g6IHRoaXMuY29uZmlnLmZldGNoXG4gICAgfSk7XG4gICAgY29uc3Qgb3V0cHV0VGV4dEVsZW1lbnRzID0gcmVzcG9uc2Uub3V0cHV0LmZpbHRlcigob3V0cHV0KSA9PiBvdXRwdXQudHlwZSA9PT0gXCJtZXNzYWdlXCIpLmZsYXRNYXAoKG91dHB1dCkgPT4gb3V0cHV0LmNvbnRlbnQpLmZpbHRlcigoY29udGVudCkgPT4gY29udGVudC50eXBlID09PSBcIm91dHB1dF90ZXh0XCIpO1xuICAgIGNvbnN0IHRvb2xDYWxscyA9IHJlc3BvbnNlLm91dHB1dC5maWx0ZXIoKG91dHB1dCkgPT4gb3V0cHV0LnR5cGUgPT09IFwiZnVuY3Rpb25fY2FsbFwiKS5tYXAoKG91dHB1dCkgPT4gKHtcbiAgICAgIHRvb2xDYWxsVHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgdG9vbENhbGxJZDogb3V0cHV0LmNhbGxfaWQsXG4gICAgICB0b29sTmFtZTogb3V0cHV0Lm5hbWUsXG4gICAgICBhcmdzOiBvdXRwdXQuYXJndW1lbnRzXG4gICAgfSkpO1xuICAgIHJldHVybiB7XG4gICAgICB0ZXh0OiBvdXRwdXRUZXh0RWxlbWVudHMubWFwKChjb250ZW50KSA9PiBjb250ZW50LnRleHQpLmpvaW4oXCJcXG5cIiksXG4gICAgICBzb3VyY2VzOiBvdXRwdXRUZXh0RWxlbWVudHMuZmxhdE1hcChcbiAgICAgICAgKGNvbnRlbnQpID0+IGNvbnRlbnQuYW5ub3RhdGlvbnMubWFwKChhbm5vdGF0aW9uKSA9PiB7XG4gICAgICAgICAgdmFyIF9hMiwgX2IyLCBfYzI7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNvdXJjZVR5cGU6IFwidXJsXCIsXG4gICAgICAgICAgICBpZDogKF9jMiA9IChfYjIgPSAoX2EyID0gdGhpcy5jb25maWcpLmdlbmVyYXRlSWQpID09IG51bGwgPyB2b2lkIDAgOiBfYjIuY2FsbChfYTIpKSAhPSBudWxsID8gX2MyIDogZ2VuZXJhdGVJZDIoKSxcbiAgICAgICAgICAgIHVybDogYW5ub3RhdGlvbi51cmwsXG4gICAgICAgICAgICB0aXRsZTogYW5ub3RhdGlvbi50aXRsZVxuICAgICAgICAgIH07XG4gICAgICAgIH0pXG4gICAgICApLFxuICAgICAgZmluaXNoUmVhc29uOiBtYXBPcGVuQUlSZXNwb25zZUZpbmlzaFJlYXNvbih7XG4gICAgICAgIGZpbmlzaFJlYXNvbjogKF9hID0gcmVzcG9uc2UuaW5jb21wbGV0ZV9kZXRhaWxzKSA9PSBudWxsID8gdm9pZCAwIDogX2EucmVhc29uLFxuICAgICAgICBoYXNUb29sQ2FsbHM6IHRvb2xDYWxscy5sZW5ndGggPiAwXG4gICAgICB9KSxcbiAgICAgIHRvb2xDYWxsczogdG9vbENhbGxzLmxlbmd0aCA+IDAgPyB0b29sQ2FsbHMgOiB2b2lkIDAsXG4gICAgICB1c2FnZToge1xuICAgICAgICBwcm9tcHRUb2tlbnM6IHJlc3BvbnNlLnVzYWdlLmlucHV0X3Rva2VucyxcbiAgICAgICAgY29tcGxldGlvblRva2VuczogcmVzcG9uc2UudXNhZ2Uub3V0cHV0X3Rva2Vuc1xuICAgICAgfSxcbiAgICAgIHJhd0NhbGw6IHtcbiAgICAgICAgcmF3UHJvbXB0OiB2b2lkIDAsXG4gICAgICAgIHJhd1NldHRpbmdzOiB7fVxuICAgICAgfSxcbiAgICAgIHJhd1Jlc3BvbnNlOiB7XG4gICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgYm9keTogcmF3UmVzcG9uc2VcbiAgICAgIH0sXG4gICAgICByZXF1ZXN0OiB7XG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpXG4gICAgICB9LFxuICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgaWQ6IHJlc3BvbnNlLmlkLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKHJlc3BvbnNlLmNyZWF0ZWRfYXQgKiAxZTMpLFxuICAgICAgICBtb2RlbElkOiByZXNwb25zZS5tb2RlbFxuICAgICAgfSxcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IHtcbiAgICAgICAgb3BlbmFpOiB7XG4gICAgICAgICAgcmVzcG9uc2VJZDogcmVzcG9uc2UuaWQsXG4gICAgICAgICAgY2FjaGVkUHJvbXB0VG9rZW5zOiAoX2MgPSAoX2IgPSByZXNwb25zZS51c2FnZS5pbnB1dF90b2tlbnNfZGV0YWlscykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmNhY2hlZF90b2tlbnMpICE9IG51bGwgPyBfYyA6IG51bGwsXG4gICAgICAgICAgcmVhc29uaW5nVG9rZW5zOiAoX2UgPSAoX2QgPSByZXNwb25zZS51c2FnZS5vdXRwdXRfdG9rZW5zX2RldGFpbHMpID09IG51bGwgPyB2b2lkIDAgOiBfZC5yZWFzb25pbmdfdG9rZW5zKSAhPSBudWxsID8gX2UgOiBudWxsXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB3YXJuaW5nc1xuICAgIH07XG4gIH1cbiAgYXN5bmMgZG9TdHJlYW0ob3B0aW9ucykge1xuICAgIGNvbnN0IHsgYXJnczogYm9keSwgd2FybmluZ3MgfSA9IHRoaXMuZ2V0QXJncyhvcHRpb25zKTtcbiAgICBjb25zdCB7IHJlc3BvbnNlSGVhZGVycywgdmFsdWU6IHJlc3BvbnNlIH0gPSBhd2FpdCBwb3N0SnNvblRvQXBpNSh7XG4gICAgICB1cmw6IHRoaXMuY29uZmlnLnVybCh7XG4gICAgICAgIHBhdGg6IFwiL3Jlc3BvbnNlc1wiLFxuICAgICAgICBtb2RlbElkOiB0aGlzLm1vZGVsSWRcbiAgICAgIH0pLFxuICAgICAgaGVhZGVyczogY29tYmluZUhlYWRlcnM1KHRoaXMuY29uZmlnLmhlYWRlcnMoKSwgb3B0aW9ucy5oZWFkZXJzKSxcbiAgICAgIGJvZHk6IHtcbiAgICAgICAgLi4uYm9keSxcbiAgICAgICAgc3RyZWFtOiB0cnVlXG4gICAgICB9LFxuICAgICAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyOiBvcGVuYWlGYWlsZWRSZXNwb25zZUhhbmRsZXIsXG4gICAgICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyOiBjcmVhdGVFdmVudFNvdXJjZVJlc3BvbnNlSGFuZGxlcjMoXG4gICAgICAgIG9wZW5haVJlc3BvbnNlc0NodW5rU2NoZW1hXG4gICAgICApLFxuICAgICAgYWJvcnRTaWduYWw6IG9wdGlvbnMuYWJvcnRTaWduYWwsXG4gICAgICBmZXRjaDogdGhpcy5jb25maWcuZmV0Y2hcbiAgICB9KTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBsZXQgZmluaXNoUmVhc29uID0gXCJ1bmtub3duXCI7XG4gICAgbGV0IHByb21wdFRva2VucyA9IE5hTjtcbiAgICBsZXQgY29tcGxldGlvblRva2VucyA9IE5hTjtcbiAgICBsZXQgY2FjaGVkUHJvbXB0VG9rZW5zID0gbnVsbDtcbiAgICBsZXQgcmVhc29uaW5nVG9rZW5zID0gbnVsbDtcbiAgICBsZXQgcmVzcG9uc2VJZCA9IG51bGw7XG4gICAgY29uc3Qgb25nb2luZ1Rvb2xDYWxscyA9IHt9O1xuICAgIGxldCBoYXNUb29sQ2FsbHMgPSBmYWxzZTtcbiAgICByZXR1cm4ge1xuICAgICAgc3RyZWFtOiByZXNwb25zZS5waXBlVGhyb3VnaChcbiAgICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbSh7XG4gICAgICAgICAgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oO1xuICAgICAgICAgICAgaWYgKCFjaHVuay5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgIGZpbmlzaFJlYXNvbiA9IFwiZXJyb3JcIjtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogXCJlcnJvclwiLCBlcnJvcjogY2h1bmsuZXJyb3IgfSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY2h1bmsudmFsdWU7XG4gICAgICAgICAgICBpZiAoaXNSZXNwb25zZU91dHB1dEl0ZW1BZGRlZENodW5rKHZhbHVlKSkge1xuICAgICAgICAgICAgICBpZiAodmFsdWUuaXRlbS50eXBlID09PSBcImZ1bmN0aW9uX2NhbGxcIikge1xuICAgICAgICAgICAgICAgIG9uZ29pbmdUb29sQ2FsbHNbdmFsdWUub3V0cHV0X2luZGV4XSA9IHtcbiAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiB2YWx1ZS5pdGVtLm5hbWUsXG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiB2YWx1ZS5pdGVtLmNhbGxfaWRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBcInRvb2wtY2FsbC1kZWx0YVwiLFxuICAgICAgICAgICAgICAgICAgdG9vbENhbGxUeXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiB2YWx1ZS5pdGVtLmNhbGxfaWQsXG4gICAgICAgICAgICAgICAgICB0b29sTmFtZTogdmFsdWUuaXRlbS5uYW1lLFxuICAgICAgICAgICAgICAgICAgYXJnc1RleHREZWx0YTogdmFsdWUuaXRlbS5hcmd1bWVudHNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc1Jlc3BvbnNlRnVuY3Rpb25DYWxsQXJndW1lbnRzRGVsdGFDaHVuayh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgY29uc3QgdG9vbENhbGwgPSBvbmdvaW5nVG9vbENhbGxzW3ZhbHVlLm91dHB1dF9pbmRleF07XG4gICAgICAgICAgICAgIGlmICh0b29sQ2FsbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwidG9vbC1jYWxsLWRlbHRhXCIsXG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbFR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHRvb2xDYWxsLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICB0b29sTmFtZTogdG9vbENhbGwudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICBhcmdzVGV4dERlbHRhOiB2YWx1ZS5kZWx0YVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzUmVzcG9uc2VDcmVhdGVkQ2h1bmsodmFsdWUpKSB7XG4gICAgICAgICAgICAgIHJlc3BvbnNlSWQgPSB2YWx1ZS5yZXNwb25zZS5pZDtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInJlc3BvbnNlLW1ldGFkYXRhXCIsXG4gICAgICAgICAgICAgICAgaWQ6IHZhbHVlLnJlc3BvbnNlLmlkLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUodmFsdWUucmVzcG9uc2UuY3JlYXRlZF9hdCAqIDFlMyksXG4gICAgICAgICAgICAgICAgbW9kZWxJZDogdmFsdWUucmVzcG9uc2UubW9kZWxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzVGV4dERlbHRhQ2h1bmsodmFsdWUpKSB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0LWRlbHRhXCIsXG4gICAgICAgICAgICAgICAgdGV4dERlbHRhOiB2YWx1ZS5kZWx0YVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNSZXNwb25zZU91dHB1dEl0ZW1Eb25lQ2h1bmsodmFsdWUpICYmIHZhbHVlLml0ZW0udHlwZSA9PT0gXCJmdW5jdGlvbl9jYWxsXCIpIHtcbiAgICAgICAgICAgICAgb25nb2luZ1Rvb2xDYWxsc1t2YWx1ZS5vdXRwdXRfaW5kZXhdID0gdm9pZCAwO1xuICAgICAgICAgICAgICBoYXNUb29sQ2FsbHMgPSB0cnVlO1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwidG9vbC1jYWxsXCIsXG4gICAgICAgICAgICAgICAgdG9vbENhbGxUeXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAgICAgdG9vbENhbGxJZDogdmFsdWUuaXRlbS5jYWxsX2lkLFxuICAgICAgICAgICAgICAgIHRvb2xOYW1lOiB2YWx1ZS5pdGVtLm5hbWUsXG4gICAgICAgICAgICAgICAgYXJnczogdmFsdWUuaXRlbS5hcmd1bWVudHNcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzUmVzcG9uc2VGaW5pc2hlZENodW5rKHZhbHVlKSkge1xuICAgICAgICAgICAgICBmaW5pc2hSZWFzb24gPSBtYXBPcGVuQUlSZXNwb25zZUZpbmlzaFJlYXNvbih7XG4gICAgICAgICAgICAgICAgZmluaXNoUmVhc29uOiAoX2EgPSB2YWx1ZS5yZXNwb25zZS5pbmNvbXBsZXRlX2RldGFpbHMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5yZWFzb24sXG4gICAgICAgICAgICAgICAgaGFzVG9vbENhbGxzXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBwcm9tcHRUb2tlbnMgPSB2YWx1ZS5yZXNwb25zZS51c2FnZS5pbnB1dF90b2tlbnM7XG4gICAgICAgICAgICAgIGNvbXBsZXRpb25Ub2tlbnMgPSB2YWx1ZS5yZXNwb25zZS51c2FnZS5vdXRwdXRfdG9rZW5zO1xuICAgICAgICAgICAgICBjYWNoZWRQcm9tcHRUb2tlbnMgPSAoX2MgPSAoX2IgPSB2YWx1ZS5yZXNwb25zZS51c2FnZS5pbnB1dF90b2tlbnNfZGV0YWlscykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmNhY2hlZF90b2tlbnMpICE9IG51bGwgPyBfYyA6IGNhY2hlZFByb21wdFRva2VucztcbiAgICAgICAgICAgICAgcmVhc29uaW5nVG9rZW5zID0gKF9lID0gKF9kID0gdmFsdWUucmVzcG9uc2UudXNhZ2Uub3V0cHV0X3Rva2Vuc19kZXRhaWxzKSA9PSBudWxsID8gdm9pZCAwIDogX2QucmVhc29uaW5nX3Rva2VucykgIT0gbnVsbCA/IF9lIDogcmVhc29uaW5nVG9rZW5zO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc1Jlc3BvbnNlQW5ub3RhdGlvbkFkZGVkQ2h1bmsodmFsdWUpKSB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJzb3VyY2VcIixcbiAgICAgICAgICAgICAgICBzb3VyY2U6IHtcbiAgICAgICAgICAgICAgICAgIHNvdXJjZVR5cGU6IFwidXJsXCIsXG4gICAgICAgICAgICAgICAgICBpZDogKF9oID0gKF9nID0gKF9mID0gc2VsZi5jb25maWcpLmdlbmVyYXRlSWQpID09IG51bGwgPyB2b2lkIDAgOiBfZy5jYWxsKF9mKSkgIT0gbnVsbCA/IF9oIDogZ2VuZXJhdGVJZDIoKSxcbiAgICAgICAgICAgICAgICAgIHVybDogdmFsdWUuYW5ub3RhdGlvbi51cmwsXG4gICAgICAgICAgICAgICAgICB0aXRsZTogdmFsdWUuYW5ub3RhdGlvbi50aXRsZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmbHVzaChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICB0eXBlOiBcImZpbmlzaFwiLFxuICAgICAgICAgICAgICBmaW5pc2hSZWFzb24sXG4gICAgICAgICAgICAgIHVzYWdlOiB7IHByb21wdFRva2VucywgY29tcGxldGlvblRva2VucyB9LFxuICAgICAgICAgICAgICAuLi4oY2FjaGVkUHJvbXB0VG9rZW5zICE9IG51bGwgfHwgcmVhc29uaW5nVG9rZW5zICE9IG51bGwpICYmIHtcbiAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiB7XG4gICAgICAgICAgICAgICAgICBvcGVuYWk6IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VJZCxcbiAgICAgICAgICAgICAgICAgICAgY2FjaGVkUHJvbXB0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICByZWFzb25pbmdUb2tlbnNcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICksXG4gICAgICByYXdDYWxsOiB7XG4gICAgICAgIHJhd1Byb21wdDogdm9pZCAwLFxuICAgICAgICByYXdTZXR0aW5nczoge31cbiAgICAgIH0sXG4gICAgICByYXdSZXNwb25zZTogeyBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMgfSxcbiAgICAgIHJlcXVlc3Q6IHsgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSkgfSxcbiAgICAgIHdhcm5pbmdzXG4gICAgfTtcbiAgfVxufTtcbnZhciB1c2FnZVNjaGVtYSA9IHo2Lm9iamVjdCh7XG4gIGlucHV0X3Rva2VuczogejYubnVtYmVyKCksXG4gIGlucHV0X3Rva2Vuc19kZXRhaWxzOiB6Ni5vYmplY3QoeyBjYWNoZWRfdG9rZW5zOiB6Ni5udW1iZXIoKS5udWxsaXNoKCkgfSkubnVsbGlzaCgpLFxuICBvdXRwdXRfdG9rZW5zOiB6Ni5udW1iZXIoKSxcbiAgb3V0cHV0X3Rva2Vuc19kZXRhaWxzOiB6Ni5vYmplY3QoeyByZWFzb25pbmdfdG9rZW5zOiB6Ni5udW1iZXIoKS5udWxsaXNoKCkgfSkubnVsbGlzaCgpXG59KTtcbnZhciB0ZXh0RGVsdGFDaHVua1NjaGVtYSA9IHo2Lm9iamVjdCh7XG4gIHR5cGU6IHo2LmxpdGVyYWwoXCJyZXNwb25zZS5vdXRwdXRfdGV4dC5kZWx0YVwiKSxcbiAgZGVsdGE6IHo2LnN0cmluZygpXG59KTtcbnZhciByZXNwb25zZUZpbmlzaGVkQ2h1bmtTY2hlbWEgPSB6Ni5vYmplY3Qoe1xuICB0eXBlOiB6Ni5lbnVtKFtcInJlc3BvbnNlLmNvbXBsZXRlZFwiLCBcInJlc3BvbnNlLmluY29tcGxldGVcIl0pLFxuICByZXNwb25zZTogejYub2JqZWN0KHtcbiAgICBpbmNvbXBsZXRlX2RldGFpbHM6IHo2Lm9iamVjdCh7IHJlYXNvbjogejYuc3RyaW5nKCkgfSkubnVsbGlzaCgpLFxuICAgIHVzYWdlOiB1c2FnZVNjaGVtYVxuICB9KVxufSk7XG52YXIgcmVzcG9uc2VDcmVhdGVkQ2h1bmtTY2hlbWEgPSB6Ni5vYmplY3Qoe1xuICB0eXBlOiB6Ni5saXRlcmFsKFwicmVzcG9uc2UuY3JlYXRlZFwiKSxcbiAgcmVzcG9uc2U6IHo2Lm9iamVjdCh7XG4gICAgaWQ6IHo2LnN0cmluZygpLFxuICAgIGNyZWF0ZWRfYXQ6IHo2Lm51bWJlcigpLFxuICAgIG1vZGVsOiB6Ni5zdHJpbmcoKVxuICB9KVxufSk7XG52YXIgcmVzcG9uc2VPdXRwdXRJdGVtRG9uZVNjaGVtYSA9IHo2Lm9iamVjdCh7XG4gIHR5cGU6IHo2LmxpdGVyYWwoXCJyZXNwb25zZS5vdXRwdXRfaXRlbS5kb25lXCIpLFxuICBvdXRwdXRfaW5kZXg6IHo2Lm51bWJlcigpLFxuICBpdGVtOiB6Ni5kaXNjcmltaW5hdGVkVW5pb24oXCJ0eXBlXCIsIFtcbiAgICB6Ni5vYmplY3Qoe1xuICAgICAgdHlwZTogejYubGl0ZXJhbChcIm1lc3NhZ2VcIilcbiAgICB9KSxcbiAgICB6Ni5vYmplY3Qoe1xuICAgICAgdHlwZTogejYubGl0ZXJhbChcImZ1bmN0aW9uX2NhbGxcIiksXG4gICAgICBpZDogejYuc3RyaW5nKCksXG4gICAgICBjYWxsX2lkOiB6Ni5zdHJpbmcoKSxcbiAgICAgIG5hbWU6IHo2LnN0cmluZygpLFxuICAgICAgYXJndW1lbnRzOiB6Ni5zdHJpbmcoKSxcbiAgICAgIHN0YXR1czogejYubGl0ZXJhbChcImNvbXBsZXRlZFwiKVxuICAgIH0pXG4gIF0pXG59KTtcbnZhciByZXNwb25zZUZ1bmN0aW9uQ2FsbEFyZ3VtZW50c0RlbHRhU2NoZW1hID0gejYub2JqZWN0KHtcbiAgdHlwZTogejYubGl0ZXJhbChcInJlc3BvbnNlLmZ1bmN0aW9uX2NhbGxfYXJndW1lbnRzLmRlbHRhXCIpLFxuICBpdGVtX2lkOiB6Ni5zdHJpbmcoKSxcbiAgb3V0cHV0X2luZGV4OiB6Ni5udW1iZXIoKSxcbiAgZGVsdGE6IHo2LnN0cmluZygpXG59KTtcbnZhciByZXNwb25zZU91dHB1dEl0ZW1BZGRlZFNjaGVtYSA9IHo2Lm9iamVjdCh7XG4gIHR5cGU6IHo2LmxpdGVyYWwoXCJyZXNwb25zZS5vdXRwdXRfaXRlbS5hZGRlZFwiKSxcbiAgb3V0cHV0X2luZGV4OiB6Ni5udW1iZXIoKSxcbiAgaXRlbTogejYuZGlzY3JpbWluYXRlZFVuaW9uKFwidHlwZVwiLCBbXG4gICAgejYub2JqZWN0KHtcbiAgICAgIHR5cGU6IHo2LmxpdGVyYWwoXCJtZXNzYWdlXCIpXG4gICAgfSksXG4gICAgejYub2JqZWN0KHtcbiAgICAgIHR5cGU6IHo2LmxpdGVyYWwoXCJmdW5jdGlvbl9jYWxsXCIpLFxuICAgICAgaWQ6IHo2LnN0cmluZygpLFxuICAgICAgY2FsbF9pZDogejYuc3RyaW5nKCksXG4gICAgICBuYW1lOiB6Ni5zdHJpbmcoKSxcbiAgICAgIGFyZ3VtZW50czogejYuc3RyaW5nKClcbiAgICB9KVxuICBdKVxufSk7XG52YXIgcmVzcG9uc2VBbm5vdGF0aW9uQWRkZWRTY2hlbWEgPSB6Ni5vYmplY3Qoe1xuICB0eXBlOiB6Ni5saXRlcmFsKFwicmVzcG9uc2Uub3V0cHV0X3RleHQuYW5ub3RhdGlvbi5hZGRlZFwiKSxcbiAgYW5ub3RhdGlvbjogejYub2JqZWN0KHtcbiAgICB0eXBlOiB6Ni5saXRlcmFsKFwidXJsX2NpdGF0aW9uXCIpLFxuICAgIHVybDogejYuc3RyaW5nKCksXG4gICAgdGl0bGU6IHo2LnN0cmluZygpXG4gIH0pXG59KTtcbnZhciBvcGVuYWlSZXNwb25zZXNDaHVua1NjaGVtYSA9IHo2LnVuaW9uKFtcbiAgdGV4dERlbHRhQ2h1bmtTY2hlbWEsXG4gIHJlc3BvbnNlRmluaXNoZWRDaHVua1NjaGVtYSxcbiAgcmVzcG9uc2VDcmVhdGVkQ2h1bmtTY2hlbWEsXG4gIHJlc3BvbnNlT3V0cHV0SXRlbURvbmVTY2hlbWEsXG4gIHJlc3BvbnNlRnVuY3Rpb25DYWxsQXJndW1lbnRzRGVsdGFTY2hlbWEsXG4gIHJlc3BvbnNlT3V0cHV0SXRlbUFkZGVkU2NoZW1hLFxuICByZXNwb25zZUFubm90YXRpb25BZGRlZFNjaGVtYSxcbiAgejYub2JqZWN0KHsgdHlwZTogejYuc3RyaW5nKCkgfSkucGFzc3Rocm91Z2goKVxuICAvLyBmYWxsYmFjayBmb3IgdW5rbm93biBjaHVua3Ncbl0pO1xuZnVuY3Rpb24gaXNUZXh0RGVsdGFDaHVuayhjaHVuaykge1xuICByZXR1cm4gY2h1bmsudHlwZSA9PT0gXCJyZXNwb25zZS5vdXRwdXRfdGV4dC5kZWx0YVwiO1xufVxuZnVuY3Rpb24gaXNSZXNwb25zZU91dHB1dEl0ZW1Eb25lQ2h1bmsoY2h1bmspIHtcbiAgcmV0dXJuIGNodW5rLnR5cGUgPT09IFwicmVzcG9uc2Uub3V0cHV0X2l0ZW0uZG9uZVwiO1xufVxuZnVuY3Rpb24gaXNSZXNwb25zZUZpbmlzaGVkQ2h1bmsoY2h1bmspIHtcbiAgcmV0dXJuIGNodW5rLnR5cGUgPT09IFwicmVzcG9uc2UuY29tcGxldGVkXCIgfHwgY2h1bmsudHlwZSA9PT0gXCJyZXNwb25zZS5pbmNvbXBsZXRlXCI7XG59XG5mdW5jdGlvbiBpc1Jlc3BvbnNlQ3JlYXRlZENodW5rKGNodW5rKSB7XG4gIHJldHVybiBjaHVuay50eXBlID09PSBcInJlc3BvbnNlLmNyZWF0ZWRcIjtcbn1cbmZ1bmN0aW9uIGlzUmVzcG9uc2VGdW5jdGlvbkNhbGxBcmd1bWVudHNEZWx0YUNodW5rKGNodW5rKSB7XG4gIHJldHVybiBjaHVuay50eXBlID09PSBcInJlc3BvbnNlLmZ1bmN0aW9uX2NhbGxfYXJndW1lbnRzLmRlbHRhXCI7XG59XG5mdW5jdGlvbiBpc1Jlc3BvbnNlT3V0cHV0SXRlbUFkZGVkQ2h1bmsoY2h1bmspIHtcbiAgcmV0dXJuIGNodW5rLnR5cGUgPT09IFwicmVzcG9uc2Uub3V0cHV0X2l0ZW0uYWRkZWRcIjtcbn1cbmZ1bmN0aW9uIGlzUmVzcG9uc2VBbm5vdGF0aW9uQWRkZWRDaHVuayhjaHVuaykge1xuICByZXR1cm4gY2h1bmsudHlwZSA9PT0gXCJyZXNwb25zZS5vdXRwdXRfdGV4dC5hbm5vdGF0aW9uLmFkZGVkXCI7XG59XG5mdW5jdGlvbiBnZXRSZXNwb25zZXNNb2RlbENvbmZpZyhtb2RlbElkKSB7XG4gIGlmIChtb2RlbElkLnN0YXJ0c1dpdGgoXCJvXCIpKSB7XG4gICAgaWYgKG1vZGVsSWQuc3RhcnRzV2l0aChcIm8xLW1pbmlcIikgfHwgbW9kZWxJZC5zdGFydHNXaXRoKFwibzEtcHJldmlld1wiKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNSZWFzb25pbmdNb2RlbDogdHJ1ZSxcbiAgICAgICAgc3lzdGVtTWVzc2FnZU1vZGU6IFwicmVtb3ZlXCIsXG4gICAgICAgIHJlcXVpcmVkQXV0b1RydW5jYXRpb246IGZhbHNlXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgaXNSZWFzb25pbmdNb2RlbDogdHJ1ZSxcbiAgICAgIHN5c3RlbU1lc3NhZ2VNb2RlOiBcImRldmVsb3BlclwiLFxuICAgICAgcmVxdWlyZWRBdXRvVHJ1bmNhdGlvbjogZmFsc2VcbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgaXNSZWFzb25pbmdNb2RlbDogZmFsc2UsXG4gICAgc3lzdGVtTWVzc2FnZU1vZGU6IFwic3lzdGVtXCIsXG4gICAgcmVxdWlyZWRBdXRvVHJ1bmNhdGlvbjogZmFsc2VcbiAgfTtcbn1cbnZhciBvcGVuYWlSZXNwb25zZXNQcm92aWRlck9wdGlvbnNTY2hlbWEgPSB6Ni5vYmplY3Qoe1xuICBtZXRhZGF0YTogejYuYW55KCkubnVsbGlzaCgpLFxuICBwYXJhbGxlbFRvb2xDYWxsczogejYuYm9vbGVhbigpLm51bGxpc2goKSxcbiAgcHJldmlvdXNSZXNwb25zZUlkOiB6Ni5zdHJpbmcoKS5udWxsaXNoKCksXG4gIHN0b3JlOiB6Ni5ib29sZWFuKCkubnVsbGlzaCgpLFxuICB1c2VyOiB6Ni5zdHJpbmcoKS5udWxsaXNoKCksXG4gIHJlYXNvbmluZ0VmZm9ydDogejYuc3RyaW5nKCkubnVsbGlzaCgpLFxuICBzdHJpY3RTY2hlbWFzOiB6Ni5ib29sZWFuKCkubnVsbGlzaCgpLFxuICBpbnN0cnVjdGlvbnM6IHo2LnN0cmluZygpLm51bGxpc2goKVxufSk7XG5cbi8vIHNyYy9vcGVuYWktdG9vbHMudHNcbmltcG9ydCB7IHogYXMgejcgfSBmcm9tIFwiem9kXCI7XG52YXIgV2ViU2VhcmNoUHJldmlld1BhcmFtZXRlcnMgPSB6Ny5vYmplY3Qoe30pO1xuZnVuY3Rpb24gd2ViU2VhcmNoUHJldmlld1Rvb2woe1xuICBzZWFyY2hDb250ZXh0U2l6ZSxcbiAgdXNlckxvY2F0aW9uXG59ID0ge30pIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcInByb3ZpZGVyLWRlZmluZWRcIixcbiAgICBpZDogXCJvcGVuYWkud2ViX3NlYXJjaF9wcmV2aWV3XCIsXG4gICAgYXJnczoge1xuICAgICAgc2VhcmNoQ29udGV4dFNpemUsXG4gICAgICB1c2VyTG9jYXRpb25cbiAgICB9LFxuICAgIHBhcmFtZXRlcnM6IFdlYlNlYXJjaFByZXZpZXdQYXJhbWV0ZXJzXG4gIH07XG59XG52YXIgb3BlbmFpVG9vbHMgPSB7XG4gIHdlYlNlYXJjaFByZXZpZXc6IHdlYlNlYXJjaFByZXZpZXdUb29sXG59O1xuXG4vLyBzcmMvb3BlbmFpLXByb3ZpZGVyLnRzXG5mdW5jdGlvbiBjcmVhdGVPcGVuQUkob3B0aW9ucyA9IHt9KSB7XG4gIHZhciBfYSwgX2IsIF9jO1xuICBjb25zdCBiYXNlVVJMID0gKF9hID0gd2l0aG91dFRyYWlsaW5nU2xhc2gob3B0aW9ucy5iYXNlVVJMKSkgIT0gbnVsbCA/IF9hIDogXCJodHRwczovL2FwaS5vcGVuYWkuY29tL3YxXCI7XG4gIGNvbnN0IGNvbXBhdGliaWxpdHkgPSAoX2IgPSBvcHRpb25zLmNvbXBhdGliaWxpdHkpICE9IG51bGwgPyBfYiA6IFwiY29tcGF0aWJsZVwiO1xuICBjb25zdCBwcm92aWRlck5hbWUgPSAoX2MgPSBvcHRpb25zLm5hbWUpICE9IG51bGwgPyBfYyA6IFwib3BlbmFpXCI7XG4gIGNvbnN0IGdldEhlYWRlcnMgPSAoKSA9PiAoe1xuICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHtsb2FkQXBpS2V5KHtcbiAgICAgIGFwaUtleTogb3B0aW9ucy5hcGlLZXksXG4gICAgICBlbnZpcm9ubWVudFZhcmlhYmxlTmFtZTogXCJPUEVOQUlfQVBJX0tFWVwiLFxuICAgICAgZGVzY3JpcHRpb246IFwiT3BlbkFJXCJcbiAgICB9KX1gLFxuICAgIFwiT3BlbkFJLU9yZ2FuaXphdGlvblwiOiBvcHRpb25zLm9yZ2FuaXphdGlvbixcbiAgICBcIk9wZW5BSS1Qcm9qZWN0XCI6IG9wdGlvbnMucHJvamVjdCxcbiAgICAuLi5vcHRpb25zLmhlYWRlcnNcbiAgfSk7XG4gIGNvbnN0IGNyZWF0ZUNoYXRNb2RlbCA9IChtb2RlbElkLCBzZXR0aW5ncyA9IHt9KSA9PiBuZXcgT3BlbkFJQ2hhdExhbmd1YWdlTW9kZWwobW9kZWxJZCwgc2V0dGluZ3MsIHtcbiAgICBwcm92aWRlcjogYCR7cHJvdmlkZXJOYW1lfS5jaGF0YCxcbiAgICB1cmw6ICh7IHBhdGggfSkgPT4gYCR7YmFzZVVSTH0ke3BhdGh9YCxcbiAgICBoZWFkZXJzOiBnZXRIZWFkZXJzLFxuICAgIGNvbXBhdGliaWxpdHksXG4gICAgZmV0Y2g6IG9wdGlvbnMuZmV0Y2hcbiAgfSk7XG4gIGNvbnN0IGNyZWF0ZUNvbXBsZXRpb25Nb2RlbCA9IChtb2RlbElkLCBzZXR0aW5ncyA9IHt9KSA9PiBuZXcgT3BlbkFJQ29tcGxldGlvbkxhbmd1YWdlTW9kZWwobW9kZWxJZCwgc2V0dGluZ3MsIHtcbiAgICBwcm92aWRlcjogYCR7cHJvdmlkZXJOYW1lfS5jb21wbGV0aW9uYCxcbiAgICB1cmw6ICh7IHBhdGggfSkgPT4gYCR7YmFzZVVSTH0ke3BhdGh9YCxcbiAgICBoZWFkZXJzOiBnZXRIZWFkZXJzLFxuICAgIGNvbXBhdGliaWxpdHksXG4gICAgZmV0Y2g6IG9wdGlvbnMuZmV0Y2hcbiAgfSk7XG4gIGNvbnN0IGNyZWF0ZUVtYmVkZGluZ01vZGVsID0gKG1vZGVsSWQsIHNldHRpbmdzID0ge30pID0+IG5ldyBPcGVuQUlFbWJlZGRpbmdNb2RlbChtb2RlbElkLCBzZXR0aW5ncywge1xuICAgIHByb3ZpZGVyOiBgJHtwcm92aWRlck5hbWV9LmVtYmVkZGluZ2AsXG4gICAgdXJsOiAoeyBwYXRoIH0pID0+IGAke2Jhc2VVUkx9JHtwYXRofWAsXG4gICAgaGVhZGVyczogZ2V0SGVhZGVycyxcbiAgICBmZXRjaDogb3B0aW9ucy5mZXRjaFxuICB9KTtcbiAgY29uc3QgY3JlYXRlSW1hZ2VNb2RlbCA9IChtb2RlbElkLCBzZXR0aW5ncyA9IHt9KSA9PiBuZXcgT3BlbkFJSW1hZ2VNb2RlbChtb2RlbElkLCBzZXR0aW5ncywge1xuICAgIHByb3ZpZGVyOiBgJHtwcm92aWRlck5hbWV9LmltYWdlYCxcbiAgICB1cmw6ICh7IHBhdGggfSkgPT4gYCR7YmFzZVVSTH0ke3BhdGh9YCxcbiAgICBoZWFkZXJzOiBnZXRIZWFkZXJzLFxuICAgIGZldGNoOiBvcHRpb25zLmZldGNoXG4gIH0pO1xuICBjb25zdCBjcmVhdGVMYW5ndWFnZU1vZGVsID0gKG1vZGVsSWQsIHNldHRpbmdzKSA9PiB7XG4gICAgaWYgKG5ldy50YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJUaGUgT3BlbkFJIG1vZGVsIGZ1bmN0aW9uIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IGtleXdvcmQuXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChtb2RlbElkID09PSBcImdwdC0zLjUtdHVyYm8taW5zdHJ1Y3RcIikge1xuICAgICAgcmV0dXJuIGNyZWF0ZUNvbXBsZXRpb25Nb2RlbChcbiAgICAgICAgbW9kZWxJZCxcbiAgICAgICAgc2V0dGluZ3NcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGF0TW9kZWwobW9kZWxJZCwgc2V0dGluZ3MpO1xuICB9O1xuICBjb25zdCBjcmVhdGVSZXNwb25zZXNNb2RlbCA9IChtb2RlbElkKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBPcGVuQUlSZXNwb25zZXNMYW5ndWFnZU1vZGVsKG1vZGVsSWQsIHtcbiAgICAgIHByb3ZpZGVyOiBgJHtwcm92aWRlck5hbWV9LnJlc3BvbnNlc2AsXG4gICAgICB1cmw6ICh7IHBhdGggfSkgPT4gYCR7YmFzZVVSTH0ke3BhdGh9YCxcbiAgICAgIGhlYWRlcnM6IGdldEhlYWRlcnMsXG4gICAgICBmZXRjaDogb3B0aW9ucy5mZXRjaFxuICAgIH0pO1xuICB9O1xuICBjb25zdCBwcm92aWRlciA9IGZ1bmN0aW9uKG1vZGVsSWQsIHNldHRpbmdzKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUxhbmd1YWdlTW9kZWwobW9kZWxJZCwgc2V0dGluZ3MpO1xuICB9O1xuICBwcm92aWRlci5sYW5ndWFnZU1vZGVsID0gY3JlYXRlTGFuZ3VhZ2VNb2RlbDtcbiAgcHJvdmlkZXIuY2hhdCA9IGNyZWF0ZUNoYXRNb2RlbDtcbiAgcHJvdmlkZXIuY29tcGxldGlvbiA9IGNyZWF0ZUNvbXBsZXRpb25Nb2RlbDtcbiAgcHJvdmlkZXIucmVzcG9uc2VzID0gY3JlYXRlUmVzcG9uc2VzTW9kZWw7XG4gIHByb3ZpZGVyLmVtYmVkZGluZyA9IGNyZWF0ZUVtYmVkZGluZ01vZGVsO1xuICBwcm92aWRlci50ZXh0RW1iZWRkaW5nID0gY3JlYXRlRW1iZWRkaW5nTW9kZWw7XG4gIHByb3ZpZGVyLnRleHRFbWJlZGRpbmdNb2RlbCA9IGNyZWF0ZUVtYmVkZGluZ01vZGVsO1xuICBwcm92aWRlci5pbWFnZSA9IGNyZWF0ZUltYWdlTW9kZWw7XG4gIHByb3ZpZGVyLmltYWdlTW9kZWwgPSBjcmVhdGVJbWFnZU1vZGVsO1xuICBwcm92aWRlci50b29scyA9IG9wZW5haVRvb2xzO1xuICByZXR1cm4gcHJvdmlkZXI7XG59XG52YXIgb3BlbmFpID0gY3JlYXRlT3BlbkFJKHtcbiAgY29tcGF0aWJpbGl0eTogXCJzdHJpY3RcIlxuICAvLyBzdHJpY3QgZm9yIE9wZW5BSSBBUElcbn0pO1xuZXhwb3J0IHtcbiAgY3JlYXRlT3BlbkFJLFxuICBvcGVuYWlcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbImxvYWRBcGlLZXkiLCJ3aXRob3V0VHJhaWxpbmdTbGFzaCIsIkludmFsaWRSZXNwb25zZURhdGFFcnJvciIsIlVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yIiwiVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3IzIiwiY29tYmluZUhlYWRlcnMiLCJjcmVhdGVFdmVudFNvdXJjZVJlc3BvbnNlSGFuZGxlciIsImNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXIiLCJnZW5lcmF0ZUlkIiwiaXNQYXJzYWJsZUpzb24iLCJwb3N0SnNvblRvQXBpIiwieiIsInoyIiwiY29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NCIsImNvbnZlcnRUb09wZW5BSUNoYXRNZXNzYWdlcyIsInByb21wdCIsInVzZUxlZ2FjeUZ1bmN0aW9uQ2FsbGluZyIsInN5c3RlbU1lc3NhZ2VNb2RlIiwibWVzc2FnZXMiLCJ3YXJuaW5ncyIsInJvbGUiLCJjb250ZW50IiwicHVzaCIsInR5cGUiLCJtZXNzYWdlIiwiX2V4aGF1c3RpdmVDaGVjayIsIkVycm9yIiwibGVuZ3RoIiwidGV4dCIsIm1hcCIsInBhcnQiLCJpbmRleCIsIl9hIiwiX2IiLCJfYyIsIl9kIiwiaW1hZ2VfdXJsIiwidXJsIiwiaW1hZ2UiLCJVUkwiLCJ0b1N0cmluZyIsIm1pbWVUeXBlIiwiZGV0YWlsIiwicHJvdmlkZXJNZXRhZGF0YSIsIm9wZW5haSIsImltYWdlRGV0YWlsIiwiZGF0YSIsImZ1bmN0aW9uYWxpdHkiLCJpbnB1dF9hdWRpbyIsImZvcm1hdCIsImZpbGUiLCJmaWxlbmFtZSIsImZpbGVfZGF0YSIsInRvb2xDYWxscyIsImlkIiwidG9vbENhbGxJZCIsImZ1bmN0aW9uIiwibmFtZSIsInRvb2xOYW1lIiwiYXJndW1lbnRzIiwiSlNPTiIsInN0cmluZ2lmeSIsImFyZ3MiLCJmdW5jdGlvbl9jYWxsIiwidG9vbF9jYWxscyIsInRvb2xSZXNwb25zZSIsInJlc3VsdCIsInRvb2xfY2FsbF9pZCIsIm1hcE9wZW5BSUNoYXRMb2dQcm9ic091dHB1dCIsImxvZ3Byb2JzIiwidG9rZW4iLCJsb2dwcm9iIiwidG9wX2xvZ3Byb2JzIiwidG9wTG9ncHJvYnMiLCJ0b2tlbjIiLCJsb2dwcm9iMiIsIm1hcE9wZW5BSUZpbmlzaFJlYXNvbiIsImZpbmlzaFJlYXNvbiIsImNyZWF0ZUpzb25FcnJvclJlc3BvbnNlSGFuZGxlciIsIm9wZW5haUVycm9yRGF0YVNjaGVtYSIsIm9iamVjdCIsImVycm9yIiwic3RyaW5nIiwibnVsbGlzaCIsInBhcmFtIiwiYW55IiwiY29kZSIsInVuaW9uIiwibnVtYmVyIiwib3BlbmFpRmFpbGVkUmVzcG9uc2VIYW5kbGVyIiwiZXJyb3JTY2hlbWEiLCJlcnJvclRvTWVzc2FnZSIsImdldFJlc3BvbnNlTWV0YWRhdGEiLCJtb2RlbCIsImNyZWF0ZWQiLCJtb2RlbElkIiwidGltZXN0YW1wIiwiRGF0ZSIsIlVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yMiIsInByZXBhcmVUb29scyIsIm1vZGUiLCJzdHJ1Y3R1cmVkT3V0cHV0cyIsInRvb2xzIiwidG9vbFdhcm5pbmdzIiwidG9vbF9jaG9pY2UiLCJ0b29sQ2hvaWNlIiwib3BlbmFpRnVuY3Rpb25zIiwidG9vbCIsImRlc2NyaXB0aW9uIiwicGFyYW1ldGVycyIsImZ1bmN0aW9ucyIsInR5cGUyIiwib3BlbmFpVG9vbHMyIiwic3RyaWN0IiwiT3BlbkFJQ2hhdExhbmd1YWdlTW9kZWwiLCJjb25zdHJ1Y3RvciIsInNldHRpbmdzIiwiY29uZmlnIiwic3BlY2lmaWNhdGlvblZlcnNpb24iLCJzdXBwb3J0c1N0cnVjdHVyZWRPdXRwdXRzIiwiaXNSZWFzb25pbmdNb2RlbCIsImRlZmF1bHRPYmplY3RHZW5lcmF0aW9uTW9kZSIsImlzQXVkaW9Nb2RlbCIsInByb3ZpZGVyIiwic3VwcG9ydHNJbWFnZVVybHMiLCJkb3dubG9hZEltYWdlcyIsImdldEFyZ3MiLCJtYXhUb2tlbnMiLCJ0ZW1wZXJhdHVyZSIsInRvcFAiLCJ0b3BLIiwiZnJlcXVlbmN5UGVuYWx0eSIsInByZXNlbmNlUGVuYWx0eSIsInN0b3BTZXF1ZW5jZXMiLCJyZXNwb25zZUZvcm1hdCIsInNlZWQiLCJfZSIsIl9mIiwiX2ciLCJfaCIsInNldHRpbmciLCJzY2hlbWEiLCJkZXRhaWxzIiwicGFyYWxsZWxUb29sQ2FsbHMiLCJtZXNzYWdlV2FybmluZ3MiLCJnZXRTeXN0ZW1NZXNzYWdlTW9kZSIsImJhc2VBcmdzIiwibG9naXRfYmlhcyIsImxvZ2l0QmlhcyIsInVzZXIiLCJwYXJhbGxlbF90b29sX2NhbGxzIiwibWF4X3Rva2VucyIsInRvcF9wIiwiZnJlcXVlbmN5X3BlbmFsdHkiLCJwcmVzZW5jZV9wZW5hbHR5IiwicmVzcG9uc2VfZm9ybWF0IiwianNvbl9zY2hlbWEiLCJzdG9wIiwibWF4X2NvbXBsZXRpb25fdG9rZW5zIiwibWF4Q29tcGxldGlvblRva2VucyIsInN0b3JlIiwibWV0YWRhdGEiLCJwcmVkaWN0aW9uIiwicmVhc29uaW5nX2VmZm9ydCIsInJlYXNvbmluZ0VmZm9ydCIsImRvR2VuZXJhdGUiLCJvcHRpb25zIiwiYm9keSIsInJlc3BvbnNlSGVhZGVycyIsInZhbHVlIiwicmVzcG9uc2UiLCJyYXdWYWx1ZSIsInJhd1Jlc3BvbnNlIiwicGF0aCIsImhlYWRlcnMiLCJmYWlsZWRSZXNwb25zZUhhbmRsZXIiLCJzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyIiwib3BlbmFpQ2hhdFJlc3BvbnNlU2NoZW1hIiwiYWJvcnRTaWduYWwiLCJmZXRjaCIsInJhd1Byb21wdCIsInJhd1NldHRpbmdzIiwiY2hvaWNlIiwiY2hvaWNlcyIsImNvbXBsZXRpb25Ub2tlbkRldGFpbHMiLCJ1c2FnZSIsImNvbXBsZXRpb25fdG9rZW5zX2RldGFpbHMiLCJwcm9tcHRUb2tlbkRldGFpbHMiLCJwcm9tcHRfdG9rZW5zX2RldGFpbHMiLCJyZWFzb25pbmdfdG9rZW5zIiwicmVhc29uaW5nVG9rZW5zIiwiYWNjZXB0ZWRfcHJlZGljdGlvbl90b2tlbnMiLCJhY2NlcHRlZFByZWRpY3Rpb25Ub2tlbnMiLCJyZWplY3RlZF9wcmVkaWN0aW9uX3Rva2VucyIsInJlamVjdGVkUHJlZGljdGlvblRva2VucyIsImNhY2hlZF90b2tlbnMiLCJjYWNoZWRQcm9tcHRUb2tlbnMiLCJ0b29sQ2FsbFR5cGUiLCJ0b29sQ2FsbCIsIl9hMiIsImZpbmlzaF9yZWFzb24iLCJwcm9tcHRUb2tlbnMiLCJwcm9tcHRfdG9rZW5zIiwiTmFOIiwiY29tcGxldGlvblRva2VucyIsImNvbXBsZXRpb25fdG9rZW5zIiwicmF3Q2FsbCIsInJlcXVlc3QiLCJkb1N0cmVhbSIsInNpbXVsYXRlU3RyZWFtaW5nIiwic2ltdWxhdGVkU3RyZWFtIiwiUmVhZGFibGVTdHJlYW0iLCJzdGFydCIsImNvbnRyb2xsZXIiLCJlbnF1ZXVlIiwidGV4dERlbHRhIiwiYXJnc1RleHREZWx0YSIsImNsb3NlIiwic3RyZWFtIiwic3RyZWFtX29wdGlvbnMiLCJjb21wYXRpYmlsaXR5IiwiaW5jbHVkZV91c2FnZSIsIm9wZW5haUNoYXRDaHVua1NjaGVtYSIsImlzRmlyc3RDaHVuayIsInBpcGVUaHJvdWdoIiwiVHJhbnNmb3JtU3RyZWFtIiwidHJhbnNmb3JtIiwiY2h1bmsiLCJfaSIsIl9qIiwiX2siLCJfbCIsInN1Y2Nlc3MiLCJkZWx0YSIsIm1hcHBlZExvZ3Byb2JzIiwibWFwcGVkVG9vbENhbGxzIiwidG9vbENhbGxEZWx0YSIsImhhc0ZpbmlzaGVkIiwidG9vbENhbGwyIiwiZmx1c2giLCJvcGVuYWlUb2tlblVzYWdlU2NoZW1hIiwiYXJyYXkiLCJsaXRlcmFsIiwibnVsbGFibGUiLCJlbnVtIiwib3B0aW9uYWwiLCJzdGFydHNXaXRoIiwicmVhc29uaW5nTW9kZWxzIiwiVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3I1IiwiY29tYmluZUhlYWRlcnMyIiwiY3JlYXRlRXZlbnRTb3VyY2VSZXNwb25zZUhhbmRsZXIyIiwiY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlcjIiLCJwb3N0SnNvblRvQXBpMiIsInozIiwiSW52YWxpZFByb21wdEVycm9yIiwiVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3I0IiwiY29udmVydFRvT3BlbkFJQ29tcGxldGlvblByb21wdCIsImlucHV0Rm9ybWF0IiwiYXNzaXN0YW50Iiwic2xpY2UiLCJ1c2VyTWVzc2FnZSIsImpvaW4iLCJhc3Npc3RhbnRNZXNzYWdlIiwibWFwT3BlbkFJQ29tcGxldGlvbkxvZ1Byb2JzIiwidG9rZW5zIiwidG9rZW5fbG9ncHJvYnMiLCJPYmplY3QiLCJlbnRyaWVzIiwiT3BlbkFJQ29tcGxldGlvbkxhbmd1YWdlTW9kZWwiLCJ1c2VyU3RvcFNlcXVlbmNlcyIsImNvbXBsZXRpb25Qcm9tcHQiLCJlY2hvIiwic3VmZml4Iiwib3BlbmFpQ29tcGxldGlvblJlc3BvbnNlU2NoZW1hIiwib3BlbmFpQ29tcGxldGlvbkNodW5rU2NoZW1hIiwiTnVtYmVyIiwicmVjb3JkIiwiVG9vTWFueUVtYmVkZGluZ1ZhbHVlc0ZvckNhbGxFcnJvciIsImNvbWJpbmVIZWFkZXJzMyIsImNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXIzIiwicG9zdEpzb25Ub0FwaTMiLCJ6NCIsIk9wZW5BSUVtYmVkZGluZ01vZGVsIiwibWF4RW1iZWRkaW5nc1BlckNhbGwiLCJzdXBwb3J0c1BhcmFsbGVsQ2FsbHMiLCJkb0VtYmVkIiwidmFsdWVzIiwiaW5wdXQiLCJlbmNvZGluZ19mb3JtYXQiLCJkaW1lbnNpb25zIiwib3BlbmFpVGV4dEVtYmVkZGluZ1Jlc3BvbnNlU2NoZW1hIiwiZW1iZWRkaW5ncyIsIml0ZW0iLCJlbWJlZGRpbmciLCJjb21iaW5lSGVhZGVyczQiLCJjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyNCIsInBvc3RKc29uVG9BcGk0IiwiejUiLCJtb2RlbE1heEltYWdlc1BlckNhbGwiLCJPcGVuQUlJbWFnZU1vZGVsIiwibWF4SW1hZ2VzUGVyQ2FsbCIsIm4iLCJzaXplIiwiYXNwZWN0UmF0aW8iLCJwcm92aWRlck9wdGlvbnMiLCJjdXJyZW50RGF0ZSIsIl9pbnRlcm5hbCIsImNhbGwiLCJvcGVuYWlJbWFnZVJlc3BvbnNlU2NoZW1hIiwiaW1hZ2VzIiwiYjY0X2pzb24iLCJjb21iaW5lSGVhZGVyczUiLCJjcmVhdGVFdmVudFNvdXJjZVJlc3BvbnNlSGFuZGxlcjMiLCJjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyNSIsImdlbmVyYXRlSWQyIiwicGFyc2VQcm92aWRlck9wdGlvbnMiLCJwb3N0SnNvblRvQXBpNSIsIno2IiwiVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3I2IiwiY29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NDIiLCJjb252ZXJ0VG9PcGVuQUlSZXNwb25zZXNNZXNzYWdlcyIsImNhbGxfaWQiLCJvdXRwdXQiLCJtYXBPcGVuQUlSZXNwb25zZUZpbmlzaFJlYXNvbiIsImhhc1Rvb2xDYWxscyIsIlVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yNyIsInByZXBhcmVSZXNwb25zZXNUb29scyIsInNlYXJjaF9jb250ZXh0X3NpemUiLCJzZWFyY2hDb250ZXh0U2l6ZSIsInVzZXJfbG9jYXRpb24iLCJ1c2VyTG9jYXRpb24iLCJPcGVuQUlSZXNwb25zZXNMYW5ndWFnZU1vZGVsIiwibW9kZWxDb25maWciLCJnZXRSZXNwb25zZXNNb2RlbENvbmZpZyIsIm9wZW5haU9wdGlvbnMiLCJvcGVuYWlSZXNwb25zZXNQcm92aWRlck9wdGlvbnNTY2hlbWEiLCJpc1N0cmljdCIsInN0cmljdFNjaGVtYXMiLCJtYXhfb3V0cHV0X3Rva2VucyIsInByZXZpb3VzX3Jlc3BvbnNlX2lkIiwicHJldmlvdXNSZXNwb25zZUlkIiwiaW5zdHJ1Y3Rpb25zIiwicmVhc29uaW5nIiwiZWZmb3J0IiwicmVxdWlyZWRBdXRvVHJ1bmNhdGlvbiIsInRydW5jYXRpb24iLCJjcmVhdGVkX2F0IiwiZGlzY3JpbWluYXRlZFVuaW9uIiwiYW5ub3RhdGlvbnMiLCJzdGFydF9pbmRleCIsImVuZF9pbmRleCIsInRpdGxlIiwiaW5jb21wbGV0ZV9kZXRhaWxzIiwicmVhc29uIiwidXNhZ2VTY2hlbWEiLCJvdXRwdXRUZXh0RWxlbWVudHMiLCJmaWx0ZXIiLCJmbGF0TWFwIiwic291cmNlcyIsImFubm90YXRpb24iLCJfYjIiLCJfYzIiLCJzb3VyY2VUeXBlIiwiaW5wdXRfdG9rZW5zIiwib3V0cHV0X3Rva2VucyIsInJlc3BvbnNlSWQiLCJpbnB1dF90b2tlbnNfZGV0YWlscyIsIm91dHB1dF90b2tlbnNfZGV0YWlscyIsIm9wZW5haVJlc3BvbnNlc0NodW5rU2NoZW1hIiwic2VsZiIsIm9uZ29pbmdUb29sQ2FsbHMiLCJpc1Jlc3BvbnNlT3V0cHV0SXRlbUFkZGVkQ2h1bmsiLCJvdXRwdXRfaW5kZXgiLCJpc1Jlc3BvbnNlRnVuY3Rpb25DYWxsQXJndW1lbnRzRGVsdGFDaHVuayIsImlzUmVzcG9uc2VDcmVhdGVkQ2h1bmsiLCJpc1RleHREZWx0YUNodW5rIiwiaXNSZXNwb25zZU91dHB1dEl0ZW1Eb25lQ2h1bmsiLCJpc1Jlc3BvbnNlRmluaXNoZWRDaHVuayIsImlzUmVzcG9uc2VBbm5vdGF0aW9uQWRkZWRDaHVuayIsInNvdXJjZSIsInRleHREZWx0YUNodW5rU2NoZW1hIiwicmVzcG9uc2VGaW5pc2hlZENodW5rU2NoZW1hIiwicmVzcG9uc2VDcmVhdGVkQ2h1bmtTY2hlbWEiLCJyZXNwb25zZU91dHB1dEl0ZW1Eb25lU2NoZW1hIiwic3RhdHVzIiwicmVzcG9uc2VGdW5jdGlvbkNhbGxBcmd1bWVudHNEZWx0YVNjaGVtYSIsIml0ZW1faWQiLCJyZXNwb25zZU91dHB1dEl0ZW1BZGRlZFNjaGVtYSIsInJlc3BvbnNlQW5ub3RhdGlvbkFkZGVkU2NoZW1hIiwicGFzc3Rocm91Z2giLCJib29sZWFuIiwiejciLCJXZWJTZWFyY2hQcmV2aWV3UGFyYW1ldGVycyIsIndlYlNlYXJjaFByZXZpZXdUb29sIiwib3BlbmFpVG9vbHMiLCJ3ZWJTZWFyY2hQcmV2aWV3IiwiY3JlYXRlT3BlbkFJIiwiYmFzZVVSTCIsInByb3ZpZGVyTmFtZSIsImdldEhlYWRlcnMiLCJBdXRob3JpemF0aW9uIiwiYXBpS2V5IiwiZW52aXJvbm1lbnRWYXJpYWJsZU5hbWUiLCJvcmdhbml6YXRpb24iLCJwcm9qZWN0IiwiY3JlYXRlQ2hhdE1vZGVsIiwiY3JlYXRlQ29tcGxldGlvbk1vZGVsIiwiY3JlYXRlRW1iZWRkaW5nTW9kZWwiLCJjcmVhdGVJbWFnZU1vZGVsIiwiY3JlYXRlTGFuZ3VhZ2VNb2RlbCIsImNyZWF0ZVJlc3BvbnNlc01vZGVsIiwibGFuZ3VhZ2VNb2RlbCIsImNoYXQiLCJjb21wbGV0aW9uIiwicmVzcG9uc2VzIiwidGV4dEVtYmVkZGluZyIsInRleHRFbWJlZGRpbmdNb2RlbCIsImltYWdlTW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@ai-sdk/openai/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@ai-sdk/provider-utils/dist/index.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@ai-sdk/provider-utils/dist/index.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   asValidator: () => (/* binding */ asValidator),\n/* harmony export */   combineHeaders: () => (/* binding */ combineHeaders),\n/* harmony export */   convertAsyncIteratorToReadableStream: () => (/* binding */ convertAsyncIteratorToReadableStream),\n/* harmony export */   convertBase64ToUint8Array: () => (/* binding */ convertBase64ToUint8Array),\n/* harmony export */   convertUint8ArrayToBase64: () => (/* binding */ convertUint8ArrayToBase64),\n/* harmony export */   createBinaryResponseHandler: () => (/* binding */ createBinaryResponseHandler),\n/* harmony export */   createEventSourceParserStream: () => (/* binding */ createEventSourceParserStream),\n/* harmony export */   createEventSourceResponseHandler: () => (/* binding */ createEventSourceResponseHandler),\n/* harmony export */   createIdGenerator: () => (/* binding */ createIdGenerator),\n/* harmony export */   createJsonErrorResponseHandler: () => (/* binding */ createJsonErrorResponseHandler),\n/* harmony export */   createJsonResponseHandler: () => (/* binding */ createJsonResponseHandler),\n/* harmony export */   createJsonStreamResponseHandler: () => (/* binding */ createJsonStreamResponseHandler),\n/* harmony export */   createStatusCodeErrorResponseHandler: () => (/* binding */ createStatusCodeErrorResponseHandler),\n/* harmony export */   delay: () => (/* binding */ delay),\n/* harmony export */   extractResponseHeaders: () => (/* binding */ extractResponseHeaders),\n/* harmony export */   generateId: () => (/* binding */ generateId),\n/* harmony export */   getErrorMessage: () => (/* binding */ getErrorMessage),\n/* harmony export */   getFromApi: () => (/* binding */ getFromApi),\n/* harmony export */   isAbortError: () => (/* binding */ isAbortError),\n/* harmony export */   isParsableJson: () => (/* binding */ isParsableJson),\n/* harmony export */   isValidator: () => (/* binding */ isValidator),\n/* harmony export */   loadApiKey: () => (/* binding */ loadApiKey),\n/* harmony export */   loadOptionalSetting: () => (/* binding */ loadOptionalSetting),\n/* harmony export */   loadSetting: () => (/* binding */ loadSetting),\n/* harmony export */   parseJSON: () => (/* binding */ parseJSON),\n/* harmony export */   parseProviderOptions: () => (/* binding */ parseProviderOptions),\n/* harmony export */   postJsonToApi: () => (/* binding */ postJsonToApi),\n/* harmony export */   postToApi: () => (/* binding */ postToApi),\n/* harmony export */   removeUndefinedEntries: () => (/* binding */ removeUndefinedEntries),\n/* harmony export */   resolve: () => (/* binding */ resolve),\n/* harmony export */   safeParseJSON: () => (/* binding */ safeParseJSON),\n/* harmony export */   safeValidateTypes: () => (/* binding */ safeValidateTypes),\n/* harmony export */   validateTypes: () => (/* binding */ validateTypes),\n/* harmony export */   validator: () => (/* binding */ validator),\n/* harmony export */   validatorSymbol: () => (/* binding */ validatorSymbol),\n/* harmony export */   withoutTrailingSlash: () => (/* binding */ withoutTrailingSlash),\n/* harmony export */   zodValidator: () => (/* binding */ zodValidator)\n/* harmony export */ });\n/* harmony import */ var _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ai-sdk/provider */ \"(ssr)/./node_modules/@ai-sdk/provider/dist/index.mjs\");\n/* harmony import */ var nanoid_non_secure__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nanoid/non-secure */ \"(ssr)/./node_modules/nanoid/non-secure/index.js\");\n/* harmony import */ var secure_json_parse__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! secure-json-parse */ \"(ssr)/./node_modules/secure-json-parse/index.js\");\n// src/combine-headers.ts\nfunction combineHeaders(...headers) {\n    return headers.reduce((combinedHeaders, currentHeaders)=>({\n            ...combinedHeaders,\n            ...currentHeaders != null ? currentHeaders : {}\n        }), {});\n}\n// src/convert-async-iterator-to-readable-stream.ts\nfunction convertAsyncIteratorToReadableStream(iterator) {\n    return new ReadableStream({\n        /**\n     * Called when the consumer wants to pull more data from the stream.\n     *\n     * @param {ReadableStreamDefaultController<T>} controller - The controller to enqueue data into the stream.\n     * @returns {Promise<void>}\n     */ async pull (controller) {\n            try {\n                const { value, done } = await iterator.next();\n                if (done) {\n                    controller.close();\n                } else {\n                    controller.enqueue(value);\n                }\n            } catch (error) {\n                controller.error(error);\n            }\n        },\n        /**\n     * Called when the consumer cancels the stream.\n     */ cancel () {}\n    });\n}\n// src/delay.ts\nasync function delay(delayInMs) {\n    return delayInMs == null ? Promise.resolve() : new Promise((resolve2)=>setTimeout(resolve2, delayInMs));\n}\n// src/event-source-parser-stream.ts\nfunction createEventSourceParserStream() {\n    let buffer = \"\";\n    let event = void 0;\n    let data = [];\n    let lastEventId = void 0;\n    let retry = void 0;\n    function parseLine(line, controller) {\n        if (line === \"\") {\n            dispatchEvent(controller);\n            return;\n        }\n        if (line.startsWith(\":\")) {\n            return;\n        }\n        const colonIndex = line.indexOf(\":\");\n        if (colonIndex === -1) {\n            handleField(line, \"\");\n            return;\n        }\n        const field = line.slice(0, colonIndex);\n        const valueStart = colonIndex + 1;\n        const value = valueStart < line.length && line[valueStart] === \" \" ? line.slice(valueStart + 1) : line.slice(valueStart);\n        handleField(field, value);\n    }\n    function dispatchEvent(controller) {\n        if (data.length > 0) {\n            controller.enqueue({\n                event,\n                data: data.join(\"\\n\"),\n                id: lastEventId,\n                retry\n            });\n            data = [];\n            event = void 0;\n            retry = void 0;\n        }\n    }\n    function handleField(field, value) {\n        switch(field){\n            case \"event\":\n                event = value;\n                break;\n            case \"data\":\n                data.push(value);\n                break;\n            case \"id\":\n                lastEventId = value;\n                break;\n            case \"retry\":\n                const parsedRetry = parseInt(value, 10);\n                if (!isNaN(parsedRetry)) {\n                    retry = parsedRetry;\n                }\n                break;\n        }\n    }\n    return new TransformStream({\n        transform (chunk, controller) {\n            const { lines, incompleteLine } = splitLines(buffer, chunk);\n            buffer = incompleteLine;\n            for(let i = 0; i < lines.length; i++){\n                parseLine(lines[i], controller);\n            }\n        },\n        flush (controller) {\n            parseLine(buffer, controller);\n            dispatchEvent(controller);\n        }\n    });\n}\nfunction splitLines(buffer, chunk) {\n    const lines = [];\n    let currentLine = buffer;\n    for(let i = 0; i < chunk.length;){\n        const char = chunk[i++];\n        if (char === \"\\n\") {\n            lines.push(currentLine);\n            currentLine = \"\";\n        } else if (char === \"\\r\") {\n            lines.push(currentLine);\n            currentLine = \"\";\n            if (chunk[i + 1] === \"\\n\") {\n                i++;\n            }\n        } else {\n            currentLine += char;\n        }\n    }\n    return {\n        lines,\n        incompleteLine: currentLine\n    };\n}\n// src/extract-response-headers.ts\nfunction extractResponseHeaders(response) {\n    const headers = {};\n    response.headers.forEach((value, key)=>{\n        headers[key] = value;\n    });\n    return headers;\n}\n// src/generate-id.ts\n\n\nvar createIdGenerator = ({ prefix, size: defaultSize = 16, alphabet = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\", separator = \"-\" } = {})=>{\n    const generator = (0,nanoid_non_secure__WEBPACK_IMPORTED_MODULE_0__.customAlphabet)(alphabet, defaultSize);\n    if (prefix == null) {\n        return generator;\n    }\n    if (alphabet.includes(separator)) {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.InvalidArgumentError({\n            argument: \"separator\",\n            message: `The separator \"${separator}\" must not be part of the alphabet \"${alphabet}\".`\n        });\n    }\n    return (size)=>`${prefix}${separator}${generator(size)}`;\n};\nvar generateId = createIdGenerator();\n// src/get-error-message.ts\nfunction getErrorMessage(error) {\n    if (error == null) {\n        return \"unknown error\";\n    }\n    if (typeof error === \"string\") {\n        return error;\n    }\n    if (error instanceof Error) {\n        return error.message;\n    }\n    return JSON.stringify(error);\n}\n// src/get-from-api.ts\n\n// src/remove-undefined-entries.ts\nfunction removeUndefinedEntries(record) {\n    return Object.fromEntries(Object.entries(record).filter(([_key, value])=>value != null));\n}\n// src/is-abort-error.ts\nfunction isAbortError(error) {\n    return error instanceof Error && (error.name === \"AbortError\" || error.name === \"TimeoutError\");\n}\n// src/get-from-api.ts\nvar getOriginalFetch = ()=>globalThis.fetch;\nvar getFromApi = async ({ url, headers = {}, successfulResponseHandler, failedResponseHandler, abortSignal, fetch = getOriginalFetch() })=>{\n    try {\n        const response = await fetch(url, {\n            method: \"GET\",\n            headers: removeUndefinedEntries(headers),\n            signal: abortSignal\n        });\n        const responseHeaders = extractResponseHeaders(response);\n        if (!response.ok) {\n            let errorInformation;\n            try {\n                errorInformation = await failedResponseHandler({\n                    response,\n                    url,\n                    requestBodyValues: {}\n                });\n            } catch (error) {\n                if (isAbortError(error) || _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError.isInstance(error)) {\n                    throw error;\n                }\n                throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                    message: \"Failed to process error response\",\n                    cause: error,\n                    statusCode: response.status,\n                    url,\n                    responseHeaders,\n                    requestBodyValues: {}\n                });\n            }\n            throw errorInformation.value;\n        }\n        try {\n            return await successfulResponseHandler({\n                response,\n                url,\n                requestBodyValues: {}\n            });\n        } catch (error) {\n            if (error instanceof Error) {\n                if (isAbortError(error) || _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError.isInstance(error)) {\n                    throw error;\n                }\n            }\n            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                message: \"Failed to process successful response\",\n                cause: error,\n                statusCode: response.status,\n                url,\n                responseHeaders,\n                requestBodyValues: {}\n            });\n        }\n    } catch (error) {\n        if (isAbortError(error)) {\n            throw error;\n        }\n        if (error instanceof TypeError && error.message === \"fetch failed\") {\n            const cause = error.cause;\n            if (cause != null) {\n                throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                    message: `Cannot connect to API: ${cause.message}`,\n                    cause,\n                    url,\n                    isRetryable: true,\n                    requestBodyValues: {}\n                });\n            }\n        }\n        throw error;\n    }\n};\n// src/load-api-key.ts\n\nfunction loadApiKey({ apiKey, environmentVariableName, apiKeyParameterName = \"apiKey\", description }) {\n    if (typeof apiKey === \"string\") {\n        return apiKey;\n    }\n    if (apiKey != null) {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.LoadAPIKeyError({\n            message: `${description} API key must be a string.`\n        });\n    }\n    if (typeof process === \"undefined\") {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.LoadAPIKeyError({\n            message: `${description} API key is missing. Pass it using the '${apiKeyParameterName}' parameter. Environment variables is not supported in this environment.`\n        });\n    }\n    apiKey = process.env[environmentVariableName];\n    if (apiKey == null) {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.LoadAPIKeyError({\n            message: `${description} API key is missing. Pass it using the '${apiKeyParameterName}' parameter or the ${environmentVariableName} environment variable.`\n        });\n    }\n    if (typeof apiKey !== \"string\") {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.LoadAPIKeyError({\n            message: `${description} API key must be a string. The value of the ${environmentVariableName} environment variable is not a string.`\n        });\n    }\n    return apiKey;\n}\n// src/load-optional-setting.ts\nfunction loadOptionalSetting({ settingValue, environmentVariableName }) {\n    if (typeof settingValue === \"string\") {\n        return settingValue;\n    }\n    if (settingValue != null || typeof process === \"undefined\") {\n        return void 0;\n    }\n    settingValue = process.env[environmentVariableName];\n    if (settingValue == null || typeof settingValue !== \"string\") {\n        return void 0;\n    }\n    return settingValue;\n}\n// src/load-setting.ts\n\nfunction loadSetting({ settingValue, environmentVariableName, settingName, description }) {\n    if (typeof settingValue === \"string\") {\n        return settingValue;\n    }\n    if (settingValue != null) {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.LoadSettingError({\n            message: `${description} setting must be a string.`\n        });\n    }\n    if (typeof process === \"undefined\") {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.LoadSettingError({\n            message: `${description} setting is missing. Pass it using the '${settingName}' parameter. Environment variables is not supported in this environment.`\n        });\n    }\n    settingValue = process.env[environmentVariableName];\n    if (settingValue == null) {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.LoadSettingError({\n            message: `${description} setting is missing. Pass it using the '${settingName}' parameter or the ${environmentVariableName} environment variable.`\n        });\n    }\n    if (typeof settingValue !== \"string\") {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.LoadSettingError({\n            message: `${description} setting must be a string. The value of the ${environmentVariableName} environment variable is not a string.`\n        });\n    }\n    return settingValue;\n}\n// src/parse-json.ts\n\n\n// src/validate-types.ts\n\n// src/validator.ts\nvar validatorSymbol = Symbol.for(\"vercel.ai.validator\");\nfunction validator(validate) {\n    return {\n        [validatorSymbol]: true,\n        validate\n    };\n}\nfunction isValidator(value) {\n    return typeof value === \"object\" && value !== null && validatorSymbol in value && value[validatorSymbol] === true && \"validate\" in value;\n}\nfunction asValidator(value) {\n    return isValidator(value) ? value : zodValidator(value);\n}\nfunction zodValidator(zodSchema) {\n    return validator((value)=>{\n        const result = zodSchema.safeParse(value);\n        return result.success ? {\n            success: true,\n            value: result.data\n        } : {\n            success: false,\n            error: result.error\n        };\n    });\n}\n// src/validate-types.ts\nfunction validateTypes({ value, schema: inputSchema }) {\n    const result = safeValidateTypes({\n        value,\n        schema: inputSchema\n    });\n    if (!result.success) {\n        throw _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.TypeValidationError.wrap({\n            value,\n            cause: result.error\n        });\n    }\n    return result.value;\n}\nfunction safeValidateTypes({ value, schema }) {\n    const validator2 = asValidator(schema);\n    try {\n        if (validator2.validate == null) {\n            return {\n                success: true,\n                value\n            };\n        }\n        const result = validator2.validate(value);\n        if (result.success) {\n            return result;\n        }\n        return {\n            success: false,\n            error: _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.TypeValidationError.wrap({\n                value,\n                cause: result.error\n            })\n        };\n    } catch (error) {\n        return {\n            success: false,\n            error: _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.TypeValidationError.wrap({\n                value,\n                cause: error\n            })\n        };\n    }\n}\n// src/parse-json.ts\nfunction parseJSON({ text, schema }) {\n    try {\n        const value = secure_json_parse__WEBPACK_IMPORTED_MODULE_2__.parse(text);\n        if (schema == null) {\n            return value;\n        }\n        return validateTypes({\n            value,\n            schema\n        });\n    } catch (error) {\n        if (_ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.JSONParseError.isInstance(error) || _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.TypeValidationError.isInstance(error)) {\n            throw error;\n        }\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.JSONParseError({\n            text,\n            cause: error\n        });\n    }\n}\nfunction safeParseJSON({ text, schema }) {\n    try {\n        const value = secure_json_parse__WEBPACK_IMPORTED_MODULE_2__.parse(text);\n        if (schema == null) {\n            return {\n                success: true,\n                value,\n                rawValue: value\n            };\n        }\n        const validationResult = safeValidateTypes({\n            value,\n            schema\n        });\n        return validationResult.success ? {\n            ...validationResult,\n            rawValue: value\n        } : validationResult;\n    } catch (error) {\n        return {\n            success: false,\n            error: _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.JSONParseError.isInstance(error) ? error : new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.JSONParseError({\n                text,\n                cause: error\n            })\n        };\n    }\n}\nfunction isParsableJson(input) {\n    try {\n        secure_json_parse__WEBPACK_IMPORTED_MODULE_2__.parse(input);\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\n// src/parse-provider-options.ts\n\nfunction parseProviderOptions({ provider, providerOptions, schema }) {\n    if ((providerOptions == null ? void 0 : providerOptions[provider]) == null) {\n        return void 0;\n    }\n    const parsedProviderOptions = safeValidateTypes({\n        value: providerOptions[provider],\n        schema\n    });\n    if (!parsedProviderOptions.success) {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.InvalidArgumentError({\n            argument: \"providerOptions\",\n            message: `invalid ${provider} provider options`,\n            cause: parsedProviderOptions.error\n        });\n    }\n    return parsedProviderOptions.value;\n}\n// src/post-to-api.ts\n\nvar getOriginalFetch2 = ()=>globalThis.fetch;\nvar postJsonToApi = async ({ url, headers, body, failedResponseHandler, successfulResponseHandler, abortSignal, fetch })=>postToApi({\n        url,\n        headers: {\n            \"Content-Type\": \"application/json\",\n            ...headers\n        },\n        body: {\n            content: JSON.stringify(body),\n            values: body\n        },\n        failedResponseHandler,\n        successfulResponseHandler,\n        abortSignal,\n        fetch\n    });\nvar postToApi = async ({ url, headers = {}, body, successfulResponseHandler, failedResponseHandler, abortSignal, fetch = getOriginalFetch2() })=>{\n    try {\n        const response = await fetch(url, {\n            method: \"POST\",\n            headers: removeUndefinedEntries(headers),\n            body: body.content,\n            signal: abortSignal\n        });\n        const responseHeaders = extractResponseHeaders(response);\n        if (!response.ok) {\n            let errorInformation;\n            try {\n                errorInformation = await failedResponseHandler({\n                    response,\n                    url,\n                    requestBodyValues: body.values\n                });\n            } catch (error) {\n                if (isAbortError(error) || _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError.isInstance(error)) {\n                    throw error;\n                }\n                throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                    message: \"Failed to process error response\",\n                    cause: error,\n                    statusCode: response.status,\n                    url,\n                    responseHeaders,\n                    requestBodyValues: body.values\n                });\n            }\n            throw errorInformation.value;\n        }\n        try {\n            return await successfulResponseHandler({\n                response,\n                url,\n                requestBodyValues: body.values\n            });\n        } catch (error) {\n            if (error instanceof Error) {\n                if (isAbortError(error) || _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError.isInstance(error)) {\n                    throw error;\n                }\n            }\n            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                message: \"Failed to process successful response\",\n                cause: error,\n                statusCode: response.status,\n                url,\n                responseHeaders,\n                requestBodyValues: body.values\n            });\n        }\n    } catch (error) {\n        if (isAbortError(error)) {\n            throw error;\n        }\n        if (error instanceof TypeError && error.message === \"fetch failed\") {\n            const cause = error.cause;\n            if (cause != null) {\n                throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                    message: `Cannot connect to API: ${cause.message}`,\n                    cause,\n                    url,\n                    requestBodyValues: body.values,\n                    isRetryable: true\n                });\n            }\n        }\n        throw error;\n    }\n};\n// src/resolve.ts\nasync function resolve(value) {\n    if (typeof value === \"function\") {\n        value = value();\n    }\n    return Promise.resolve(value);\n}\n// src/response-handler.ts\n\nvar createJsonErrorResponseHandler = ({ errorSchema, errorToMessage, isRetryable })=>async ({ response, url, requestBodyValues })=>{\n        const responseBody = await response.text();\n        const responseHeaders = extractResponseHeaders(response);\n        if (responseBody.trim() === \"\") {\n            return {\n                responseHeaders,\n                value: new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                    message: response.statusText,\n                    url,\n                    requestBodyValues,\n                    statusCode: response.status,\n                    responseHeaders,\n                    responseBody,\n                    isRetryable: isRetryable == null ? void 0 : isRetryable(response)\n                })\n            };\n        }\n        try {\n            const parsedError = parseJSON({\n                text: responseBody,\n                schema: errorSchema\n            });\n            return {\n                responseHeaders,\n                value: new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                    message: errorToMessage(parsedError),\n                    url,\n                    requestBodyValues,\n                    statusCode: response.status,\n                    responseHeaders,\n                    responseBody,\n                    data: parsedError,\n                    isRetryable: isRetryable == null ? void 0 : isRetryable(response, parsedError)\n                })\n            };\n        } catch (parseError) {\n            return {\n                responseHeaders,\n                value: new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                    message: response.statusText,\n                    url,\n                    requestBodyValues,\n                    statusCode: response.status,\n                    responseHeaders,\n                    responseBody,\n                    isRetryable: isRetryable == null ? void 0 : isRetryable(response)\n                })\n            };\n        }\n    };\nvar createEventSourceResponseHandler = (chunkSchema)=>async ({ response })=>{\n        const responseHeaders = extractResponseHeaders(response);\n        if (response.body == null) {\n            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.EmptyResponseBodyError({});\n        }\n        return {\n            responseHeaders,\n            value: response.body.pipeThrough(new TextDecoderStream()).pipeThrough(createEventSourceParserStream()).pipeThrough(new TransformStream({\n                transform ({ data }, controller) {\n                    if (data === \"[DONE]\") {\n                        return;\n                    }\n                    controller.enqueue(safeParseJSON({\n                        text: data,\n                        schema: chunkSchema\n                    }));\n                }\n            }))\n        };\n    };\nvar createJsonStreamResponseHandler = (chunkSchema)=>async ({ response })=>{\n        const responseHeaders = extractResponseHeaders(response);\n        if (response.body == null) {\n            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.EmptyResponseBodyError({});\n        }\n        let buffer = \"\";\n        return {\n            responseHeaders,\n            value: response.body.pipeThrough(new TextDecoderStream()).pipeThrough(new TransformStream({\n                transform (chunkText, controller) {\n                    if (chunkText.endsWith(\"\\n\")) {\n                        controller.enqueue(safeParseJSON({\n                            text: buffer + chunkText,\n                            schema: chunkSchema\n                        }));\n                        buffer = \"\";\n                    } else {\n                        buffer += chunkText;\n                    }\n                }\n            }))\n        };\n    };\nvar createJsonResponseHandler = (responseSchema)=>async ({ response, url, requestBodyValues })=>{\n        const responseBody = await response.text();\n        const parsedResult = safeParseJSON({\n            text: responseBody,\n            schema: responseSchema\n        });\n        const responseHeaders = extractResponseHeaders(response);\n        if (!parsedResult.success) {\n            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                message: \"Invalid JSON response\",\n                cause: parsedResult.error,\n                statusCode: response.status,\n                responseHeaders,\n                responseBody,\n                url,\n                requestBodyValues\n            });\n        }\n        return {\n            responseHeaders,\n            value: parsedResult.value,\n            rawValue: parsedResult.rawValue\n        };\n    };\nvar createBinaryResponseHandler = ()=>async ({ response, url, requestBodyValues })=>{\n        const responseHeaders = extractResponseHeaders(response);\n        if (!response.body) {\n            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                message: \"Response body is empty\",\n                url,\n                requestBodyValues,\n                statusCode: response.status,\n                responseHeaders,\n                responseBody: void 0\n            });\n        }\n        try {\n            const buffer = await response.arrayBuffer();\n            return {\n                responseHeaders,\n                value: new Uint8Array(buffer)\n            };\n        } catch (error) {\n            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                message: \"Failed to read response as array buffer\",\n                url,\n                requestBodyValues,\n                statusCode: response.status,\n                responseHeaders,\n                responseBody: void 0,\n                cause: error\n            });\n        }\n    };\nvar createStatusCodeErrorResponseHandler = ()=>async ({ response, url, requestBodyValues })=>{\n        const responseHeaders = extractResponseHeaders(response);\n        const responseBody = await response.text();\n        return {\n            responseHeaders,\n            value: new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                message: response.statusText,\n                url,\n                requestBodyValues,\n                statusCode: response.status,\n                responseHeaders,\n                responseBody\n            })\n        };\n    };\n// src/uint8-utils.ts\nvar { btoa, atob } = globalThis;\nfunction convertBase64ToUint8Array(base64String) {\n    const base64Url = base64String.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    const latin1string = atob(base64Url);\n    return Uint8Array.from(latin1string, (byte)=>byte.codePointAt(0));\n}\nfunction convertUint8ArrayToBase64(array) {\n    let latin1string = \"\";\n    for(let i = 0; i < array.length; i++){\n        latin1string += String.fromCodePoint(array[i]);\n    }\n    return btoa(latin1string);\n}\n// src/without-trailing-slash.ts\nfunction withoutTrailingSlash(url) {\n    return url == null ? void 0 : url.replace(/\\/$/, \"\");\n}\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci11dGlscy9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEseUJBQXlCO0FBQ3pCLFNBQVNBLGVBQWUsR0FBR0MsT0FBTztJQUNoQyxPQUFPQSxRQUFRQyxNQUFNLENBQ25CLENBQUNDLGlCQUFpQkMsaUJBQW9CO1lBQ3BDLEdBQUdELGVBQWU7WUFDbEIsR0FBR0Msa0JBQWtCLE9BQU9BLGlCQUFpQixDQUFDLENBQUM7UUFDakQsSUFDQSxDQUFDO0FBRUw7QUFFQSxtREFBbUQ7QUFDbkQsU0FBU0MscUNBQXFDQyxRQUFRO0lBQ3BELE9BQU8sSUFBSUMsZUFBZTtRQUN4Qjs7Ozs7S0FLQyxHQUNELE1BQU1DLE1BQUtDLFVBQVU7WUFDbkIsSUFBSTtnQkFDRixNQUFNLEVBQUVDLEtBQUssRUFBRUMsSUFBSSxFQUFFLEdBQUcsTUFBTUwsU0FBU00sSUFBSTtnQkFDM0MsSUFBSUQsTUFBTTtvQkFDUkYsV0FBV0ksS0FBSztnQkFDbEIsT0FBTztvQkFDTEosV0FBV0ssT0FBTyxDQUFDSjtnQkFDckI7WUFDRixFQUFFLE9BQU9LLE9BQU87Z0JBQ2ROLFdBQVdNLEtBQUssQ0FBQ0E7WUFDbkI7UUFDRjtRQUNBOztLQUVDLEdBQ0RDLFdBQ0E7SUFDRjtBQUNGO0FBRUEsZUFBZTtBQUNmLGVBQWVDLE1BQU1DLFNBQVM7SUFDNUIsT0FBT0EsYUFBYSxPQUFPQyxRQUFRQyxPQUFPLEtBQUssSUFBSUQsUUFBUSxDQUFDRSxXQUFhQyxXQUFXRCxVQUFVSDtBQUNoRztBQUVBLG9DQUFvQztBQUNwQyxTQUFTSztJQUNQLElBQUlDLFNBQVM7SUFDYixJQUFJQyxRQUFRLEtBQUs7SUFDakIsSUFBSUMsT0FBTyxFQUFFO0lBQ2IsSUFBSUMsY0FBYyxLQUFLO0lBQ3ZCLElBQUlDLFFBQVEsS0FBSztJQUNqQixTQUFTQyxVQUFVQyxJQUFJ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Q0FBQ0UsT0FBU0EsS0FBS0MsV0FBVyxDQUFDO0FBQ2xFO0FBQ0EsU0FBU0MsMEJBQTBCQyxLQUFLO0lBQ3RDLElBQUlMLGVBQWU7SUFDbkIsSUFBSyxJQUFJN0ksSUFBSSxHQUFHQSxJQUFJa0osTUFBTS9KLE1BQU0sRUFBRWEsSUFBSztRQUNyQzZJLGdCQUFnQk0sT0FBT0MsYUFBYSxDQUFDRixLQUFLLENBQUNsSixFQUFFO0lBQy9DO0lBQ0EsT0FBT3VJLEtBQUtNO0FBQ2Q7QUFFQSxnQ0FBZ0M7QUFDaEMsU0FBU1EscUJBQXFCOUcsR0FBRztJQUMvQixPQUFPQSxPQUFPLE9BQU8sS0FBSyxJQUFJQSxJQUFJcUcsT0FBTyxDQUFDLE9BQU87QUFDbkQ7QUF1Q0UsQ0FDRixrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci11dGlscy9kaXN0L2luZGV4Lm1qcz9hNzFkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9jb21iaW5lLWhlYWRlcnMudHNcbmZ1bmN0aW9uIGNvbWJpbmVIZWFkZXJzKC4uLmhlYWRlcnMpIHtcbiAgcmV0dXJuIGhlYWRlcnMucmVkdWNlKFxuICAgIChjb21iaW5lZEhlYWRlcnMsIGN1cnJlbnRIZWFkZXJzKSA9PiAoe1xuICAgICAgLi4uY29tYmluZWRIZWFkZXJzLFxuICAgICAgLi4uY3VycmVudEhlYWRlcnMgIT0gbnVsbCA/IGN1cnJlbnRIZWFkZXJzIDoge31cbiAgICB9KSxcbiAgICB7fVxuICApO1xufVxuXG4vLyBzcmMvY29udmVydC1hc3luYy1pdGVyYXRvci10by1yZWFkYWJsZS1zdHJlYW0udHNcbmZ1bmN0aW9uIGNvbnZlcnRBc3luY0l0ZXJhdG9yVG9SZWFkYWJsZVN0cmVhbShpdGVyYXRvcikge1xuICByZXR1cm4gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgY29uc3VtZXIgd2FudHMgdG8gcHVsbCBtb3JlIGRhdGEgZnJvbSB0aGUgc3RyZWFtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFQ+fSBjb250cm9sbGVyIC0gVGhlIGNvbnRyb2xsZXIgdG8gZW5xdWV1ZSBkYXRhIGludG8gdGhlIHN0cmVhbS5cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKi9cbiAgICBhc3luYyBwdWxsKGNvbnRyb2xsZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGF3YWl0IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29udHJvbGxlci5lcnJvcihlcnJvcik7XG4gICAgICB9XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgY29uc3VtZXIgY2FuY2VscyB0aGUgc3RyZWFtLlxuICAgICAqL1xuICAgIGNhbmNlbCgpIHtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBzcmMvZGVsYXkudHNcbmFzeW5jIGZ1bmN0aW9uIGRlbGF5KGRlbGF5SW5Ncykge1xuICByZXR1cm4gZGVsYXlJbk1zID09IG51bGwgPyBQcm9taXNlLnJlc29sdmUoKSA6IG5ldyBQcm9taXNlKChyZXNvbHZlMikgPT4gc2V0VGltZW91dChyZXNvbHZlMiwgZGVsYXlJbk1zKSk7XG59XG5cbi8vIHNyYy9ldmVudC1zb3VyY2UtcGFyc2VyLXN0cmVhbS50c1xuZnVuY3Rpb24gY3JlYXRlRXZlbnRTb3VyY2VQYXJzZXJTdHJlYW0oKSB7XG4gIGxldCBidWZmZXIgPSBcIlwiO1xuICBsZXQgZXZlbnQgPSB2b2lkIDA7XG4gIGxldCBkYXRhID0gW107XG4gIGxldCBsYXN0RXZlbnRJZCA9IHZvaWQgMDtcbiAgbGV0IHJldHJ5ID0gdm9pZCAwO1xuICBmdW5jdGlvbiBwYXJzZUxpbmUobGluZSwgY29udHJvbGxlcikge1xuICAgIGlmIChsaW5lID09PSBcIlwiKSB7XG4gICAgICBkaXNwYXRjaEV2ZW50KGNvbnRyb2xsZXIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobGluZS5zdGFydHNXaXRoKFwiOlwiKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb2xvbkluZGV4ID0gbGluZS5pbmRleE9mKFwiOlwiKTtcbiAgICBpZiAoY29sb25JbmRleCA9PT0gLTEpIHtcbiAgICAgIGhhbmRsZUZpZWxkKGxpbmUsIFwiXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmaWVsZCA9IGxpbmUuc2xpY2UoMCwgY29sb25JbmRleCk7XG4gICAgY29uc3QgdmFsdWVTdGFydCA9IGNvbG9uSW5kZXggKyAxO1xuICAgIGNvbnN0IHZhbHVlID0gdmFsdWVTdGFydCA8IGxpbmUubGVuZ3RoICYmIGxpbmVbdmFsdWVTdGFydF0gPT09IFwiIFwiID8gbGluZS5zbGljZSh2YWx1ZVN0YXJ0ICsgMSkgOiBsaW5lLnNsaWNlKHZhbHVlU3RhcnQpO1xuICAgIGhhbmRsZUZpZWxkKGZpZWxkLCB2YWx1ZSk7XG4gIH1cbiAgZnVuY3Rpb24gZGlzcGF0Y2hFdmVudChjb250cm9sbGVyKSB7XG4gICAgaWYgKGRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgZXZlbnQsXG4gICAgICAgIGRhdGE6IGRhdGEuam9pbihcIlxcblwiKSxcbiAgICAgICAgaWQ6IGxhc3RFdmVudElkLFxuICAgICAgICByZXRyeVxuICAgICAgfSk7XG4gICAgICBkYXRhID0gW107XG4gICAgICBldmVudCA9IHZvaWQgMDtcbiAgICAgIHJldHJ5ID0gdm9pZCAwO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBoYW5kbGVGaWVsZChmaWVsZCwgdmFsdWUpIHtcbiAgICBzd2l0Y2ggKGZpZWxkKSB7XG4gICAgICBjYXNlIFwiZXZlbnRcIjpcbiAgICAgICAgZXZlbnQgPSB2YWx1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGF0YVwiOlxuICAgICAgICBkYXRhLnB1c2godmFsdWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJpZFwiOlxuICAgICAgICBsYXN0RXZlbnRJZCA9IHZhbHVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyZXRyeVwiOlxuICAgICAgICBjb25zdCBwYXJzZWRSZXRyeSA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgICAgIGlmICghaXNOYU4ocGFyc2VkUmV0cnkpKSB7XG4gICAgICAgICAgcmV0cnkgPSBwYXJzZWRSZXRyeTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgY29uc3QgeyBsaW5lcywgaW5jb21wbGV0ZUxpbmUgfSA9IHNwbGl0TGluZXMoYnVmZmVyLCBjaHVuayk7XG4gICAgICBidWZmZXIgPSBpbmNvbXBsZXRlTGluZTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcGFyc2VMaW5lKGxpbmVzW2ldLCBjb250cm9sbGVyKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGZsdXNoKGNvbnRyb2xsZXIpIHtcbiAgICAgIHBhcnNlTGluZShidWZmZXIsIGNvbnRyb2xsZXIpO1xuICAgICAgZGlzcGF0Y2hFdmVudChjb250cm9sbGVyKTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gc3BsaXRMaW5lcyhidWZmZXIsIGNodW5rKSB7XG4gIGNvbnN0IGxpbmVzID0gW107XG4gIGxldCBjdXJyZW50TGluZSA9IGJ1ZmZlcjtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaHVuay5sZW5ndGg7ICkge1xuICAgIGNvbnN0IGNoYXIgPSBjaHVua1tpKytdO1xuICAgIGlmIChjaGFyID09PSBcIlxcblwiKSB7XG4gICAgICBsaW5lcy5wdXNoKGN1cnJlbnRMaW5lKTtcbiAgICAgIGN1cnJlbnRMaW5lID0gXCJcIjtcbiAgICB9IGVsc2UgaWYgKGNoYXIgPT09IFwiXFxyXCIpIHtcbiAgICAgIGxpbmVzLnB1c2goY3VycmVudExpbmUpO1xuICAgICAgY3VycmVudExpbmUgPSBcIlwiO1xuICAgICAgaWYgKGNodW5rW2kgKyAxXSA9PT0gXCJcXG5cIikge1xuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRMaW5lICs9IGNoYXI7XG4gICAgfVxuICB9XG4gIHJldHVybiB7IGxpbmVzLCBpbmNvbXBsZXRlTGluZTogY3VycmVudExpbmUgfTtcbn1cblxuLy8gc3JjL2V4dHJhY3QtcmVzcG9uc2UtaGVhZGVycy50c1xuZnVuY3Rpb24gZXh0cmFjdFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZSkge1xuICBjb25zdCBoZWFkZXJzID0ge307XG4gIHJlc3BvbnNlLmhlYWRlcnMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgIGhlYWRlcnNba2V5XSA9IHZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIGhlYWRlcnM7XG59XG5cbi8vIHNyYy9nZW5lcmF0ZS1pZC50c1xuaW1wb3J0IHsgSW52YWxpZEFyZ3VtZW50RXJyb3IgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuaW1wb3J0IHsgY3VzdG9tQWxwaGFiZXQgfSBmcm9tIFwibmFub2lkL25vbi1zZWN1cmVcIjtcbnZhciBjcmVhdGVJZEdlbmVyYXRvciA9ICh7XG4gIHByZWZpeCxcbiAgc2l6ZTogZGVmYXVsdFNpemUgPSAxNixcbiAgYWxwaGFiZXQgPSBcIjAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIsXG4gIHNlcGFyYXRvciA9IFwiLVwiXG59ID0ge30pID0+IHtcbiAgY29uc3QgZ2VuZXJhdG9yID0gY3VzdG9tQWxwaGFiZXQoYWxwaGFiZXQsIGRlZmF1bHRTaXplKTtcbiAgaWYgKHByZWZpeCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfVxuICBpZiAoYWxwaGFiZXQuaW5jbHVkZXMoc2VwYXJhdG9yKSkge1xuICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICBhcmd1bWVudDogXCJzZXBhcmF0b3JcIixcbiAgICAgIG1lc3NhZ2U6IGBUaGUgc2VwYXJhdG9yIFwiJHtzZXBhcmF0b3J9XCIgbXVzdCBub3QgYmUgcGFydCBvZiB0aGUgYWxwaGFiZXQgXCIke2FscGhhYmV0fVwiLmBcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gKHNpemUpID0+IGAke3ByZWZpeH0ke3NlcGFyYXRvcn0ke2dlbmVyYXRvcihzaXplKX1gO1xufTtcbnZhciBnZW5lcmF0ZUlkID0gY3JlYXRlSWRHZW5lcmF0b3IoKTtcblxuLy8gc3JjL2dldC1lcnJvci1tZXNzYWdlLnRzXG5mdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2UoZXJyb3IpIHtcbiAgaWYgKGVycm9yID09IG51bGwpIHtcbiAgICByZXR1cm4gXCJ1bmtub3duIGVycm9yXCI7XG4gIH1cbiAgaWYgKHR5cGVvZiBlcnJvciA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgIHJldHVybiBlcnJvci5tZXNzYWdlO1xuICB9XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShlcnJvcik7XG59XG5cbi8vIHNyYy9nZXQtZnJvbS1hcGkudHNcbmltcG9ydCB7IEFQSUNhbGxFcnJvciB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5cbi8vIHNyYy9yZW1vdmUtdW5kZWZpbmVkLWVudHJpZXMudHNcbmZ1bmN0aW9uIHJlbW92ZVVuZGVmaW5lZEVudHJpZXMocmVjb3JkKSB7XG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgT2JqZWN0LmVudHJpZXMocmVjb3JkKS5maWx0ZXIoKFtfa2V5LCB2YWx1ZV0pID0+IHZhbHVlICE9IG51bGwpXG4gICk7XG59XG5cbi8vIHNyYy9pcy1hYm9ydC1lcnJvci50c1xuZnVuY3Rpb24gaXNBYm9ydEVycm9yKGVycm9yKSB7XG4gIHJldHVybiBlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIChlcnJvci5uYW1lID09PSBcIkFib3J0RXJyb3JcIiB8fCBlcnJvci5uYW1lID09PSBcIlRpbWVvdXRFcnJvclwiKTtcbn1cblxuLy8gc3JjL2dldC1mcm9tLWFwaS50c1xudmFyIGdldE9yaWdpbmFsRmV0Y2ggPSAoKSA9PiBnbG9iYWxUaGlzLmZldGNoO1xudmFyIGdldEZyb21BcGkgPSBhc3luYyAoe1xuICB1cmwsXG4gIGhlYWRlcnMgPSB7fSxcbiAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcixcbiAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyLFxuICBhYm9ydFNpZ25hbCxcbiAgZmV0Y2ggPSBnZXRPcmlnaW5hbEZldGNoKClcbn0pID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgaGVhZGVyczogcmVtb3ZlVW5kZWZpbmVkRW50cmllcyhoZWFkZXJzKSxcbiAgICAgIHNpZ25hbDogYWJvcnRTaWduYWxcbiAgICB9KTtcbiAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBleHRyYWN0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlKTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBsZXQgZXJyb3JJbmZvcm1hdGlvbjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGVycm9ySW5mb3JtYXRpb24gPSBhd2FpdCBmYWlsZWRSZXNwb25zZUhhbmRsZXIoe1xuICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgIHVybCxcbiAgICAgICAgICByZXF1ZXN0Qm9keVZhbHVlczoge31cbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAoaXNBYm9ydEVycm9yKGVycm9yKSB8fCBBUElDYWxsRXJyb3IuaXNJbnN0YW5jZShlcnJvcikpIHtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgQVBJQ2FsbEVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIkZhaWxlZCB0byBwcm9jZXNzIGVycm9yIHJlc3BvbnNlXCIsXG4gICAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICB1cmwsXG4gICAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzOiB7fVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycm9ySW5mb3JtYXRpb24udmFsdWU7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcih7XG4gICAgICAgIHJlc3BvbnNlLFxuICAgICAgICB1cmwsXG4gICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzOiB7fVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGlmIChpc0Fib3J0RXJyb3IoZXJyb3IpIHx8IEFQSUNhbGxFcnJvci5pc0luc3RhbmNlKGVycm9yKSkge1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgQVBJQ2FsbEVycm9yKHtcbiAgICAgICAgbWVzc2FnZTogXCJGYWlsZWQgdG8gcHJvY2VzcyBzdWNjZXNzZnVsIHJlc3BvbnNlXCIsXG4gICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICB1cmwsXG4gICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXM6IHt9XG4gICAgICB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGlzQWJvcnRFcnJvcihlcnJvcikpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBUeXBlRXJyb3IgJiYgZXJyb3IubWVzc2FnZSA9PT0gXCJmZXRjaCBmYWlsZWRcIikge1xuICAgICAgY29uc3QgY2F1c2UgPSBlcnJvci5jYXVzZTtcbiAgICAgIGlmIChjYXVzZSAhPSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBBUElDYWxsRXJyb3Ioe1xuICAgICAgICAgIG1lc3NhZ2U6IGBDYW5ub3QgY29ubmVjdCB0byBBUEk6ICR7Y2F1c2UubWVzc2FnZX1gLFxuICAgICAgICAgIGNhdXNlLFxuICAgICAgICAgIHVybCxcbiAgICAgICAgICBpc1JldHJ5YWJsZTogdHJ1ZSxcbiAgICAgICAgICByZXF1ZXN0Qm9keVZhbHVlczoge31cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG4vLyBzcmMvbG9hZC1hcGkta2V5LnRzXG5pbXBvcnQgeyBMb2FkQVBJS2V5RXJyb3IgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuZnVuY3Rpb24gbG9hZEFwaUtleSh7XG4gIGFwaUtleSxcbiAgZW52aXJvbm1lbnRWYXJpYWJsZU5hbWUsXG4gIGFwaUtleVBhcmFtZXRlck5hbWUgPSBcImFwaUtleVwiLFxuICBkZXNjcmlwdGlvblxufSkge1xuICBpZiAodHlwZW9mIGFwaUtleSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBhcGlLZXk7XG4gIH1cbiAgaWYgKGFwaUtleSAhPSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IExvYWRBUElLZXlFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgJHtkZXNjcmlwdGlvbn0gQVBJIGtleSBtdXN0IGJlIGEgc3RyaW5nLmBcbiAgICB9KTtcbiAgfVxuICBpZiAodHlwZW9mIHByb2Nlc3MgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB0aHJvdyBuZXcgTG9hZEFQSUtleUVycm9yKHtcbiAgICAgIG1lc3NhZ2U6IGAke2Rlc2NyaXB0aW9ufSBBUEkga2V5IGlzIG1pc3NpbmcuIFBhc3MgaXQgdXNpbmcgdGhlICcke2FwaUtleVBhcmFtZXRlck5hbWV9JyBwYXJhbWV0ZXIuIEVudmlyb25tZW50IHZhcmlhYmxlcyBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnQuYFxuICAgIH0pO1xuICB9XG4gIGFwaUtleSA9IHByb2Nlc3MuZW52W2Vudmlyb25tZW50VmFyaWFibGVOYW1lXTtcbiAgaWYgKGFwaUtleSA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IExvYWRBUElLZXlFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgJHtkZXNjcmlwdGlvbn0gQVBJIGtleSBpcyBtaXNzaW5nLiBQYXNzIGl0IHVzaW5nIHRoZSAnJHthcGlLZXlQYXJhbWV0ZXJOYW1lfScgcGFyYW1ldGVyIG9yIHRoZSAke2Vudmlyb25tZW50VmFyaWFibGVOYW1lfSBlbnZpcm9ubWVudCB2YXJpYWJsZS5gXG4gICAgfSk7XG4gIH1cbiAgaWYgKHR5cGVvZiBhcGlLZXkgIT09IFwic3RyaW5nXCIpIHtcbiAgICB0aHJvdyBuZXcgTG9hZEFQSUtleUVycm9yKHtcbiAgICAgIG1lc3NhZ2U6IGAke2Rlc2NyaXB0aW9ufSBBUEkga2V5IG11c3QgYmUgYSBzdHJpbmcuIFRoZSB2YWx1ZSBvZiB0aGUgJHtlbnZpcm9ubWVudFZhcmlhYmxlTmFtZX0gZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbm90IGEgc3RyaW5nLmBcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gYXBpS2V5O1xufVxuXG4vLyBzcmMvbG9hZC1vcHRpb25hbC1zZXR0aW5nLnRzXG5mdW5jdGlvbiBsb2FkT3B0aW9uYWxTZXR0aW5nKHtcbiAgc2V0dGluZ1ZhbHVlLFxuICBlbnZpcm9ubWVudFZhcmlhYmxlTmFtZVxufSkge1xuICBpZiAodHlwZW9mIHNldHRpbmdWYWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBzZXR0aW5nVmFsdWU7XG4gIH1cbiAgaWYgKHNldHRpbmdWYWx1ZSAhPSBudWxsIHx8IHR5cGVvZiBwcm9jZXNzID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBzZXR0aW5nVmFsdWUgPSBwcm9jZXNzLmVudltlbnZpcm9ubWVudFZhcmlhYmxlTmFtZV07XG4gIGlmIChzZXR0aW5nVmFsdWUgPT0gbnVsbCB8fCB0eXBlb2Ygc2V0dGluZ1ZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICByZXR1cm4gc2V0dGluZ1ZhbHVlO1xufVxuXG4vLyBzcmMvbG9hZC1zZXR0aW5nLnRzXG5pbXBvcnQgeyBMb2FkU2V0dGluZ0Vycm9yIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbmZ1bmN0aW9uIGxvYWRTZXR0aW5nKHtcbiAgc2V0dGluZ1ZhbHVlLFxuICBlbnZpcm9ubWVudFZhcmlhYmxlTmFtZSxcbiAgc2V0dGluZ05hbWUsXG4gIGRlc2NyaXB0aW9uXG59KSB7XG4gIGlmICh0eXBlb2Ygc2V0dGluZ1ZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHNldHRpbmdWYWx1ZTtcbiAgfVxuICBpZiAoc2V0dGluZ1ZhbHVlICE9IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgTG9hZFNldHRpbmdFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgJHtkZXNjcmlwdGlvbn0gc2V0dGluZyBtdXN0IGJlIGEgc3RyaW5nLmBcbiAgICB9KTtcbiAgfVxuICBpZiAodHlwZW9mIHByb2Nlc3MgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB0aHJvdyBuZXcgTG9hZFNldHRpbmdFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgJHtkZXNjcmlwdGlvbn0gc2V0dGluZyBpcyBtaXNzaW5nLiBQYXNzIGl0IHVzaW5nIHRoZSAnJHtzZXR0aW5nTmFtZX0nIHBhcmFtZXRlci4gRW52aXJvbm1lbnQgdmFyaWFibGVzIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudC5gXG4gICAgfSk7XG4gIH1cbiAgc2V0dGluZ1ZhbHVlID0gcHJvY2Vzcy5lbnZbZW52aXJvbm1lbnRWYXJpYWJsZU5hbWVdO1xuICBpZiAoc2V0dGluZ1ZhbHVlID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgTG9hZFNldHRpbmdFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgJHtkZXNjcmlwdGlvbn0gc2V0dGluZyBpcyBtaXNzaW5nLiBQYXNzIGl0IHVzaW5nIHRoZSAnJHtzZXR0aW5nTmFtZX0nIHBhcmFtZXRlciBvciB0aGUgJHtlbnZpcm9ubWVudFZhcmlhYmxlTmFtZX0gZW52aXJvbm1lbnQgdmFyaWFibGUuYFxuICAgIH0pO1xuICB9XG4gIGlmICh0eXBlb2Ygc2V0dGluZ1ZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgdGhyb3cgbmV3IExvYWRTZXR0aW5nRXJyb3Ioe1xuICAgICAgbWVzc2FnZTogYCR7ZGVzY3JpcHRpb259IHNldHRpbmcgbXVzdCBiZSBhIHN0cmluZy4gVGhlIHZhbHVlIG9mIHRoZSAke2Vudmlyb25tZW50VmFyaWFibGVOYW1lfSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyBub3QgYSBzdHJpbmcuYFxuICAgIH0pO1xuICB9XG4gIHJldHVybiBzZXR0aW5nVmFsdWU7XG59XG5cbi8vIHNyYy9wYXJzZS1qc29uLnRzXG5pbXBvcnQge1xuICBKU09OUGFyc2VFcnJvcixcbiAgVHlwZVZhbGlkYXRpb25FcnJvciBhcyBUeXBlVmFsaWRhdGlvbkVycm9yMlxufSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuaW1wb3J0IFNlY3VyZUpTT04gZnJvbSBcInNlY3VyZS1qc29uLXBhcnNlXCI7XG5cbi8vIHNyYy92YWxpZGF0ZS10eXBlcy50c1xuaW1wb3J0IHsgVHlwZVZhbGlkYXRpb25FcnJvciB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5cbi8vIHNyYy92YWxpZGF0b3IudHNcbnZhciB2YWxpZGF0b3JTeW1ib2wgPSBTeW1ib2wuZm9yKFwidmVyY2VsLmFpLnZhbGlkYXRvclwiKTtcbmZ1bmN0aW9uIHZhbGlkYXRvcih2YWxpZGF0ZSkge1xuICByZXR1cm4geyBbdmFsaWRhdG9yU3ltYm9sXTogdHJ1ZSwgdmFsaWRhdGUgfTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRhdG9yKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGwgJiYgdmFsaWRhdG9yU3ltYm9sIGluIHZhbHVlICYmIHZhbHVlW3ZhbGlkYXRvclN5bWJvbF0gPT09IHRydWUgJiYgXCJ2YWxpZGF0ZVwiIGluIHZhbHVlO1xufVxuZnVuY3Rpb24gYXNWYWxpZGF0b3IodmFsdWUpIHtcbiAgcmV0dXJuIGlzVmFsaWRhdG9yKHZhbHVlKSA/IHZhbHVlIDogem9kVmFsaWRhdG9yKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIHpvZFZhbGlkYXRvcih6b2RTY2hlbWEpIHtcbiAgcmV0dXJuIHZhbGlkYXRvcigodmFsdWUpID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSB6b2RTY2hlbWEuc2FmZVBhcnNlKHZhbHVlKTtcbiAgICByZXR1cm4gcmVzdWx0LnN1Y2Nlc3MgPyB7IHN1Y2Nlc3M6IHRydWUsIHZhbHVlOiByZXN1bHQuZGF0YSB9IDogeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHJlc3VsdC5lcnJvciB9O1xuICB9KTtcbn1cblxuLy8gc3JjL3ZhbGlkYXRlLXR5cGVzLnRzXG5mdW5jdGlvbiB2YWxpZGF0ZVR5cGVzKHtcbiAgdmFsdWUsXG4gIHNjaGVtYTogaW5wdXRTY2hlbWFcbn0pIHtcbiAgY29uc3QgcmVzdWx0ID0gc2FmZVZhbGlkYXRlVHlwZXMoeyB2YWx1ZSwgc2NoZW1hOiBpbnB1dFNjaGVtYSB9KTtcbiAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgIHRocm93IFR5cGVWYWxpZGF0aW9uRXJyb3Iud3JhcCh7IHZhbHVlLCBjYXVzZTogcmVzdWx0LmVycm9yIH0pO1xuICB9XG4gIHJldHVybiByZXN1bHQudmFsdWU7XG59XG5mdW5jdGlvbiBzYWZlVmFsaWRhdGVUeXBlcyh7XG4gIHZhbHVlLFxuICBzY2hlbWFcbn0pIHtcbiAgY29uc3QgdmFsaWRhdG9yMiA9IGFzVmFsaWRhdG9yKHNjaGVtYSk7XG4gIHRyeSB7XG4gICAgaWYgKHZhbGlkYXRvcjIudmFsaWRhdGUgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgdmFsdWUgfTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdG9yMi52YWxpZGF0ZSh2YWx1ZSk7XG4gICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogVHlwZVZhbGlkYXRpb25FcnJvci53cmFwKHsgdmFsdWUsIGNhdXNlOiByZXN1bHQuZXJyb3IgfSlcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiBUeXBlVmFsaWRhdGlvbkVycm9yLndyYXAoeyB2YWx1ZSwgY2F1c2U6IGVycm9yIH0pXG4gICAgfTtcbiAgfVxufVxuXG4vLyBzcmMvcGFyc2UtanNvbi50c1xuZnVuY3Rpb24gcGFyc2VKU09OKHtcbiAgdGV4dCxcbiAgc2NoZW1hXG59KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgdmFsdWUgPSBTZWN1cmVKU09OLnBhcnNlKHRleHQpO1xuICAgIGlmIChzY2hlbWEgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gdmFsaWRhdGVUeXBlcyh7IHZhbHVlLCBzY2hlbWEgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKEpTT05QYXJzZUVycm9yLmlzSW5zdGFuY2UoZXJyb3IpIHx8IFR5cGVWYWxpZGF0aW9uRXJyb3IyLmlzSW5zdGFuY2UoZXJyb3IpKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEpTT05QYXJzZUVycm9yKHsgdGV4dCwgY2F1c2U6IGVycm9yIH0pO1xuICB9XG59XG5mdW5jdGlvbiBzYWZlUGFyc2VKU09OKHtcbiAgdGV4dCxcbiAgc2NoZW1hXG59KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgdmFsdWUgPSBTZWN1cmVKU09OLnBhcnNlKHRleHQpO1xuICAgIGlmIChzY2hlbWEgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgdmFsdWUsIHJhd1ZhbHVlOiB2YWx1ZSB9O1xuICAgIH1cbiAgICBjb25zdCB2YWxpZGF0aW9uUmVzdWx0ID0gc2FmZVZhbGlkYXRlVHlwZXMoeyB2YWx1ZSwgc2NoZW1hIH0pO1xuICAgIHJldHVybiB2YWxpZGF0aW9uUmVzdWx0LnN1Y2Nlc3MgPyB7IC4uLnZhbGlkYXRpb25SZXN1bHQsIHJhd1ZhbHVlOiB2YWx1ZSB9IDogdmFsaWRhdGlvblJlc3VsdDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogSlNPTlBhcnNlRXJyb3IuaXNJbnN0YW5jZShlcnJvcikgPyBlcnJvciA6IG5ldyBKU09OUGFyc2VFcnJvcih7IHRleHQsIGNhdXNlOiBlcnJvciB9KVxuICAgIH07XG4gIH1cbn1cbmZ1bmN0aW9uIGlzUGFyc2FibGVKc29uKGlucHV0KSB7XG4gIHRyeSB7XG4gICAgU2VjdXJlSlNPTi5wYXJzZShpbnB1dCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLy8gc3JjL3BhcnNlLXByb3ZpZGVyLW9wdGlvbnMudHNcbmltcG9ydCB7IEludmFsaWRBcmd1bWVudEVycm9yIGFzIEludmFsaWRBcmd1bWVudEVycm9yMiB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5mdW5jdGlvbiBwYXJzZVByb3ZpZGVyT3B0aW9ucyh7XG4gIHByb3ZpZGVyLFxuICBwcm92aWRlck9wdGlvbnMsXG4gIHNjaGVtYVxufSkge1xuICBpZiAoKHByb3ZpZGVyT3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogcHJvdmlkZXJPcHRpb25zW3Byb3ZpZGVyXSkgPT0gbnVsbCkge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgY29uc3QgcGFyc2VkUHJvdmlkZXJPcHRpb25zID0gc2FmZVZhbGlkYXRlVHlwZXMoe1xuICAgIHZhbHVlOiBwcm92aWRlck9wdGlvbnNbcHJvdmlkZXJdLFxuICAgIHNjaGVtYVxuICB9KTtcbiAgaWYgKCFwYXJzZWRQcm92aWRlck9wdGlvbnMuc3VjY2Vzcykge1xuICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcjIoe1xuICAgICAgYXJndW1lbnQ6IFwicHJvdmlkZXJPcHRpb25zXCIsXG4gICAgICBtZXNzYWdlOiBgaW52YWxpZCAke3Byb3ZpZGVyfSBwcm92aWRlciBvcHRpb25zYCxcbiAgICAgIGNhdXNlOiBwYXJzZWRQcm92aWRlck9wdGlvbnMuZXJyb3JcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcGFyc2VkUHJvdmlkZXJPcHRpb25zLnZhbHVlO1xufVxuXG4vLyBzcmMvcG9zdC10by1hcGkudHNcbmltcG9ydCB7IEFQSUNhbGxFcnJvciBhcyBBUElDYWxsRXJyb3IyIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbnZhciBnZXRPcmlnaW5hbEZldGNoMiA9ICgpID0+IGdsb2JhbFRoaXMuZmV0Y2g7XG52YXIgcG9zdEpzb25Ub0FwaSA9IGFzeW5jICh7XG4gIHVybCxcbiAgaGVhZGVycyxcbiAgYm9keSxcbiAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyLFxuICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyLFxuICBhYm9ydFNpZ25hbCxcbiAgZmV0Y2hcbn0pID0+IHBvc3RUb0FwaSh7XG4gIHVybCxcbiAgaGVhZGVyczoge1xuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIC4uLmhlYWRlcnNcbiAgfSxcbiAgYm9keToge1xuICAgIGNvbnRlbnQ6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgIHZhbHVlczogYm9keVxuICB9LFxuICBmYWlsZWRSZXNwb25zZUhhbmRsZXIsXG4gIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXIsXG4gIGFib3J0U2lnbmFsLFxuICBmZXRjaFxufSk7XG52YXIgcG9zdFRvQXBpID0gYXN5bmMgKHtcbiAgdXJsLFxuICBoZWFkZXJzID0ge30sXG4gIGJvZHksXG4gIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXIsXG4gIGZhaWxlZFJlc3BvbnNlSGFuZGxlcixcbiAgYWJvcnRTaWduYWwsXG4gIGZldGNoID0gZ2V0T3JpZ2luYWxGZXRjaDIoKVxufSkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogcmVtb3ZlVW5kZWZpbmVkRW50cmllcyhoZWFkZXJzKSxcbiAgICAgIGJvZHk6IGJvZHkuY29udGVudCxcbiAgICAgIHNpZ25hbDogYWJvcnRTaWduYWxcbiAgICB9KTtcbiAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBleHRyYWN0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlKTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBsZXQgZXJyb3JJbmZvcm1hdGlvbjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGVycm9ySW5mb3JtYXRpb24gPSBhd2FpdCBmYWlsZWRSZXNwb25zZUhhbmRsZXIoe1xuICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgIHVybCxcbiAgICAgICAgICByZXF1ZXN0Qm9keVZhbHVlczogYm9keS52YWx1ZXNcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAoaXNBYm9ydEVycm9yKGVycm9yKSB8fCBBUElDYWxsRXJyb3IyLmlzSW5zdGFuY2UoZXJyb3IpKSB7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEFQSUNhbGxFcnJvcjIoe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiRmFpbGVkIHRvIHByb2Nlc3MgZXJyb3IgcmVzcG9uc2VcIixcbiAgICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgIHVybCxcbiAgICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXM6IGJvZHkudmFsdWVzXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyb3JJbmZvcm1hdGlvbi52YWx1ZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyKHtcbiAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgIHVybCxcbiAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXM6IGJvZHkudmFsdWVzXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgaWYgKGlzQWJvcnRFcnJvcihlcnJvcikgfHwgQVBJQ2FsbEVycm9yMi5pc0luc3RhbmNlKGVycm9yKSkge1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgQVBJQ2FsbEVycm9yMih7XG4gICAgICAgIG1lc3NhZ2U6IFwiRmFpbGVkIHRvIHByb2Nlc3Mgc3VjY2Vzc2Z1bCByZXNwb25zZVwiLFxuICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgdXJsLFxuICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzOiBib2R5LnZhbHVlc1xuICAgICAgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChpc0Fib3J0RXJyb3IoZXJyb3IpKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgVHlwZUVycm9yICYmIGVycm9yLm1lc3NhZ2UgPT09IFwiZmV0Y2ggZmFpbGVkXCIpIHtcbiAgICAgIGNvbnN0IGNhdXNlID0gZXJyb3IuY2F1c2U7XG4gICAgICBpZiAoY2F1c2UgIT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgQVBJQ2FsbEVycm9yMih7XG4gICAgICAgICAgbWVzc2FnZTogYENhbm5vdCBjb25uZWN0IHRvIEFQSTogJHtjYXVzZS5tZXNzYWdlfWAsXG4gICAgICAgICAgY2F1c2UsXG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzOiBib2R5LnZhbHVlcyxcbiAgICAgICAgICBpc1JldHJ5YWJsZTogdHJ1ZVxuICAgICAgICAgIC8vIHJldHJ5IHdoZW4gbmV0d29yayBlcnJvclxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbi8vIHNyYy9yZXNvbHZlLnRzXG5hc3luYyBmdW5jdGlvbiByZXNvbHZlKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhbHVlID0gdmFsdWUoKTtcbiAgfVxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKTtcbn1cblxuLy8gc3JjL3Jlc3BvbnNlLWhhbmRsZXIudHNcbmltcG9ydCB7IEFQSUNhbGxFcnJvciBhcyBBUElDYWxsRXJyb3IzLCBFbXB0eVJlc3BvbnNlQm9keUVycm9yIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbnZhciBjcmVhdGVKc29uRXJyb3JSZXNwb25zZUhhbmRsZXIgPSAoe1xuICBlcnJvclNjaGVtYSxcbiAgZXJyb3JUb01lc3NhZ2UsXG4gIGlzUmV0cnlhYmxlXG59KSA9PiBhc3luYyAoeyByZXNwb25zZSwgdXJsLCByZXF1ZXN0Qm9keVZhbHVlcyB9KSA9PiB7XG4gIGNvbnN0IHJlc3BvbnNlQm9keSA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gZXh0cmFjdFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZSk7XG4gIGlmIChyZXNwb25zZUJvZHkudHJpbSgpID09PSBcIlwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgIHZhbHVlOiBuZXcgQVBJQ2FsbEVycm9yMyh7XG4gICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICAgIHVybCxcbiAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXMsXG4gICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICByZXNwb25zZUJvZHksXG4gICAgICAgIGlzUmV0cnlhYmxlOiBpc1JldHJ5YWJsZSA9PSBudWxsID8gdm9pZCAwIDogaXNSZXRyeWFibGUocmVzcG9uc2UpXG4gICAgICB9KVxuICAgIH07XG4gIH1cbiAgdHJ5IHtcbiAgICBjb25zdCBwYXJzZWRFcnJvciA9IHBhcnNlSlNPTih7XG4gICAgICB0ZXh0OiByZXNwb25zZUJvZHksXG4gICAgICBzY2hlbWE6IGVycm9yU2NoZW1hXG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgIHZhbHVlOiBuZXcgQVBJQ2FsbEVycm9yMyh7XG4gICAgICAgIG1lc3NhZ2U6IGVycm9yVG9NZXNzYWdlKHBhcnNlZEVycm9yKSxcbiAgICAgICAgdXJsLFxuICAgICAgICByZXF1ZXN0Qm9keVZhbHVlcyxcbiAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIHJlc3BvbnNlQm9keSxcbiAgICAgICAgZGF0YTogcGFyc2VkRXJyb3IsXG4gICAgICAgIGlzUmV0cnlhYmxlOiBpc1JldHJ5YWJsZSA9PSBudWxsID8gdm9pZCAwIDogaXNSZXRyeWFibGUocmVzcG9uc2UsIHBhcnNlZEVycm9yKVxuICAgICAgfSlcbiAgICB9O1xuICB9IGNhdGNoIChwYXJzZUVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgIHZhbHVlOiBuZXcgQVBJQ2FsbEVycm9yMyh7XG4gICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICAgIHVybCxcbiAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXMsXG4gICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICByZXNwb25zZUJvZHksXG4gICAgICAgIGlzUmV0cnlhYmxlOiBpc1JldHJ5YWJsZSA9PSBudWxsID8gdm9pZCAwIDogaXNSZXRyeWFibGUocmVzcG9uc2UpXG4gICAgICB9KVxuICAgIH07XG4gIH1cbn07XG52YXIgY3JlYXRlRXZlbnRTb3VyY2VSZXNwb25zZUhhbmRsZXIgPSAoY2h1bmtTY2hlbWEpID0+IGFzeW5jICh7IHJlc3BvbnNlIH0pID0+IHtcbiAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gZXh0cmFjdFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZSk7XG4gIGlmIChyZXNwb25zZS5ib2R5ID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRW1wdHlSZXNwb25zZUJvZHlFcnJvcih7fSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgdmFsdWU6IHJlc3BvbnNlLmJvZHkucGlwZVRocm91Z2gobmV3IFRleHREZWNvZGVyU3RyZWFtKCkpLnBpcGVUaHJvdWdoKGNyZWF0ZUV2ZW50U291cmNlUGFyc2VyU3RyZWFtKCkpLnBpcGVUaHJvdWdoKFxuICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbSh7XG4gICAgICAgIHRyYW5zZm9ybSh7IGRhdGEgfSwgY29udHJvbGxlcikge1xuICAgICAgICAgIGlmIChkYXRhID09PSBcIltET05FXVwiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShcbiAgICAgICAgICAgIHNhZmVQYXJzZUpTT04oe1xuICAgICAgICAgICAgICB0ZXh0OiBkYXRhLFxuICAgICAgICAgICAgICBzY2hlbWE6IGNodW5rU2NoZW1hXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKVxuICB9O1xufTtcbnZhciBjcmVhdGVKc29uU3RyZWFtUmVzcG9uc2VIYW5kbGVyID0gKGNodW5rU2NoZW1hKSA9PiBhc3luYyAoeyByZXNwb25zZSB9KSA9PiB7XG4gIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IGV4dHJhY3RSZXNwb25zZUhlYWRlcnMocmVzcG9uc2UpO1xuICBpZiAocmVzcG9uc2UuYm9keSA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVtcHR5UmVzcG9uc2VCb2R5RXJyb3Ioe30pO1xuICB9XG4gIGxldCBidWZmZXIgPSBcIlwiO1xuICByZXR1cm4ge1xuICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICB2YWx1ZTogcmVzcG9uc2UuYm9keS5waXBlVGhyb3VnaChuZXcgVGV4dERlY29kZXJTdHJlYW0oKSkucGlwZVRocm91Z2goXG4gICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtKHtcbiAgICAgICAgdHJhbnNmb3JtKGNodW5rVGV4dCwgY29udHJvbGxlcikge1xuICAgICAgICAgIGlmIChjaHVua1RleHQuZW5kc1dpdGgoXCJcXG5cIikpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShcbiAgICAgICAgICAgICAgc2FmZVBhcnNlSlNPTih7XG4gICAgICAgICAgICAgICAgdGV4dDogYnVmZmVyICsgY2h1bmtUZXh0LFxuICAgICAgICAgICAgICAgIHNjaGVtYTogY2h1bmtTY2hlbWFcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBidWZmZXIgPSBcIlwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBidWZmZXIgKz0gY2h1bmtUZXh0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApXG4gIH07XG59O1xudmFyIGNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXIgPSAocmVzcG9uc2VTY2hlbWEpID0+IGFzeW5jICh7IHJlc3BvbnNlLCB1cmwsIHJlcXVlc3RCb2R5VmFsdWVzIH0pID0+IHtcbiAgY29uc3QgcmVzcG9uc2VCb2R5ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICBjb25zdCBwYXJzZWRSZXN1bHQgPSBzYWZlUGFyc2VKU09OKHtcbiAgICB0ZXh0OiByZXNwb25zZUJvZHksXG4gICAgc2NoZW1hOiByZXNwb25zZVNjaGVtYVxuICB9KTtcbiAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gZXh0cmFjdFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZSk7XG4gIGlmICghcGFyc2VkUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICB0aHJvdyBuZXcgQVBJQ2FsbEVycm9yMyh7XG4gICAgICBtZXNzYWdlOiBcIkludmFsaWQgSlNPTiByZXNwb25zZVwiLFxuICAgICAgY2F1c2U6IHBhcnNlZFJlc3VsdC5lcnJvcixcbiAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgIHJlc3BvbnNlQm9keSxcbiAgICAgIHVybCxcbiAgICAgIHJlcXVlc3RCb2R5VmFsdWVzXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgdmFsdWU6IHBhcnNlZFJlc3VsdC52YWx1ZSxcbiAgICByYXdWYWx1ZTogcGFyc2VkUmVzdWx0LnJhd1ZhbHVlXG4gIH07XG59O1xudmFyIGNyZWF0ZUJpbmFyeVJlc3BvbnNlSGFuZGxlciA9ICgpID0+IGFzeW5jICh7IHJlc3BvbnNlLCB1cmwsIHJlcXVlc3RCb2R5VmFsdWVzIH0pID0+IHtcbiAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gZXh0cmFjdFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZSk7XG4gIGlmICghcmVzcG9uc2UuYm9keSkge1xuICAgIHRocm93IG5ldyBBUElDYWxsRXJyb3IzKHtcbiAgICAgIG1lc3NhZ2U6IFwiUmVzcG9uc2UgYm9keSBpcyBlbXB0eVwiLFxuICAgICAgdXJsLFxuICAgICAgcmVxdWVzdEJvZHlWYWx1ZXMsXG4gICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICByZXNwb25zZUJvZHk6IHZvaWQgMFxuICAgIH0pO1xuICB9XG4gIHRyeSB7XG4gICAgY29uc3QgYnVmZmVyID0gYXdhaXQgcmVzcG9uc2UuYXJyYXlCdWZmZXIoKTtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgdmFsdWU6IG5ldyBVaW50OEFycmF5KGJ1ZmZlcilcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBBUElDYWxsRXJyb3IzKHtcbiAgICAgIG1lc3NhZ2U6IFwiRmFpbGVkIHRvIHJlYWQgcmVzcG9uc2UgYXMgYXJyYXkgYnVmZmVyXCIsXG4gICAgICB1cmwsXG4gICAgICByZXF1ZXN0Qm9keVZhbHVlcyxcbiAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgIHJlc3BvbnNlQm9keTogdm9pZCAwLFxuICAgICAgY2F1c2U6IGVycm9yXG4gICAgfSk7XG4gIH1cbn07XG52YXIgY3JlYXRlU3RhdHVzQ29kZUVycm9yUmVzcG9uc2VIYW5kbGVyID0gKCkgPT4gYXN5bmMgKHsgcmVzcG9uc2UsIHVybCwgcmVxdWVzdEJvZHlWYWx1ZXMgfSkgPT4ge1xuICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBleHRyYWN0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlKTtcbiAgY29uc3QgcmVzcG9uc2VCb2R5ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICByZXR1cm4ge1xuICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICB2YWx1ZTogbmV3IEFQSUNhbGxFcnJvcjMoe1xuICAgICAgbWVzc2FnZTogcmVzcG9uc2Uuc3RhdHVzVGV4dCxcbiAgICAgIHVybCxcbiAgICAgIHJlcXVlc3RCb2R5VmFsdWVzLFxuICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgcmVzcG9uc2VCb2R5XG4gICAgfSlcbiAgfTtcbn07XG5cbi8vIHNyYy91aW50OC11dGlscy50c1xudmFyIHsgYnRvYSwgYXRvYiB9ID0gZ2xvYmFsVGhpcztcbmZ1bmN0aW9uIGNvbnZlcnRCYXNlNjRUb1VpbnQ4QXJyYXkoYmFzZTY0U3RyaW5nKSB7XG4gIGNvbnN0IGJhc2U2NFVybCA9IGJhc2U2NFN0cmluZy5yZXBsYWNlKC8tL2csIFwiK1wiKS5yZXBsYWNlKC9fL2csIFwiL1wiKTtcbiAgY29uc3QgbGF0aW4xc3RyaW5nID0gYXRvYihiYXNlNjRVcmwpO1xuICByZXR1cm4gVWludDhBcnJheS5mcm9tKGxhdGluMXN0cmluZywgKGJ5dGUpID0+IGJ5dGUuY29kZVBvaW50QXQoMCkpO1xufVxuZnVuY3Rpb24gY29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NChhcnJheSkge1xuICBsZXQgbGF0aW4xc3RyaW5nID0gXCJcIjtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIGxhdGluMXN0cmluZyArPSBTdHJpbmcuZnJvbUNvZGVQb2ludChhcnJheVtpXSk7XG4gIH1cbiAgcmV0dXJuIGJ0b2EobGF0aW4xc3RyaW5nKTtcbn1cblxuLy8gc3JjL3dpdGhvdXQtdHJhaWxpbmctc2xhc2gudHNcbmZ1bmN0aW9uIHdpdGhvdXRUcmFpbGluZ1NsYXNoKHVybCkge1xuICByZXR1cm4gdXJsID09IG51bGwgPyB2b2lkIDAgOiB1cmwucmVwbGFjZSgvXFwvJC8sIFwiXCIpO1xufVxuZXhwb3J0IHtcbiAgYXNWYWxpZGF0b3IsXG4gIGNvbWJpbmVIZWFkZXJzLFxuICBjb252ZXJ0QXN5bmNJdGVyYXRvclRvUmVhZGFibGVTdHJlYW0sXG4gIGNvbnZlcnRCYXNlNjRUb1VpbnQ4QXJyYXksXG4gIGNvbnZlcnRVaW50OEFycmF5VG9CYXNlNjQsXG4gIGNyZWF0ZUJpbmFyeVJlc3BvbnNlSGFuZGxlcixcbiAgY3JlYXRlRXZlbnRTb3VyY2VQYXJzZXJTdHJlYW0sXG4gIGNyZWF0ZUV2ZW50U291cmNlUmVzcG9uc2VIYW5kbGVyLFxuICBjcmVhdGVJZEdlbmVyYXRvcixcbiAgY3JlYXRlSnNvbkVycm9yUmVzcG9uc2VIYW5kbGVyLFxuICBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyLFxuICBjcmVhdGVKc29uU3RyZWFtUmVzcG9uc2VIYW5kbGVyLFxuICBjcmVhdGVTdGF0dXNDb2RlRXJyb3JSZXNwb25zZUhhbmRsZXIsXG4gIGRlbGF5LFxuICBleHRyYWN0UmVzcG9uc2VIZWFkZXJzLFxuICBnZW5lcmF0ZUlkLFxuICBnZXRFcnJvck1lc3NhZ2UsXG4gIGdldEZyb21BcGksXG4gIGlzQWJvcnRFcnJvcixcbiAgaXNQYXJzYWJsZUpzb24sXG4gIGlzVmFsaWRhdG9yLFxuICBsb2FkQXBpS2V5LFxuICBsb2FkT3B0aW9uYWxTZXR0aW5nLFxuICBsb2FkU2V0dGluZyxcbiAgcGFyc2VKU09OLFxuICBwYXJzZVByb3ZpZGVyT3B0aW9ucyxcbiAgcG9zdEpzb25Ub0FwaSxcbiAgcG9zdFRvQXBpLFxuICByZW1vdmVVbmRlZmluZWRFbnRyaWVzLFxuICByZXNvbHZlLFxuICBzYWZlUGFyc2VKU09OLFxuICBzYWZlVmFsaWRhdGVUeXBlcyxcbiAgdmFsaWRhdGVUeXBlcyxcbiAgdmFsaWRhdG9yLFxuICB2YWxpZGF0b3JTeW1ib2wsXG4gIHdpdGhvdXRUcmFpbGluZ1NsYXNoLFxuICB6b2RWYWxpZGF0b3Jcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbImNvbWJpbmVIZWFkZXJzIiwiaGVhZGVycyIsInJlZHVjZSIsImNvbWJpbmVkSGVhZGVycyIsImN1cnJlbnRIZWFkZXJzIiwiY29udmVydEFzeW5jSXRlcmF0b3JUb1JlYWRhYmxlU3RyZWFtIiwiaXRlcmF0b3IiLCJSZWFkYWJsZVN0cmVhbSIsInB1bGwiLCJjb250cm9sbGVyIiwidmFsdWUiLCJkb25lIiwibmV4dCIsImNsb3NlIiwiZW5xdWV1ZSIsImVycm9yIiwiY2FuY2VsIiwiZGVsYXkiLCJkZWxheUluTXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlc29sdmUyIiwic2V0VGltZW91dCIsImNyZWF0ZUV2ZW50U291cmNlUGFyc2VyU3RyZWFtIiwiYnVmZmVyIiwiZXZlbnQiLCJkYXRhIiwibGFzdEV2ZW50SWQiLCJyZXRyeSIsInBhcnNlTGluZSIsImxpbmUiLCJkaXNwYXRjaEV2ZW50Iiwic3RhcnRzV2l0aCIsImNvbG9uSW5kZXgiLCJpbmRleE9mIiwiaGFuZGxlRmllbGQiLCJmaWVsZCIsInNsaWNlIiwidmFsdWVTdGFydCIsImxlbmd0aCIsImpvaW4iLCJpZCIsInB1c2giLCJwYXJzZWRSZXRyeSIsInBhcnNlSW50IiwiaXNOYU4iLCJUcmFuc2Zvcm1TdHJlYW0iLCJ0cmFuc2Zvcm0iLCJjaHVuayIsImxpbmVzIiwiaW5jb21wbGV0ZUxpbmUiLCJzcGxpdExpbmVzIiwiaSIsImZsdXNoIiwiY3VycmVudExpbmUiLCJjaGFyIiwiZXh0cmFjdFJlc3BvbnNlSGVhZGVycyIsInJlc3BvbnNlIiwiZm9yRWFjaCIsImtleSIsIkludmFsaWRBcmd1bWVudEVycm9yIiwiY3VzdG9tQWxwaGFiZXQiLCJjcmVhdGVJZEdlbmVyYXRvciIsInByZWZpeCIsInNpemUiLCJkZWZhdWx0U2l6ZSIsImFscGhhYmV0Iiwic2VwYXJhdG9yIiwiZ2VuZXJhdG9yIiwiaW5jbHVkZXMiLCJhcmd1bWVudCIsIm1lc3NhZ2UiLCJnZW5lcmF0ZUlkIiwiZ2V0RXJyb3JNZXNzYWdlIiwiRXJyb3IiLCJKU09OIiwic3RyaW5naWZ5IiwiQVBJQ2FsbEVycm9yIiwicmVtb3ZlVW5kZWZpbmVkRW50cmllcyIsInJlY29yZCIsIk9iamVjdCIsImZyb21FbnRyaWVzIiwiZW50cmllcyIsImZpbHRlciIsIl9rZXkiLCJpc0Fib3J0RXJyb3IiLCJuYW1lIiwiZ2V0T3JpZ2luYWxGZXRjaCIsImdsb2JhbFRoaXMiLCJmZXRjaCIsImdldEZyb21BcGkiLCJ1cmwiLCJzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyIiwiZmFpbGVkUmVzcG9uc2VIYW5kbGVyIiwiYWJvcnRTaWduYWwiLCJtZXRob2QiLCJzaWduYWwiLCJyZXNwb25zZUhlYWRlcnMiLCJvayIsImVycm9ySW5mb3JtYXRpb24iLCJyZXF1ZXN0Qm9keVZhbHVlcyIsImlzSW5zdGFuY2UiLCJjYXVzZSIsInN0YXR1c0NvZGUiLCJzdGF0dXMiLCJUeXBlRXJyb3IiLCJpc1JldHJ5YWJsZSIsIkxvYWRBUElLZXlFcnJvciIsImxvYWRBcGlLZXkiLCJhcGlLZXkiLCJlbnZpcm9ubWVudFZhcmlhYmxlTmFtZSIsImFwaUtleVBhcmFtZXRlck5hbWUiLCJkZXNjcmlwdGlvbiIsInByb2Nlc3MiLCJlbnYiLCJsb2FkT3B0aW9uYWxTZXR0aW5nIiwic2V0dGluZ1ZhbHVlIiwiTG9hZFNldHRpbmdFcnJvciIsImxvYWRTZXR0aW5nIiwic2V0dGluZ05hbWUiLCJKU09OUGFyc2VFcnJvciIsIlR5cGVWYWxpZGF0aW9uRXJyb3IiLCJUeXBlVmFsaWRhdGlvbkVycm9yMiIsIlNlY3VyZUpTT04iLCJ2YWxpZGF0b3JTeW1ib2wiLCJTeW1ib2wiLCJmb3IiLCJ2YWxpZGF0b3IiLCJ2YWxpZGF0ZSIsImlzVmFsaWRhdG9yIiwiYXNWYWxpZGF0b3IiLCJ6b2RWYWxpZGF0b3IiLCJ6b2RTY2hlbWEiLCJyZXN1bHQiLCJzYWZlUGFyc2UiLCJzdWNjZXNzIiwidmFsaWRhdGVUeXBlcyIsInNjaGVtYSIsImlucHV0U2NoZW1hIiwic2FmZVZhbGlkYXRlVHlwZXMiLCJ3cmFwIiwidmFsaWRhdG9yMiIsInBhcnNlSlNPTiIsInRleHQiLCJwYXJzZSIsInNhZmVQYXJzZUpTT04iLCJyYXdWYWx1ZSIsInZhbGlkYXRpb25SZXN1bHQiLCJpc1BhcnNhYmxlSnNvbiIsImlucHV0IiwiZSIsIkludmFsaWRBcmd1bWVudEVycm9yMiIsInBhcnNlUHJvdmlkZXJPcHRpb25zIiwicHJvdmlkZXIiLCJwcm92aWRlck9wdGlvbnMiLCJwYXJzZWRQcm92aWRlck9wdGlvbnMiLCJBUElDYWxsRXJyb3IyIiwiZ2V0T3JpZ2luYWxGZXRjaDIiLCJwb3N0SnNvblRvQXBpIiwiYm9keSIsInBvc3RUb0FwaSIsImNvbnRlbnQiLCJ2YWx1ZXMiLCJBUElDYWxsRXJyb3IzIiwiRW1wdHlSZXNwb25zZUJvZHlFcnJvciIsImNyZWF0ZUpzb25FcnJvclJlc3BvbnNlSGFuZGxlciIsImVycm9yU2NoZW1hIiwiZXJyb3JUb01lc3NhZ2UiLCJyZXNwb25zZUJvZHkiLCJ0cmltIiwic3RhdHVzVGV4dCIsInBhcnNlZEVycm9yIiwicGFyc2VFcnJvciIsImNyZWF0ZUV2ZW50U291cmNlUmVzcG9uc2VIYW5kbGVyIiwiY2h1bmtTY2hlbWEiLCJwaXBlVGhyb3VnaCIsIlRleHREZWNvZGVyU3RyZWFtIiwiY3JlYXRlSnNvblN0cmVhbVJlc3BvbnNlSGFuZGxlciIsImNodW5rVGV4dCIsImVuZHNXaXRoIiwiY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlciIsInJlc3BvbnNlU2NoZW1hIiwicGFyc2VkUmVzdWx0IiwiY3JlYXRlQmluYXJ5UmVzcG9uc2VIYW5kbGVyIiwiYXJyYXlCdWZmZXIiLCJVaW50OEFycmF5IiwiY3JlYXRlU3RhdHVzQ29kZUVycm9yUmVzcG9uc2VIYW5kbGVyIiwiYnRvYSIsImF0b2IiLCJjb252ZXJ0QmFzZTY0VG9VaW50OEFycmF5IiwiYmFzZTY0U3RyaW5nIiwiYmFzZTY0VXJsIiwicmVwbGFjZSIsImxhdGluMXN0cmluZyIsImZyb20iLCJieXRlIiwiY29kZVBvaW50QXQiLCJjb252ZXJ0VWludDhBcnJheVRvQmFzZTY0IiwiYXJyYXkiLCJTdHJpbmciLCJmcm9tQ29kZVBvaW50Iiwid2l0aG91dFRyYWlsaW5nU2xhc2giXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@ai-sdk/provider-utils/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@ai-sdk/provider/dist/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@ai-sdk/provider/dist/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AISDKError: () => (/* binding */ AISDKError),\n/* harmony export */   APICallError: () => (/* binding */ APICallError),\n/* harmony export */   EmptyResponseBodyError: () => (/* binding */ EmptyResponseBodyError),\n/* harmony export */   InvalidArgumentError: () => (/* binding */ InvalidArgumentError),\n/* harmony export */   InvalidPromptError: () => (/* binding */ InvalidPromptError),\n/* harmony export */   InvalidResponseDataError: () => (/* binding */ InvalidResponseDataError),\n/* harmony export */   JSONParseError: () => (/* binding */ JSONParseError),\n/* harmony export */   LoadAPIKeyError: () => (/* binding */ LoadAPIKeyError),\n/* harmony export */   LoadSettingError: () => (/* binding */ LoadSettingError),\n/* harmony export */   NoContentGeneratedError: () => (/* binding */ NoContentGeneratedError),\n/* harmony export */   NoSuchModelError: () => (/* binding */ NoSuchModelError),\n/* harmony export */   TooManyEmbeddingValuesForCallError: () => (/* binding */ TooManyEmbeddingValuesForCallError),\n/* harmony export */   TypeValidationError: () => (/* binding */ TypeValidationError),\n/* harmony export */   UnsupportedFunctionalityError: () => (/* binding */ UnsupportedFunctionalityError),\n/* harmony export */   getErrorMessage: () => (/* binding */ getErrorMessage),\n/* harmony export */   isJSONArray: () => (/* binding */ isJSONArray),\n/* harmony export */   isJSONObject: () => (/* binding */ isJSONObject),\n/* harmony export */   isJSONValue: () => (/* binding */ isJSONValue)\n/* harmony export */ });\n// src/errors/ai-sdk-error.ts\nvar marker = \"vercel.ai.error\";\nvar symbol = Symbol.for(marker);\nvar _a;\nvar _AISDKError = class _AISDKError extends Error {\n    /**\n   * Creates an AI SDK Error.\n   *\n   * @param {Object} params - The parameters for creating the error.\n   * @param {string} params.name - The name of the error.\n   * @param {string} params.message - The error message.\n   * @param {unknown} [params.cause] - The underlying cause of the error.\n   */ constructor({ name: name14, message, cause }){\n        super(message);\n        this[_a] = true;\n        this.name = name14;\n        this.cause = cause;\n    }\n    /**\n   * Checks if the given error is an AI SDK Error.\n   * @param {unknown} error - The error to check.\n   * @returns {boolean} True if the error is an AI SDK Error, false otherwise.\n   */ static isInstance(error) {\n        return _AISDKError.hasMarker(error, marker);\n    }\n    static hasMarker(error, marker15) {\n        const markerSymbol = Symbol.for(marker15);\n        return error != null && typeof error === \"object\" && markerSymbol in error && typeof error[markerSymbol] === \"boolean\" && error[markerSymbol] === true;\n    }\n};\n_a = symbol;\nvar AISDKError = _AISDKError;\n// src/errors/api-call-error.ts\nvar name = \"AI_APICallError\";\nvar marker2 = `vercel.ai.error.${name}`;\nvar symbol2 = Symbol.for(marker2);\nvar _a2;\nvar APICallError = class extends AISDKError {\n    constructor({ message, url, requestBodyValues, statusCode, responseHeaders, responseBody, cause, isRetryable = statusCode != null && (statusCode === 408 || // request timeout\n    statusCode === 409 || // conflict\n    statusCode === 429 || // too many requests\n    statusCode >= 500), // server error\n    data }){\n        super({\n            name,\n            message,\n            cause\n        });\n        this[_a2] = true;\n        this.url = url;\n        this.requestBodyValues = requestBodyValues;\n        this.statusCode = statusCode;\n        this.responseHeaders = responseHeaders;\n        this.responseBody = responseBody;\n        this.isRetryable = isRetryable;\n        this.data = data;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker2);\n    }\n};\n_a2 = symbol2;\n// src/errors/empty-response-body-error.ts\nvar name2 = \"AI_EmptyResponseBodyError\";\nvar marker3 = `vercel.ai.error.${name2}`;\nvar symbol3 = Symbol.for(marker3);\nvar _a3;\nvar EmptyResponseBodyError = class extends AISDKError {\n    // used in isInstance\n    constructor({ message = \"Empty response body\" } = {}){\n        super({\n            name: name2,\n            message\n        });\n        this[_a3] = true;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker3);\n    }\n};\n_a3 = symbol3;\n// src/errors/get-error-message.ts\nfunction getErrorMessage(error) {\n    if (error == null) {\n        return \"unknown error\";\n    }\n    if (typeof error === \"string\") {\n        return error;\n    }\n    if (error instanceof Error) {\n        return error.message;\n    }\n    return JSON.stringify(error);\n}\n// src/errors/invalid-argument-error.ts\nvar name3 = \"AI_InvalidArgumentError\";\nvar marker4 = `vercel.ai.error.${name3}`;\nvar symbol4 = Symbol.for(marker4);\nvar _a4;\nvar InvalidArgumentError = class extends AISDKError {\n    constructor({ message, cause, argument }){\n        super({\n            name: name3,\n            message,\n            cause\n        });\n        this[_a4] = true;\n        this.argument = argument;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker4);\n    }\n};\n_a4 = symbol4;\n// src/errors/invalid-prompt-error.ts\nvar name4 = \"AI_InvalidPromptError\";\nvar marker5 = `vercel.ai.error.${name4}`;\nvar symbol5 = Symbol.for(marker5);\nvar _a5;\nvar InvalidPromptError = class extends AISDKError {\n    constructor({ prompt, message, cause }){\n        super({\n            name: name4,\n            message: `Invalid prompt: ${message}`,\n            cause\n        });\n        this[_a5] = true;\n        this.prompt = prompt;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker5);\n    }\n};\n_a5 = symbol5;\n// src/errors/invalid-response-data-error.ts\nvar name5 = \"AI_InvalidResponseDataError\";\nvar marker6 = `vercel.ai.error.${name5}`;\nvar symbol6 = Symbol.for(marker6);\nvar _a6;\nvar InvalidResponseDataError = class extends AISDKError {\n    constructor({ data, message = `Invalid response data: ${JSON.stringify(data)}.` }){\n        super({\n            name: name5,\n            message\n        });\n        this[_a6] = true;\n        this.data = data;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker6);\n    }\n};\n_a6 = symbol6;\n// src/errors/json-parse-error.ts\nvar name6 = \"AI_JSONParseError\";\nvar marker7 = `vercel.ai.error.${name6}`;\nvar symbol7 = Symbol.for(marker7);\nvar _a7;\nvar JSONParseError = class extends AISDKError {\n    constructor({ text, cause }){\n        super({\n            name: name6,\n            message: `JSON parsing failed: Text: ${text}.\nError message: ${getErrorMessage(cause)}`,\n            cause\n        });\n        this[_a7] = true;\n        this.text = text;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker7);\n    }\n};\n_a7 = symbol7;\n// src/errors/load-api-key-error.ts\nvar name7 = \"AI_LoadAPIKeyError\";\nvar marker8 = `vercel.ai.error.${name7}`;\nvar symbol8 = Symbol.for(marker8);\nvar _a8;\nvar LoadAPIKeyError = class extends AISDKError {\n    // used in isInstance\n    constructor({ message }){\n        super({\n            name: name7,\n            message\n        });\n        this[_a8] = true;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker8);\n    }\n};\n_a8 = symbol8;\n// src/errors/load-setting-error.ts\nvar name8 = \"AI_LoadSettingError\";\nvar marker9 = `vercel.ai.error.${name8}`;\nvar symbol9 = Symbol.for(marker9);\nvar _a9;\nvar LoadSettingError = class extends AISDKError {\n    // used in isInstance\n    constructor({ message }){\n        super({\n            name: name8,\n            message\n        });\n        this[_a9] = true;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker9);\n    }\n};\n_a9 = symbol9;\n// src/errors/no-content-generated-error.ts\nvar name9 = \"AI_NoContentGeneratedError\";\nvar marker10 = `vercel.ai.error.${name9}`;\nvar symbol10 = Symbol.for(marker10);\nvar _a10;\nvar NoContentGeneratedError = class extends AISDKError {\n    // used in isInstance\n    constructor({ message = \"No content generated.\" } = {}){\n        super({\n            name: name9,\n            message\n        });\n        this[_a10] = true;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker10);\n    }\n};\n_a10 = symbol10;\n// src/errors/no-such-model-error.ts\nvar name10 = \"AI_NoSuchModelError\";\nvar marker11 = `vercel.ai.error.${name10}`;\nvar symbol11 = Symbol.for(marker11);\nvar _a11;\nvar NoSuchModelError = class extends AISDKError {\n    constructor({ errorName = name10, modelId, modelType, message = `No such ${modelType}: ${modelId}` }){\n        super({\n            name: errorName,\n            message\n        });\n        this[_a11] = true;\n        this.modelId = modelId;\n        this.modelType = modelType;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker11);\n    }\n};\n_a11 = symbol11;\n// src/errors/too-many-embedding-values-for-call-error.ts\nvar name11 = \"AI_TooManyEmbeddingValuesForCallError\";\nvar marker12 = `vercel.ai.error.${name11}`;\nvar symbol12 = Symbol.for(marker12);\nvar _a12;\nvar TooManyEmbeddingValuesForCallError = class extends AISDKError {\n    constructor(options){\n        super({\n            name: name11,\n            message: `Too many values for a single embedding call. The ${options.provider} model \"${options.modelId}\" can only embed up to ${options.maxEmbeddingsPerCall} values per call, but ${options.values.length} values were provided.`\n        });\n        this[_a12] = true;\n        this.provider = options.provider;\n        this.modelId = options.modelId;\n        this.maxEmbeddingsPerCall = options.maxEmbeddingsPerCall;\n        this.values = options.values;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker12);\n    }\n};\n_a12 = symbol12;\n// src/errors/type-validation-error.ts\nvar name12 = \"AI_TypeValidationError\";\nvar marker13 = `vercel.ai.error.${name12}`;\nvar symbol13 = Symbol.for(marker13);\nvar _a13;\nvar _TypeValidationError = class _TypeValidationError extends AISDKError {\n    constructor({ value, cause }){\n        super({\n            name: name12,\n            message: `Type validation failed: Value: ${JSON.stringify(value)}.\nError message: ${getErrorMessage(cause)}`,\n            cause\n        });\n        this[_a13] = true;\n        this.value = value;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker13);\n    }\n    /**\n   * Wraps an error into a TypeValidationError.\n   * If the cause is already a TypeValidationError with the same value, it returns the cause.\n   * Otherwise, it creates a new TypeValidationError.\n   *\n   * @param {Object} params - The parameters for wrapping the error.\n   * @param {unknown} params.value - The value that failed validation.\n   * @param {unknown} params.cause - The original error or cause of the validation failure.\n   * @returns {TypeValidationError} A TypeValidationError instance.\n   */ static wrap({ value, cause }) {\n        return _TypeValidationError.isInstance(cause) && cause.value === value ? cause : new _TypeValidationError({\n            value,\n            cause\n        });\n    }\n};\n_a13 = symbol13;\nvar TypeValidationError = _TypeValidationError;\n// src/errors/unsupported-functionality-error.ts\nvar name13 = \"AI_UnsupportedFunctionalityError\";\nvar marker14 = `vercel.ai.error.${name13}`;\nvar symbol14 = Symbol.for(marker14);\nvar _a14;\nvar UnsupportedFunctionalityError = class extends AISDKError {\n    constructor({ functionality, message = `'${functionality}' functionality not supported.` }){\n        super({\n            name: name13,\n            message\n        });\n        this[_a14] = true;\n        this.functionality = functionality;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker14);\n    }\n};\n_a14 = symbol14;\n// src/json-value/is-json.ts\nfunction isJSONValue(value) {\n    if (value === null || typeof value === \"string\" || typeof value === \"number\" || typeof value === \"boolean\") {\n        return true;\n    }\n    if (Array.isArray(value)) {\n        return value.every(isJSONValue);\n    }\n    if (typeof value === \"object\") {\n        return Object.entries(value).every(([key, val])=>typeof key === \"string\" && isJSONValue(val));\n    }\n    return false;\n}\nfunction isJSONArray(value) {\n    return Array.isArray(value) && value.every(isJSONValue);\n}\nfunction isJSONObject(value) {\n    return value != null && typeof value === \"object\" && Object.entries(value).every(([key, val])=>typeof key === \"string\" && isJSONValue(val));\n}\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw2QkFBNkI7QUFDN0IsSUFBSUEsU0FBUztBQUNiLElBQUlDLFNBQVNDLE9BQU9DLEdBQUcsQ0FBQ0g7QUFDeEIsSUFBSUk7QUFDSixJQUFJQyxjQUFjLE1BQU1BLG9CQUFvQkM7SUFDMUM7Ozs7Ozs7R0FPQyxHQUNEQyxZQUFZLEVBQ1ZDLE1BQU1DLE1BQU0sRUFDWkMsT0FBTyxFQUNQQyxLQUFLLEVBQ04sQ0FBRTtRQUNELEtBQUssQ0FBQ0Q7UUFDTixJQUFJLENBQUNOLEdBQUcsR0FBRztRQUNYLElBQUksQ0FBQ0ksSUFBSSxHQUFHQztRQUNaLElBQUksQ0FBQ0UsS0FBSyxHQUFHQTtJQUNmO0lBQ0E7Ozs7R0FJQyxHQUNELE9BQU9DLFdBQVdDLEtBQUssRUFBRTtRQUN2QixPQUFPUixZQUFZUyxTQUFTLENBQUNELE9BQU9iO0lBQ3RDO0lBQ0EsT0FBT2MsVUFBVUQsS0FBSyxFQUFFRSxRQUFRLEVBQUU7UUFDaEMsTUFBTUMsZUFBZWQsT0FBT0MsR0FBRyxDQUFDWTtRQUNoQyxPQUFPRixTQUFTLFFBQVEsT0FBT0EsVUFBVSxZQUFZRyxnQkFBZ0JILFNBQVMsT0FBT0EsS0FBSyxDQUFDRyxhQUFhLEtBQUssYUFBYUgsS0FBSyxDQUFDRyxhQUFhLEtBQUs7SUFDcEo7QUFDRjtBQUNBWixLQUFLSDtBQUNMLElBQUlnQixhQUFhWjtBQUVqQiwrQkFBK0I7QUFDL0IsSUFBSUcsT0FBTztBQUNYLElBQUlVLFVBQVUsQ0FBQyxnQkFBZ0IsRUFBRVYsS0FBSyxDQUFDO0FBQ3ZDLElBQUlXLFVBQVVqQixPQUFPQyxHQUFHLENBQUNlO0FBQ3pCLElBQUlFO0FBQ0osSUFBSUMsZUFBZSxjQUFjSjtJQUMvQlYsWUFBWSxFQUNWRyxPQUFPLEVBQ1BZLEdBQUcsRUFDSEMsaUJBQWlCLEVBQ2pCQyxVQUFVLEVBQ1ZD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SUFDckI7SUFDQSxJQUFJLE9BQU9ULFVBQVUsVUFBVTtRQUM3QixPQUFPYSxPQUFPQyxPQUFPLENBQUNkLE9BQU9ZLEtBQUssQ0FDaEMsQ0FBQyxDQUFDRyxLQUFLQyxJQUFJLEdBQUssT0FBT0QsUUFBUSxZQUFZTixZQUFZTztJQUUzRDtJQUNBLE9BQU87QUFDVDtBQUNBLFNBQVNDLFlBQVlqQixLQUFLO0lBQ3hCLE9BQU9VLE1BQU1DLE9BQU8sQ0FBQ1gsVUFBVUEsTUFBTVksS0FBSyxDQUFDSDtBQUM3QztBQUNBLFNBQVNTLGFBQWFsQixLQUFLO0lBQ3pCLE9BQU9BLFNBQVMsUUFBUSxPQUFPQSxVQUFVLFlBQVlhLE9BQU9DLE9BQU8sQ0FBQ2QsT0FBT1ksS0FBSyxDQUM5RSxDQUFDLENBQUNHLEtBQUtDLElBQUksR0FBSyxPQUFPRCxRQUFRLFlBQVlOLFlBQVlPO0FBRTNEO0FBb0JFLENBQ0Ysa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXIvZGlzdC9pbmRleC5tanM/NWZiMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvZXJyb3JzL2FpLXNkay1lcnJvci50c1xudmFyIG1hcmtlciA9IFwidmVyY2VsLmFpLmVycm9yXCI7XG52YXIgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xudmFyIF9hO1xudmFyIF9BSVNES0Vycm9yID0gY2xhc3MgX0FJU0RLRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIEFJIFNESyBFcnJvci5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciBjcmVhdGluZyB0aGUgZXJyb3IuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbXMubmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBlcnJvci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtcy5tZXNzYWdlIC0gVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqIEBwYXJhbSB7dW5rbm93bn0gW3BhcmFtcy5jYXVzZV0gLSBUaGUgdW5kZXJseWluZyBjYXVzZSBvZiB0aGUgZXJyb3IuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgbmFtZTogbmFtZTE0LFxuICAgIG1lc3NhZ2UsXG4gICAgY2F1c2VcbiAgfSkge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXNbX2FdID0gdHJ1ZTtcbiAgICB0aGlzLm5hbWUgPSBuYW1lMTQ7XG4gICAgdGhpcy5jYXVzZSA9IGNhdXNlO1xuICB9XG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGdpdmVuIGVycm9yIGlzIGFuIEFJIFNESyBFcnJvci5cbiAgICogQHBhcmFtIHt1bmtub3dufSBlcnJvciAtIFRoZSBlcnJvciB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGVycm9yIGlzIGFuIEFJIFNESyBFcnJvciwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gX0FJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG4gIHN0YXRpYyBoYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjE1KSB7XG4gICAgY29uc3QgbWFya2VyU3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIxNSk7XG4gICAgcmV0dXJuIGVycm9yICE9IG51bGwgJiYgdHlwZW9mIGVycm9yID09PSBcIm9iamVjdFwiICYmIG1hcmtlclN5bWJvbCBpbiBlcnJvciAmJiB0eXBlb2YgZXJyb3JbbWFya2VyU3ltYm9sXSA9PT0gXCJib29sZWFuXCIgJiYgZXJyb3JbbWFya2VyU3ltYm9sXSA9PT0gdHJ1ZTtcbiAgfVxufTtcbl9hID0gc3ltYm9sO1xudmFyIEFJU0RLRXJyb3IgPSBfQUlTREtFcnJvcjtcblxuLy8gc3JjL2Vycm9ycy9hcGktY2FsbC1lcnJvci50c1xudmFyIG5hbWUgPSBcIkFJX0FQSUNhbGxFcnJvclwiO1xudmFyIG1hcmtlcjIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xudmFyIHN5bWJvbDIgPSBTeW1ib2wuZm9yKG1hcmtlcjIpO1xudmFyIF9hMjtcbnZhciBBUElDYWxsRXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSxcbiAgICB1cmwsXG4gICAgcmVxdWVzdEJvZHlWYWx1ZXMsXG4gICAgc3RhdHVzQ29kZSxcbiAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgcmVzcG9uc2VCb2R5LFxuICAgIGNhdXNlLFxuICAgIGlzUmV0cnlhYmxlID0gc3RhdHVzQ29kZSAhPSBudWxsICYmIChzdGF0dXNDb2RlID09PSA0MDggfHwgLy8gcmVxdWVzdCB0aW1lb3V0XG4gICAgc3RhdHVzQ29kZSA9PT0gNDA5IHx8IC8vIGNvbmZsaWN0XG4gICAgc3RhdHVzQ29kZSA9PT0gNDI5IHx8IC8vIHRvbyBtYW55IHJlcXVlc3RzXG4gICAgc3RhdHVzQ29kZSA+PSA1MDApLFxuICAgIC8vIHNlcnZlciBlcnJvclxuICAgIGRhdGFcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSwgY2F1c2UgfSk7XG4gICAgdGhpc1tfYTJdID0gdHJ1ZTtcbiAgICB0aGlzLnVybCA9IHVybDtcbiAgICB0aGlzLnJlcXVlc3RCb2R5VmFsdWVzID0gcmVxdWVzdEJvZHlWYWx1ZXM7XG4gICAgdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcbiAgICB0aGlzLnJlc3BvbnNlSGVhZGVycyA9IHJlc3BvbnNlSGVhZGVycztcbiAgICB0aGlzLnJlc3BvbnNlQm9keSA9IHJlc3BvbnNlQm9keTtcbiAgICB0aGlzLmlzUmV0cnlhYmxlID0gaXNSZXRyeWFibGU7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyMik7XG4gIH1cbn07XG5fYTIgPSBzeW1ib2wyO1xuXG4vLyBzcmMvZXJyb3JzL2VtcHR5LXJlc3BvbnNlLWJvZHktZXJyb3IudHNcbnZhciBuYW1lMiA9IFwiQUlfRW1wdHlSZXNwb25zZUJvZHlFcnJvclwiO1xudmFyIG1hcmtlcjMgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZTJ9YDtcbnZhciBzeW1ib2wzID0gU3ltYm9sLmZvcihtYXJrZXIzKTtcbnZhciBfYTM7XG52YXIgRW1wdHlSZXNwb25zZUJvZHlFcnJvciA9IGNsYXNzIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2UgPSBcIkVtcHR5IHJlc3BvbnNlIGJvZHlcIiB9ID0ge30pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWUyLCBtZXNzYWdlIH0pO1xuICAgIHRoaXNbX2EzXSA9IHRydWU7XG4gIH1cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjMpO1xuICB9XG59O1xuX2EzID0gc3ltYm9sMztcblxuLy8gc3JjL2Vycm9ycy9nZXQtZXJyb3ItbWVzc2FnZS50c1xuZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlKGVycm9yKSB7XG4gIGlmIChlcnJvciA9PSBudWxsKSB7XG4gICAgcmV0dXJuIFwidW5rbm93biBlcnJvclwiO1xuICB9XG4gIGlmICh0eXBlb2YgZXJyb3IgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cbiAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICByZXR1cm4gZXJyb3IubWVzc2FnZTtcbiAgfVxuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZXJyb3IpO1xufVxuXG4vLyBzcmMvZXJyb3JzL2ludmFsaWQtYXJndW1lbnQtZXJyb3IudHNcbnZhciBuYW1lMyA9IFwiQUlfSW52YWxpZEFyZ3VtZW50RXJyb3JcIjtcbnZhciBtYXJrZXI0ID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWUzfWA7XG52YXIgc3ltYm9sNCA9IFN5bWJvbC5mb3IobWFya2VyNCk7XG52YXIgX2E0O1xudmFyIEludmFsaWRBcmd1bWVudEVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIG1lc3NhZ2UsXG4gICAgY2F1c2UsXG4gICAgYXJndW1lbnRcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZTogbmFtZTMsIG1lc3NhZ2UsIGNhdXNlIH0pO1xuICAgIHRoaXNbX2E0XSA9IHRydWU7XG4gICAgdGhpcy5hcmd1bWVudCA9IGFyZ3VtZW50O1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXI0KTtcbiAgfVxufTtcbl9hNCA9IHN5bWJvbDQ7XG5cbi8vIHNyYy9lcnJvcnMvaW52YWxpZC1wcm9tcHQtZXJyb3IudHNcbnZhciBuYW1lNCA9IFwiQUlfSW52YWxpZFByb21wdEVycm9yXCI7XG52YXIgbWFya2VyNSA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lNH1gO1xudmFyIHN5bWJvbDUgPSBTeW1ib2wuZm9yKG1hcmtlcjUpO1xudmFyIF9hNTtcbnZhciBJbnZhbGlkUHJvbXB0RXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgcHJvbXB0LFxuICAgIG1lc3NhZ2UsXG4gICAgY2F1c2VcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZTogbmFtZTQsIG1lc3NhZ2U6IGBJbnZhbGlkIHByb21wdDogJHttZXNzYWdlfWAsIGNhdXNlIH0pO1xuICAgIHRoaXNbX2E1XSA9IHRydWU7XG4gICAgdGhpcy5wcm9tcHQgPSBwcm9tcHQ7XG4gIH1cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjUpO1xuICB9XG59O1xuX2E1ID0gc3ltYm9sNTtcblxuLy8gc3JjL2Vycm9ycy9pbnZhbGlkLXJlc3BvbnNlLWRhdGEtZXJyb3IudHNcbnZhciBuYW1lNSA9IFwiQUlfSW52YWxpZFJlc3BvbnNlRGF0YUVycm9yXCI7XG52YXIgbWFya2VyNiA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lNX1gO1xudmFyIHN5bWJvbDYgPSBTeW1ib2wuZm9yKG1hcmtlcjYpO1xudmFyIF9hNjtcbnZhciBJbnZhbGlkUmVzcG9uc2VEYXRhRXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgZGF0YSxcbiAgICBtZXNzYWdlID0gYEludmFsaWQgcmVzcG9uc2UgZGF0YTogJHtKU09OLnN0cmluZ2lmeShkYXRhKX0uYFxuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lOiBuYW1lNSwgbWVzc2FnZSB9KTtcbiAgICB0aGlzW19hNl0gPSB0cnVlO1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gIH1cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjYpO1xuICB9XG59O1xuX2E2ID0gc3ltYm9sNjtcblxuLy8gc3JjL2Vycm9ycy9qc29uLXBhcnNlLWVycm9yLnRzXG52YXIgbmFtZTYgPSBcIkFJX0pTT05QYXJzZUVycm9yXCI7XG52YXIgbWFya2VyNyA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lNn1gO1xudmFyIHN5bWJvbDcgPSBTeW1ib2wuZm9yKG1hcmtlcjcpO1xudmFyIF9hNztcbnZhciBKU09OUGFyc2VFcnJvciA9IGNsYXNzIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHsgdGV4dCwgY2F1c2UgfSkge1xuICAgIHN1cGVyKHtcbiAgICAgIG5hbWU6IG5hbWU2LFxuICAgICAgbWVzc2FnZTogYEpTT04gcGFyc2luZyBmYWlsZWQ6IFRleHQ6ICR7dGV4dH0uXG5FcnJvciBtZXNzYWdlOiAke2dldEVycm9yTWVzc2FnZShjYXVzZSl9YCxcbiAgICAgIGNhdXNlXG4gICAgfSk7XG4gICAgdGhpc1tfYTddID0gdHJ1ZTtcbiAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXI3KTtcbiAgfVxufTtcbl9hNyA9IHN5bWJvbDc7XG5cbi8vIHNyYy9lcnJvcnMvbG9hZC1hcGkta2V5LWVycm9yLnRzXG52YXIgbmFtZTcgPSBcIkFJX0xvYWRBUElLZXlFcnJvclwiO1xudmFyIG1hcmtlcjggPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZTd9YDtcbnZhciBzeW1ib2w4ID0gU3ltYm9sLmZvcihtYXJrZXI4KTtcbnZhciBfYTg7XG52YXIgTG9hZEFQSUtleUVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG4gIGNvbnN0cnVjdG9yKHsgbWVzc2FnZSB9KSB7XG4gICAgc3VwZXIoeyBuYW1lOiBuYW1lNywgbWVzc2FnZSB9KTtcbiAgICB0aGlzW19hOF0gPSB0cnVlO1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXI4KTtcbiAgfVxufTtcbl9hOCA9IHN5bWJvbDg7XG5cbi8vIHNyYy9lcnJvcnMvbG9hZC1zZXR0aW5nLWVycm9yLnRzXG52YXIgbmFtZTggPSBcIkFJX0xvYWRTZXR0aW5nRXJyb3JcIjtcbnZhciBtYXJrZXI5ID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWU4fWA7XG52YXIgc3ltYm9sOSA9IFN5bWJvbC5mb3IobWFya2VyOSk7XG52YXIgX2E5O1xudmFyIExvYWRTZXR0aW5nRXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICAvLyB1c2VkIGluIGlzSW5zdGFuY2VcbiAgY29uc3RydWN0b3IoeyBtZXNzYWdlIH0pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWU4LCBtZXNzYWdlIH0pO1xuICAgIHRoaXNbX2E5XSA9IHRydWU7XG4gIH1cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjkpO1xuICB9XG59O1xuX2E5ID0gc3ltYm9sOTtcblxuLy8gc3JjL2Vycm9ycy9uby1jb250ZW50LWdlbmVyYXRlZC1lcnJvci50c1xudmFyIG5hbWU5ID0gXCJBSV9Ob0NvbnRlbnRHZW5lcmF0ZWRFcnJvclwiO1xudmFyIG1hcmtlcjEwID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWU5fWA7XG52YXIgc3ltYm9sMTAgPSBTeW1ib2wuZm9yKG1hcmtlcjEwKTtcbnZhciBfYTEwO1xudmFyIE5vQ29udGVudEdlbmVyYXRlZEVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtZXNzYWdlID0gXCJObyBjb250ZW50IGdlbmVyYXRlZC5cIlxuICB9ID0ge30pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWU5LCBtZXNzYWdlIH0pO1xuICAgIHRoaXNbX2ExMF0gPSB0cnVlO1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIxMCk7XG4gIH1cbn07XG5fYTEwID0gc3ltYm9sMTA7XG5cbi8vIHNyYy9lcnJvcnMvbm8tc3VjaC1tb2RlbC1lcnJvci50c1xudmFyIG5hbWUxMCA9IFwiQUlfTm9TdWNoTW9kZWxFcnJvclwiO1xudmFyIG1hcmtlcjExID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWUxMH1gO1xudmFyIHN5bWJvbDExID0gU3ltYm9sLmZvcihtYXJrZXIxMSk7XG52YXIgX2ExMTtcbnZhciBOb1N1Y2hNb2RlbEVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIGVycm9yTmFtZSA9IG5hbWUxMCxcbiAgICBtb2RlbElkLFxuICAgIG1vZGVsVHlwZSxcbiAgICBtZXNzYWdlID0gYE5vIHN1Y2ggJHttb2RlbFR5cGV9OiAke21vZGVsSWR9YFxuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lOiBlcnJvck5hbWUsIG1lc3NhZ2UgfSk7XG4gICAgdGhpc1tfYTExXSA9IHRydWU7XG4gICAgdGhpcy5tb2RlbElkID0gbW9kZWxJZDtcbiAgICB0aGlzLm1vZGVsVHlwZSA9IG1vZGVsVHlwZTtcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyMTEpO1xuICB9XG59O1xuX2ExMSA9IHN5bWJvbDExO1xuXG4vLyBzcmMvZXJyb3JzL3Rvby1tYW55LWVtYmVkZGluZy12YWx1ZXMtZm9yLWNhbGwtZXJyb3IudHNcbnZhciBuYW1lMTEgPSBcIkFJX1Rvb01hbnlFbWJlZGRpbmdWYWx1ZXNGb3JDYWxsRXJyb3JcIjtcbnZhciBtYXJrZXIxMiA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lMTF9YDtcbnZhciBzeW1ib2wxMiA9IFN5bWJvbC5mb3IobWFya2VyMTIpO1xudmFyIF9hMTI7XG52YXIgVG9vTWFueUVtYmVkZGluZ1ZhbHVlc0ZvckNhbGxFcnJvciA9IGNsYXNzIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBzdXBlcih7XG4gICAgICBuYW1lOiBuYW1lMTEsXG4gICAgICBtZXNzYWdlOiBgVG9vIG1hbnkgdmFsdWVzIGZvciBhIHNpbmdsZSBlbWJlZGRpbmcgY2FsbC4gVGhlICR7b3B0aW9ucy5wcm92aWRlcn0gbW9kZWwgXCIke29wdGlvbnMubW9kZWxJZH1cIiBjYW4gb25seSBlbWJlZCB1cCB0byAke29wdGlvbnMubWF4RW1iZWRkaW5nc1BlckNhbGx9IHZhbHVlcyBwZXIgY2FsbCwgYnV0ICR7b3B0aW9ucy52YWx1ZXMubGVuZ3RofSB2YWx1ZXMgd2VyZSBwcm92aWRlZC5gXG4gICAgfSk7XG4gICAgdGhpc1tfYTEyXSA9IHRydWU7XG4gICAgdGhpcy5wcm92aWRlciA9IG9wdGlvbnMucHJvdmlkZXI7XG4gICAgdGhpcy5tb2RlbElkID0gb3B0aW9ucy5tb2RlbElkO1xuICAgIHRoaXMubWF4RW1iZWRkaW5nc1BlckNhbGwgPSBvcHRpb25zLm1heEVtYmVkZGluZ3NQZXJDYWxsO1xuICAgIHRoaXMudmFsdWVzID0gb3B0aW9ucy52YWx1ZXM7XG4gIH1cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjEyKTtcbiAgfVxufTtcbl9hMTIgPSBzeW1ib2wxMjtcblxuLy8gc3JjL2Vycm9ycy90eXBlLXZhbGlkYXRpb24tZXJyb3IudHNcbnZhciBuYW1lMTIgPSBcIkFJX1R5cGVWYWxpZGF0aW9uRXJyb3JcIjtcbnZhciBtYXJrZXIxMyA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lMTJ9YDtcbnZhciBzeW1ib2wxMyA9IFN5bWJvbC5mb3IobWFya2VyMTMpO1xudmFyIF9hMTM7XG52YXIgX1R5cGVWYWxpZGF0aW9uRXJyb3IgPSBjbGFzcyBfVHlwZVZhbGlkYXRpb25FcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih7IHZhbHVlLCBjYXVzZSB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgbmFtZTogbmFtZTEyLFxuICAgICAgbWVzc2FnZTogYFR5cGUgdmFsaWRhdGlvbiBmYWlsZWQ6IFZhbHVlOiAke0pTT04uc3RyaW5naWZ5KHZhbHVlKX0uXG5FcnJvciBtZXNzYWdlOiAke2dldEVycm9yTWVzc2FnZShjYXVzZSl9YCxcbiAgICAgIGNhdXNlXG4gICAgfSk7XG4gICAgdGhpc1tfYTEzXSA9IHRydWU7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIxMyk7XG4gIH1cbiAgLyoqXG4gICAqIFdyYXBzIGFuIGVycm9yIGludG8gYSBUeXBlVmFsaWRhdGlvbkVycm9yLlxuICAgKiBJZiB0aGUgY2F1c2UgaXMgYWxyZWFkeSBhIFR5cGVWYWxpZGF0aW9uRXJyb3Igd2l0aCB0aGUgc2FtZSB2YWx1ZSwgaXQgcmV0dXJucyB0aGUgY2F1c2UuXG4gICAqIE90aGVyd2lzZSwgaXQgY3JlYXRlcyBhIG5ldyBUeXBlVmFsaWRhdGlvbkVycm9yLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIHdyYXBwaW5nIHRoZSBlcnJvci5cbiAgICogQHBhcmFtIHt1bmtub3dufSBwYXJhbXMudmFsdWUgLSBUaGUgdmFsdWUgdGhhdCBmYWlsZWQgdmFsaWRhdGlvbi5cbiAgICogQHBhcmFtIHt1bmtub3dufSBwYXJhbXMuY2F1c2UgLSBUaGUgb3JpZ2luYWwgZXJyb3Igb3IgY2F1c2Ugb2YgdGhlIHZhbGlkYXRpb24gZmFpbHVyZS5cbiAgICogQHJldHVybnMge1R5cGVWYWxpZGF0aW9uRXJyb3J9IEEgVHlwZVZhbGlkYXRpb25FcnJvciBpbnN0YW5jZS5cbiAgICovXG4gIHN0YXRpYyB3cmFwKHtcbiAgICB2YWx1ZSxcbiAgICBjYXVzZVxuICB9KSB7XG4gICAgcmV0dXJuIF9UeXBlVmFsaWRhdGlvbkVycm9yLmlzSW5zdGFuY2UoY2F1c2UpICYmIGNhdXNlLnZhbHVlID09PSB2YWx1ZSA/IGNhdXNlIDogbmV3IF9UeXBlVmFsaWRhdGlvbkVycm9yKHsgdmFsdWUsIGNhdXNlIH0pO1xuICB9XG59O1xuX2ExMyA9IHN5bWJvbDEzO1xudmFyIFR5cGVWYWxpZGF0aW9uRXJyb3IgPSBfVHlwZVZhbGlkYXRpb25FcnJvcjtcblxuLy8gc3JjL2Vycm9ycy91bnN1cHBvcnRlZC1mdW5jdGlvbmFsaXR5LWVycm9yLnRzXG52YXIgbmFtZTEzID0gXCJBSV9VbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvclwiO1xudmFyIG1hcmtlcjE0ID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWUxM31gO1xudmFyIHN5bWJvbDE0ID0gU3ltYm9sLmZvcihtYXJrZXIxNCk7XG52YXIgX2ExNDtcbnZhciBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvciA9IGNsYXNzIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBmdW5jdGlvbmFsaXR5LFxuICAgIG1lc3NhZ2UgPSBgJyR7ZnVuY3Rpb25hbGl0eX0nIGZ1bmN0aW9uYWxpdHkgbm90IHN1cHBvcnRlZC5gXG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWUxMywgbWVzc2FnZSB9KTtcbiAgICB0aGlzW19hMTRdID0gdHJ1ZTtcbiAgICB0aGlzLmZ1bmN0aW9uYWxpdHkgPSBmdW5jdGlvbmFsaXR5O1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIxNCk7XG4gIH1cbn07XG5fYTE0ID0gc3ltYm9sMTQ7XG5cbi8vIHNyYy9qc29uLXZhbHVlL2lzLWpzb24udHNcbmZ1bmN0aW9uIGlzSlNPTlZhbHVlKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWUuZXZlcnkoaXNKU09OVmFsdWUpO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXModmFsdWUpLmV2ZXJ5KFxuICAgICAgKFtrZXksIHZhbF0pID0+IHR5cGVvZiBrZXkgPT09IFwic3RyaW5nXCIgJiYgaXNKU09OVmFsdWUodmFsKVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaXNKU09OQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmV2ZXJ5KGlzSlNPTlZhbHVlKTtcbn1cbmZ1bmN0aW9uIGlzSlNPTk9iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgT2JqZWN0LmVudHJpZXModmFsdWUpLmV2ZXJ5KFxuICAgIChba2V5LCB2YWxdKSA9PiB0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiICYmIGlzSlNPTlZhbHVlKHZhbClcbiAgKTtcbn1cbmV4cG9ydCB7XG4gIEFJU0RLRXJyb3IsXG4gIEFQSUNhbGxFcnJvcixcbiAgRW1wdHlSZXNwb25zZUJvZHlFcnJvcixcbiAgSW52YWxpZEFyZ3VtZW50RXJyb3IsXG4gIEludmFsaWRQcm9tcHRFcnJvcixcbiAgSW52YWxpZFJlc3BvbnNlRGF0YUVycm9yLFxuICBKU09OUGFyc2VFcnJvcixcbiAgTG9hZEFQSUtleUVycm9yLFxuICBMb2FkU2V0dGluZ0Vycm9yLFxuICBOb0NvbnRlbnRHZW5lcmF0ZWRFcnJvcixcbiAgTm9TdWNoTW9kZWxFcnJvcixcbiAgVG9vTWFueUVtYmVkZGluZ1ZhbHVlc0ZvckNhbGxFcnJvcixcbiAgVHlwZVZhbGlkYXRpb25FcnJvcixcbiAgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3IsXG4gIGdldEVycm9yTWVzc2FnZSxcbiAgaXNKU09OQXJyYXksXG4gIGlzSlNPTk9iamVjdCxcbiAgaXNKU09OVmFsdWVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbIm1hcmtlciIsInN5bWJvbCIsIlN5bWJvbCIsImZvciIsIl9hIiwiX0FJU0RLRXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwibmFtZSIsIm5hbWUxNCIsIm1lc3NhZ2UiLCJjYXVzZSIsImlzSW5zdGFuY2UiLCJlcnJvciIsImhhc01hcmtlciIsIm1hcmtlcjE1IiwibWFya2VyU3ltYm9sIiwiQUlTREtFcnJvciIsIm1hcmtlcjIiLCJzeW1ib2wyIiwiX2EyIiwiQVBJQ2FsbEVycm9yIiwidXJsIiwicmVxdWVzdEJvZHlWYWx1ZXMiLCJzdGF0dXNDb2RlIiwicmVzcG9uc2VIZWFkZXJzIiwicmVzcG9uc2VCb2R5IiwiaXNSZXRyeWFibGUiLCJkYXRhIiwibmFtZTIiLCJtYXJrZXIzIiwic3ltYm9sMyIsIl9hMyIsIkVtcHR5UmVzcG9uc2VCb2R5RXJyb3IiLCJnZXRFcnJvck1lc3NhZ2UiLCJKU09OIiwic3RyaW5naWZ5IiwibmFtZTMiLCJtYXJrZXI0Iiwic3ltYm9sNCIsIl9hNCIsIkludmFsaWRBcmd1bWVudEVycm9yIiwiYXJndW1lbnQiLCJuYW1lNCIsIm1hcmtlcjUiLCJzeW1ib2w1IiwiX2E1IiwiSW52YWxpZFByb21wdEVycm9yIiwicHJvbXB0IiwibmFtZTUiLCJtYXJrZXI2Iiwic3ltYm9sNiIsIl9hNiIsIkludmFsaWRSZXNwb25zZURhdGFFcnJvciIsIm5hbWU2IiwibWFya2VyNyIsInN5bWJvbDciLCJfYTciLCJKU09OUGFyc2VFcnJvciIsInRleHQiLCJuYW1lNyIsIm1hcmtlcjgiLCJzeW1ib2w4IiwiX2E4IiwiTG9hZEFQSUtleUVycm9yIiwibmFtZTgiLCJtYXJrZXI5Iiwic3ltYm9sOSIsIl9hOSIsIkxvYWRTZXR0aW5nRXJyb3IiLCJuYW1lOSIsIm1hcmtlcjEwIiwic3ltYm9sMTAiLCJfYTEwIiwiTm9Db250ZW50R2VuZXJhdGVkRXJyb3IiLCJuYW1lMTAiLCJtYXJrZXIxMSIsInN5bWJvbDExIiwiX2ExMSIsIk5vU3VjaE1vZGVsRXJyb3IiLCJlcnJvck5hbWUiLCJtb2RlbElkIiwibW9kZWxUeXBlIiwibmFtZTExIiwibWFya2VyMTIiLCJzeW1ib2wxMiIsIl9hMTIiLCJUb29NYW55RW1iZWRkaW5nVmFsdWVzRm9yQ2FsbEVycm9yIiwib3B0aW9ucyIsInByb3ZpZGVyIiwibWF4RW1iZWRkaW5nc1BlckNhbGwiLCJ2YWx1ZXMiLCJsZW5ndGgiLCJuYW1lMTIiLCJtYXJrZXIxMyIsInN5bWJvbDEzIiwiX2ExMyIsIl9UeXBlVmFsaWRhdGlvbkVycm9yIiwidmFsdWUiLCJ3cmFwIiwiVHlwZVZhbGlkYXRpb25FcnJvciIsIm5hbWUxMyIsIm1hcmtlcjE0Iiwic3ltYm9sMTQiLCJfYTE0IiwiVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3IiLCJmdW5jdGlvbmFsaXR5IiwiaXNKU09OVmFsdWUiLCJBcnJheSIsImlzQXJyYXkiLCJldmVyeSIsIk9iamVjdCIsImVudHJpZXMiLCJrZXkiLCJ2YWwiLCJpc0pTT05BcnJheSIsImlzSlNPTk9iamVjdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@ai-sdk/provider/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@ai-sdk/ui-utils/dist/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@ai-sdk/ui-utils/dist/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   asSchema: () => (/* binding */ asSchema),\n/* harmony export */   callChatApi: () => (/* binding */ callChatApi),\n/* harmony export */   callCompletionApi: () => (/* binding */ callCompletionApi),\n/* harmony export */   extractMaxToolInvocationStep: () => (/* binding */ extractMaxToolInvocationStep),\n/* harmony export */   fillMessageParts: () => (/* binding */ fillMessageParts),\n/* harmony export */   formatAssistantStreamPart: () => (/* binding */ formatAssistantStreamPart),\n/* harmony export */   formatDataStreamPart: () => (/* binding */ formatDataStreamPart),\n/* harmony export */   generateId: () => (/* reexport safe */ _ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.generateId),\n/* harmony export */   getMessageParts: () => (/* binding */ getMessageParts),\n/* harmony export */   getTextFromDataUrl: () => (/* binding */ getTextFromDataUrl),\n/* harmony export */   isAssistantMessageWithCompletedToolCalls: () => (/* binding */ isAssistantMessageWithCompletedToolCalls),\n/* harmony export */   isDeepEqualData: () => (/* binding */ isDeepEqualData),\n/* harmony export */   jsonSchema: () => (/* binding */ jsonSchema),\n/* harmony export */   parseAssistantStreamPart: () => (/* binding */ parseAssistantStreamPart),\n/* harmony export */   parseDataStreamPart: () => (/* binding */ parseDataStreamPart),\n/* harmony export */   parsePartialJson: () => (/* binding */ parsePartialJson),\n/* harmony export */   prepareAttachmentsForRequest: () => (/* binding */ prepareAttachmentsForRequest),\n/* harmony export */   processAssistantStream: () => (/* binding */ processAssistantStream),\n/* harmony export */   processDataStream: () => (/* binding */ processDataStream),\n/* harmony export */   processTextStream: () => (/* binding */ processTextStream),\n/* harmony export */   shouldResubmitMessages: () => (/* binding */ shouldResubmitMessages),\n/* harmony export */   updateToolCallResult: () => (/* binding */ updateToolCallResult),\n/* harmony export */   zodSchema: () => (/* binding */ zodSchema)\n/* harmony export */ });\n/* harmony import */ var _ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ai-sdk/provider-utils */ \"(ssr)/./node_modules/@ai-sdk/provider-utils/dist/index.mjs\");\n/* harmony import */ var zod_to_json_schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zod-to-json-schema */ \"(ssr)/./node_modules/zod-to-json-schema/dist/esm/index.js\");\n// src/index.ts\n\n// src/assistant-stream-parts.ts\nvar textStreamPart = {\n    code: \"0\",\n    name: \"text\",\n    parse: (value)=>{\n        if (typeof value !== \"string\") {\n            throw new Error('\"text\" parts expect a string value.');\n        }\n        return {\n            type: \"text\",\n            value\n        };\n    }\n};\nvar errorStreamPart = {\n    code: \"3\",\n    name: \"error\",\n    parse: (value)=>{\n        if (typeof value !== \"string\") {\n            throw new Error('\"error\" parts expect a string value.');\n        }\n        return {\n            type: \"error\",\n            value\n        };\n    }\n};\nvar assistantMessageStreamPart = {\n    code: \"4\",\n    name: \"assistant_message\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"id\" in value) || !(\"role\" in value) || !(\"content\" in value) || typeof value.id !== \"string\" || typeof value.role !== \"string\" || value.role !== \"assistant\" || !Array.isArray(value.content) || !value.content.every((item)=>item != null && typeof item === \"object\" && \"type\" in item && item.type === \"text\" && \"text\" in item && item.text != null && typeof item.text === \"object\" && \"value\" in item.text && typeof item.text.value === \"string\")) {\n            throw new Error('\"assistant_message\" parts expect an object with an \"id\", \"role\", and \"content\" property.');\n        }\n        return {\n            type: \"assistant_message\",\n            value\n        };\n    }\n};\nvar assistantControlDataStreamPart = {\n    code: \"5\",\n    name: \"assistant_control_data\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"threadId\" in value) || !(\"messageId\" in value) || typeof value.threadId !== \"string\" || typeof value.messageId !== \"string\") {\n            throw new Error('\"assistant_control_data\" parts expect an object with a \"threadId\" and \"messageId\" property.');\n        }\n        return {\n            type: \"assistant_control_data\",\n            value: {\n                threadId: value.threadId,\n                messageId: value.messageId\n            }\n        };\n    }\n};\nvar dataMessageStreamPart = {\n    code: \"6\",\n    name: \"data_message\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"role\" in value) || !(\"data\" in value) || typeof value.role !== \"string\" || value.role !== \"data\") {\n            throw new Error('\"data_message\" parts expect an object with a \"role\" and \"data\" property.');\n        }\n        return {\n            type: \"data_message\",\n            value\n        };\n    }\n};\nvar assistantStreamParts = [\n    textStreamPart,\n    errorStreamPart,\n    assistantMessageStreamPart,\n    assistantControlDataStreamPart,\n    dataMessageStreamPart\n];\nvar assistantStreamPartsByCode = {\n    [textStreamPart.code]: textStreamPart,\n    [errorStreamPart.code]: errorStreamPart,\n    [assistantMessageStreamPart.code]: assistantMessageStreamPart,\n    [assistantControlDataStreamPart.code]: assistantControlDataStreamPart,\n    [dataMessageStreamPart.code]: dataMessageStreamPart\n};\nvar StreamStringPrefixes = {\n    [textStreamPart.name]: textStreamPart.code,\n    [errorStreamPart.name]: errorStreamPart.code,\n    [assistantMessageStreamPart.name]: assistantMessageStreamPart.code,\n    [assistantControlDataStreamPart.name]: assistantControlDataStreamPart.code,\n    [dataMessageStreamPart.name]: dataMessageStreamPart.code\n};\nvar validCodes = assistantStreamParts.map((part)=>part.code);\nvar parseAssistantStreamPart = (line)=>{\n    const firstSeparatorIndex = line.indexOf(\":\");\n    if (firstSeparatorIndex === -1) {\n        throw new Error(\"Failed to parse stream string. No separator found.\");\n    }\n    const prefix = line.slice(0, firstSeparatorIndex);\n    if (!validCodes.includes(prefix)) {\n        throw new Error(`Failed to parse stream string. Invalid code ${prefix}.`);\n    }\n    const code = prefix;\n    const textValue = line.slice(firstSeparatorIndex + 1);\n    const jsonValue = JSON.parse(textValue);\n    return assistantStreamPartsByCode[code].parse(jsonValue);\n};\nfunction formatAssistantStreamPart(type, value) {\n    const streamPart = assistantStreamParts.find((part)=>part.name === type);\n    if (!streamPart) {\n        throw new Error(`Invalid stream part type: ${type}`);\n    }\n    return `${streamPart.code}:${JSON.stringify(value)}\n`;\n}\n// src/process-chat-response.ts\n\n// src/duplicated/usage.ts\nfunction calculateLanguageModelUsage({ promptTokens, completionTokens }) {\n    return {\n        promptTokens,\n        completionTokens,\n        totalTokens: promptTokens + completionTokens\n    };\n}\n// src/parse-partial-json.ts\n\n// src/fix-json.ts\nfunction fixJson(input) {\n    const stack = [\n        \"ROOT\"\n    ];\n    let lastValidIndex = -1;\n    let literalStart = null;\n    function processValueStart(char, i, swapState) {\n        {\n            switch(char){\n                case '\"':\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_STRING\");\n                        break;\n                    }\n                case \"f\":\n                case \"t\":\n                case \"n\":\n                    {\n                        lastValidIndex = i;\n                        literalStart = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_LITERAL\");\n                        break;\n                    }\n                case \"-\":\n                    {\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_NUMBER\");\n                        break;\n                    }\n                case \"0\":\n                case \"1\":\n                case \"2\":\n                case \"3\":\n                case \"4\":\n                case \"5\":\n                case \"6\":\n                case \"7\":\n                case \"8\":\n                case \"9\":\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_NUMBER\");\n                        break;\n                    }\n                case \"{\":\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_OBJECT_START\");\n                        break;\n                    }\n                case \"[\":\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_ARRAY_START\");\n                        break;\n                    }\n            }\n        }\n    }\n    function processAfterObjectValue(char, i) {\n        switch(char){\n            case \",\":\n                {\n                    stack.pop();\n                    stack.push(\"INSIDE_OBJECT_AFTER_COMMA\");\n                    break;\n                }\n            case \"}\":\n                {\n                    lastValidIndex = i;\n                    stack.pop();\n                    break;\n                }\n        }\n    }\n    function processAfterArrayValue(char, i) {\n        switch(char){\n            case \",\":\n                {\n                    stack.pop();\n                    stack.push(\"INSIDE_ARRAY_AFTER_COMMA\");\n                    break;\n                }\n            case \"]\":\n                {\n                    lastValidIndex = i;\n                    stack.pop();\n                    break;\n                }\n        }\n    }\n    for(let i = 0; i < input.length; i++){\n        const char = input[i];\n        const currentState = stack[stack.length - 1];\n        switch(currentState){\n            case \"ROOT\":\n                processValueStart(char, i, \"FINISH\");\n                break;\n            case \"INSIDE_OBJECT_START\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_KEY\");\n                                break;\n                            }\n                        case \"}\":\n                            {\n                                lastValidIndex = i;\n                                stack.pop();\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_AFTER_COMMA\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_KEY\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_KEY\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_AFTER_KEY\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_AFTER_KEY\":\n                {\n                    switch(char){\n                        case \":\":\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_BEFORE_VALUE\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_BEFORE_VALUE\":\n                {\n                    processValueStart(char, i, \"INSIDE_OBJECT_AFTER_VALUE\");\n                    break;\n                }\n            case \"INSIDE_OBJECT_AFTER_VALUE\":\n                {\n                    processAfterObjectValue(char, i);\n                    break;\n                }\n            case \"INSIDE_STRING\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                lastValidIndex = i;\n                                break;\n                            }\n                        case \"\\\\\":\n                            {\n                                stack.push(\"INSIDE_STRING_ESCAPE\");\n                                break;\n                            }\n                        default:\n                            {\n                                lastValidIndex = i;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_ARRAY_START\":\n                {\n                    switch(char){\n                        case \"]\":\n                            {\n                                lastValidIndex = i;\n                                stack.pop();\n                                break;\n                            }\n                        default:\n                            {\n                                lastValidIndex = i;\n                                processValueStart(char, i, \"INSIDE_ARRAY_AFTER_VALUE\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_ARRAY_AFTER_VALUE\":\n                {\n                    switch(char){\n                        case \",\":\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_ARRAY_AFTER_COMMA\");\n                                break;\n                            }\n                        case \"]\":\n                            {\n                                lastValidIndex = i;\n                                stack.pop();\n                                break;\n                            }\n                        default:\n                            {\n                                lastValidIndex = i;\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_ARRAY_AFTER_COMMA\":\n                {\n                    processValueStart(char, i, \"INSIDE_ARRAY_AFTER_VALUE\");\n                    break;\n                }\n            case \"INSIDE_STRING_ESCAPE\":\n                {\n                    stack.pop();\n                    lastValidIndex = i;\n                    break;\n                }\n            case \"INSIDE_NUMBER\":\n                {\n                    switch(char){\n                        case \"0\":\n                        case \"1\":\n                        case \"2\":\n                        case \"3\":\n                        case \"4\":\n                        case \"5\":\n                        case \"6\":\n                        case \"7\":\n                        case \"8\":\n                        case \"9\":\n                            {\n                                lastValidIndex = i;\n                                break;\n                            }\n                        case \"e\":\n                        case \"E\":\n                        case \"-\":\n                        case \".\":\n                            {\n                                break;\n                            }\n                        case \",\":\n                            {\n                                stack.pop();\n                                if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n                                    processAfterArrayValue(char, i);\n                                }\n                                if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n                                    processAfterObjectValue(char, i);\n                                }\n                                break;\n                            }\n                        case \"}\":\n                            {\n                                stack.pop();\n                                if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n                                    processAfterObjectValue(char, i);\n                                }\n                                break;\n                            }\n                        case \"]\":\n                            {\n                                stack.pop();\n                                if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n                                    processAfterArrayValue(char, i);\n                                }\n                                break;\n                            }\n                        default:\n                            {\n                                stack.pop();\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_LITERAL\":\n                {\n                    const partialLiteral = input.substring(literalStart, i + 1);\n                    if (!\"false\".startsWith(partialLiteral) && !\"true\".startsWith(partialLiteral) && !\"null\".startsWith(partialLiteral)) {\n                        stack.pop();\n                        if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n                            processAfterObjectValue(char, i);\n                        } else if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n                            processAfterArrayValue(char, i);\n                        }\n                    } else {\n                        lastValidIndex = i;\n                    }\n                    break;\n                }\n        }\n    }\n    let result = input.slice(0, lastValidIndex + 1);\n    for(let i = stack.length - 1; i >= 0; i--){\n        const state = stack[i];\n        switch(state){\n            case \"INSIDE_STRING\":\n                {\n                    result += '\"';\n                    break;\n                }\n            case \"INSIDE_OBJECT_KEY\":\n            case \"INSIDE_OBJECT_AFTER_KEY\":\n            case \"INSIDE_OBJECT_AFTER_COMMA\":\n            case \"INSIDE_OBJECT_START\":\n            case \"INSIDE_OBJECT_BEFORE_VALUE\":\n            case \"INSIDE_OBJECT_AFTER_VALUE\":\n                {\n                    result += \"}\";\n                    break;\n                }\n            case \"INSIDE_ARRAY_START\":\n            case \"INSIDE_ARRAY_AFTER_COMMA\":\n            case \"INSIDE_ARRAY_AFTER_VALUE\":\n                {\n                    result += \"]\";\n                    break;\n                }\n            case \"INSIDE_LITERAL\":\n                {\n                    const partialLiteral = input.substring(literalStart, input.length);\n                    if (\"true\".startsWith(partialLiteral)) {\n                        result += \"true\".slice(partialLiteral.length);\n                    } else if (\"false\".startsWith(partialLiteral)) {\n                        result += \"false\".slice(partialLiteral.length);\n                    } else if (\"null\".startsWith(partialLiteral)) {\n                        result += \"null\".slice(partialLiteral.length);\n                    }\n                }\n        }\n    }\n    return result;\n}\n// src/parse-partial-json.ts\nfunction parsePartialJson(jsonText) {\n    if (jsonText === void 0) {\n        return {\n            value: void 0,\n            state: \"undefined-input\"\n        };\n    }\n    let result = (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.safeParseJSON)({\n        text: jsonText\n    });\n    if (result.success) {\n        return {\n            value: result.value,\n            state: \"successful-parse\"\n        };\n    }\n    result = (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.safeParseJSON)({\n        text: fixJson(jsonText)\n    });\n    if (result.success) {\n        return {\n            value: result.value,\n            state: \"repaired-parse\"\n        };\n    }\n    return {\n        value: void 0,\n        state: \"failed-parse\"\n    };\n}\n// src/data-stream-parts.ts\nvar textStreamPart2 = {\n    code: \"0\",\n    name: \"text\",\n    parse: (value)=>{\n        if (typeof value !== \"string\") {\n            throw new Error('\"text\" parts expect a string value.');\n        }\n        return {\n            type: \"text\",\n            value\n        };\n    }\n};\nvar dataStreamPart = {\n    code: \"2\",\n    name: \"data\",\n    parse: (value)=>{\n        if (!Array.isArray(value)) {\n            throw new Error('\"data\" parts expect an array value.');\n        }\n        return {\n            type: \"data\",\n            value\n        };\n    }\n};\nvar errorStreamPart2 = {\n    code: \"3\",\n    name: \"error\",\n    parse: (value)=>{\n        if (typeof value !== \"string\") {\n            throw new Error('\"error\" parts expect a string value.');\n        }\n        return {\n            type: \"error\",\n            value\n        };\n    }\n};\nvar messageAnnotationsStreamPart = {\n    code: \"8\",\n    name: \"message_annotations\",\n    parse: (value)=>{\n        if (!Array.isArray(value)) {\n            throw new Error('\"message_annotations\" parts expect an array value.');\n        }\n        return {\n            type: \"message_annotations\",\n            value\n        };\n    }\n};\nvar toolCallStreamPart = {\n    code: \"9\",\n    name: \"tool_call\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"toolCallId\" in value) || typeof value.toolCallId !== \"string\" || !(\"toolName\" in value) || typeof value.toolName !== \"string\" || !(\"args\" in value) || typeof value.args !== \"object\") {\n            throw new Error('\"tool_call\" parts expect an object with a \"toolCallId\", \"toolName\", and \"args\" property.');\n        }\n        return {\n            type: \"tool_call\",\n            value\n        };\n    }\n};\nvar toolResultStreamPart = {\n    code: \"a\",\n    name: \"tool_result\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"toolCallId\" in value) || typeof value.toolCallId !== \"string\" || !(\"result\" in value)) {\n            throw new Error('\"tool_result\" parts expect an object with a \"toolCallId\" and a \"result\" property.');\n        }\n        return {\n            type: \"tool_result\",\n            value\n        };\n    }\n};\nvar toolCallStreamingStartStreamPart = {\n    code: \"b\",\n    name: \"tool_call_streaming_start\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"toolCallId\" in value) || typeof value.toolCallId !== \"string\" || !(\"toolName\" in value) || typeof value.toolName !== \"string\") {\n            throw new Error('\"tool_call_streaming_start\" parts expect an object with a \"toolCallId\" and \"toolName\" property.');\n        }\n        return {\n            type: \"tool_call_streaming_start\",\n            value\n        };\n    }\n};\nvar toolCallDeltaStreamPart = {\n    code: \"c\",\n    name: \"tool_call_delta\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"toolCallId\" in value) || typeof value.toolCallId !== \"string\" || !(\"argsTextDelta\" in value) || typeof value.argsTextDelta !== \"string\") {\n            throw new Error('\"tool_call_delta\" parts expect an object with a \"toolCallId\" and \"argsTextDelta\" property.');\n        }\n        return {\n            type: \"tool_call_delta\",\n            value\n        };\n    }\n};\nvar finishMessageStreamPart = {\n    code: \"d\",\n    name: \"finish_message\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"finishReason\" in value) || typeof value.finishReason !== \"string\") {\n            throw new Error('\"finish_message\" parts expect an object with a \"finishReason\" property.');\n        }\n        const result = {\n            finishReason: value.finishReason\n        };\n        if (\"usage\" in value && value.usage != null && typeof value.usage === \"object\" && \"promptTokens\" in value.usage && \"completionTokens\" in value.usage) {\n            result.usage = {\n                promptTokens: typeof value.usage.promptTokens === \"number\" ? value.usage.promptTokens : Number.NaN,\n                completionTokens: typeof value.usage.completionTokens === \"number\" ? value.usage.completionTokens : Number.NaN\n            };\n        }\n        return {\n            type: \"finish_message\",\n            value: result\n        };\n    }\n};\nvar finishStepStreamPart = {\n    code: \"e\",\n    name: \"finish_step\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"finishReason\" in value) || typeof value.finishReason !== \"string\") {\n            throw new Error('\"finish_step\" parts expect an object with a \"finishReason\" property.');\n        }\n        const result = {\n            finishReason: value.finishReason,\n            isContinued: false\n        };\n        if (\"usage\" in value && value.usage != null && typeof value.usage === \"object\" && \"promptTokens\" in value.usage && \"completionTokens\" in value.usage) {\n            result.usage = {\n                promptTokens: typeof value.usage.promptTokens === \"number\" ? value.usage.promptTokens : Number.NaN,\n                completionTokens: typeof value.usage.completionTokens === \"number\" ? value.usage.completionTokens : Number.NaN\n            };\n        }\n        if (\"isContinued\" in value && typeof value.isContinued === \"boolean\") {\n            result.isContinued = value.isContinued;\n        }\n        return {\n            type: \"finish_step\",\n            value: result\n        };\n    }\n};\nvar startStepStreamPart = {\n    code: \"f\",\n    name: \"start_step\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"messageId\" in value) || typeof value.messageId !== \"string\") {\n            throw new Error('\"start_step\" parts expect an object with an \"id\" property.');\n        }\n        return {\n            type: \"start_step\",\n            value: {\n                messageId: value.messageId\n            }\n        };\n    }\n};\nvar reasoningStreamPart = {\n    code: \"g\",\n    name: \"reasoning\",\n    parse: (value)=>{\n        if (typeof value !== \"string\") {\n            throw new Error('\"reasoning\" parts expect a string value.');\n        }\n        return {\n            type: \"reasoning\",\n            value\n        };\n    }\n};\nvar sourcePart = {\n    code: \"h\",\n    name: \"source\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\") {\n            throw new Error('\"source\" parts expect a Source object.');\n        }\n        return {\n            type: \"source\",\n            value\n        };\n    }\n};\nvar redactedReasoningStreamPart = {\n    code: \"i\",\n    name: \"redacted_reasoning\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"data\" in value) || typeof value.data !== \"string\") {\n            throw new Error('\"redacted_reasoning\" parts expect an object with a \"data\" property.');\n        }\n        return {\n            type: \"redacted_reasoning\",\n            value: {\n                data: value.data\n            }\n        };\n    }\n};\nvar reasoningSignatureStreamPart = {\n    code: \"j\",\n    name: \"reasoning_signature\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"signature\" in value) || typeof value.signature !== \"string\") {\n            throw new Error('\"reasoning_signature\" parts expect an object with a \"signature\" property.');\n        }\n        return {\n            type: \"reasoning_signature\",\n            value: {\n                signature: value.signature\n            }\n        };\n    }\n};\nvar fileStreamPart = {\n    code: \"k\",\n    name: \"file\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"data\" in value) || typeof value.data !== \"string\" || !(\"mimeType\" in value) || typeof value.mimeType !== \"string\") {\n            throw new Error('\"file\" parts expect an object with a \"data\" and \"mimeType\" property.');\n        }\n        return {\n            type: \"file\",\n            value\n        };\n    }\n};\nvar dataStreamParts = [\n    textStreamPart2,\n    dataStreamPart,\n    errorStreamPart2,\n    messageAnnotationsStreamPart,\n    toolCallStreamPart,\n    toolResultStreamPart,\n    toolCallStreamingStartStreamPart,\n    toolCallDeltaStreamPart,\n    finishMessageStreamPart,\n    finishStepStreamPart,\n    startStepStreamPart,\n    reasoningStreamPart,\n    sourcePart,\n    redactedReasoningStreamPart,\n    reasoningSignatureStreamPart,\n    fileStreamPart\n];\nvar dataStreamPartsByCode = Object.fromEntries(dataStreamParts.map((part)=>[\n        part.code,\n        part\n    ]));\nvar DataStreamStringPrefixes = Object.fromEntries(dataStreamParts.map((part)=>[\n        part.name,\n        part.code\n    ]));\nvar validCodes2 = dataStreamParts.map((part)=>part.code);\nvar parseDataStreamPart = (line)=>{\n    const firstSeparatorIndex = line.indexOf(\":\");\n    if (firstSeparatorIndex === -1) {\n        throw new Error(\"Failed to parse stream string. No separator found.\");\n    }\n    const prefix = line.slice(0, firstSeparatorIndex);\n    if (!validCodes2.includes(prefix)) {\n        throw new Error(`Failed to parse stream string. Invalid code ${prefix}.`);\n    }\n    const code = prefix;\n    const textValue = line.slice(firstSeparatorIndex + 1);\n    const jsonValue = JSON.parse(textValue);\n    return dataStreamPartsByCode[code].parse(jsonValue);\n};\nfunction formatDataStreamPart(type, value) {\n    const streamPart = dataStreamParts.find((part)=>part.name === type);\n    if (!streamPart) {\n        throw new Error(`Invalid stream part type: ${type}`);\n    }\n    return `${streamPart.code}:${JSON.stringify(value)}\n`;\n}\n// src/process-data-stream.ts\nvar NEWLINE = \"\\n\".charCodeAt(0);\nfunction concatChunks(chunks, totalLength) {\n    const concatenatedChunks = new Uint8Array(totalLength);\n    let offset = 0;\n    for (const chunk of chunks){\n        concatenatedChunks.set(chunk, offset);\n        offset += chunk.length;\n    }\n    chunks.length = 0;\n    return concatenatedChunks;\n}\nasync function processDataStream({ stream, onTextPart, onReasoningPart, onReasoningSignaturePart, onRedactedReasoningPart, onSourcePart, onFilePart, onDataPart, onErrorPart, onToolCallStreamingStartPart, onToolCallDeltaPart, onToolCallPart, onToolResultPart, onMessageAnnotationsPart, onFinishMessagePart, onFinishStepPart, onStartStepPart }) {\n    const reader = stream.getReader();\n    const decoder = new TextDecoder();\n    const chunks = [];\n    let totalLength = 0;\n    while(true){\n        const { value } = await reader.read();\n        if (value) {\n            chunks.push(value);\n            totalLength += value.length;\n            if (value[value.length - 1] !== NEWLINE) {\n                continue;\n            }\n        }\n        if (chunks.length === 0) {\n            break;\n        }\n        const concatenatedChunks = concatChunks(chunks, totalLength);\n        totalLength = 0;\n        const streamParts = decoder.decode(concatenatedChunks, {\n            stream: true\n        }).split(\"\\n\").filter((line)=>line !== \"\").map(parseDataStreamPart);\n        for (const { type, value: value2 } of streamParts){\n            switch(type){\n                case \"text\":\n                    await (onTextPart == null ? void 0 : onTextPart(value2));\n                    break;\n                case \"reasoning\":\n                    await (onReasoningPart == null ? void 0 : onReasoningPart(value2));\n                    break;\n                case \"reasoning_signature\":\n                    await (onReasoningSignaturePart == null ? void 0 : onReasoningSignaturePart(value2));\n                    break;\n                case \"redacted_reasoning\":\n                    await (onRedactedReasoningPart == null ? void 0 : onRedactedReasoningPart(value2));\n                    break;\n                case \"file\":\n                    await (onFilePart == null ? void 0 : onFilePart(value2));\n                    break;\n                case \"source\":\n                    await (onSourcePart == null ? void 0 : onSourcePart(value2));\n                    break;\n                case \"data\":\n                    await (onDataPart == null ? void 0 : onDataPart(value2));\n                    break;\n                case \"error\":\n                    await (onErrorPart == null ? void 0 : onErrorPart(value2));\n                    break;\n                case \"message_annotations\":\n                    await (onMessageAnnotationsPart == null ? void 0 : onMessageAnnotationsPart(value2));\n                    break;\n                case \"tool_call_streaming_start\":\n                    await (onToolCallStreamingStartPart == null ? void 0 : onToolCallStreamingStartPart(value2));\n                    break;\n                case \"tool_call_delta\":\n                    await (onToolCallDeltaPart == null ? void 0 : onToolCallDeltaPart(value2));\n                    break;\n                case \"tool_call\":\n                    await (onToolCallPart == null ? void 0 : onToolCallPart(value2));\n                    break;\n                case \"tool_result\":\n                    await (onToolResultPart == null ? void 0 : onToolResultPart(value2));\n                    break;\n                case \"finish_message\":\n                    await (onFinishMessagePart == null ? void 0 : onFinishMessagePart(value2));\n                    break;\n                case \"finish_step\":\n                    await (onFinishStepPart == null ? void 0 : onFinishStepPart(value2));\n                    break;\n                case \"start_step\":\n                    await (onStartStepPart == null ? void 0 : onStartStepPart(value2));\n                    break;\n                default:\n                    {\n                        const exhaustiveCheck = type;\n                        throw new Error(`Unknown stream part type: ${exhaustiveCheck}`);\n                    }\n            }\n        }\n    }\n}\n// src/process-chat-response.ts\nasync function processChatResponse({ stream, update, onToolCall, onFinish, generateId: generateId2 = _ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.generateId, getCurrentDate = ()=>/* @__PURE__ */ new Date(), lastMessage }) {\n    var _a, _b;\n    const replaceLastMessage = (lastMessage == null ? void 0 : lastMessage.role) === \"assistant\";\n    let step = replaceLastMessage ? 1 + // find max step in existing tool invocations:\n    ((_b = (_a = lastMessage.toolInvocations) == null ? void 0 : _a.reduce((max, toolInvocation)=>{\n        var _a2;\n        return Math.max(max, (_a2 = toolInvocation.step) != null ? _a2 : 0);\n    }, 0)) != null ? _b : 0) : 0;\n    const message = replaceLastMessage ? structuredClone(lastMessage) : {\n        id: generateId2(),\n        createdAt: getCurrentDate(),\n        role: \"assistant\",\n        content: \"\",\n        parts: []\n    };\n    let currentTextPart = void 0;\n    let currentReasoningPart = void 0;\n    let currentReasoningTextDetail = void 0;\n    function updateToolInvocationPart(toolCallId, invocation) {\n        const part = message.parts.find((part2)=>part2.type === \"tool-invocation\" && part2.toolInvocation.toolCallId === toolCallId);\n        if (part != null) {\n            part.toolInvocation = invocation;\n        } else {\n            message.parts.push({\n                type: \"tool-invocation\",\n                toolInvocation: invocation\n            });\n        }\n    }\n    const data = [];\n    let messageAnnotations = replaceLastMessage ? lastMessage == null ? void 0 : lastMessage.annotations : void 0;\n    const partialToolCalls = {};\n    let usage = {\n        completionTokens: NaN,\n        promptTokens: NaN,\n        totalTokens: NaN\n    };\n    let finishReason = \"unknown\";\n    function execUpdate() {\n        const copiedData = [\n            ...data\n        ];\n        if (messageAnnotations == null ? void 0 : messageAnnotations.length) {\n            message.annotations = messageAnnotations;\n        }\n        const copiedMessage = {\n            // deep copy the message to ensure that deep changes (msg attachments) are updated\n            // with SolidJS. SolidJS uses referential integration of sub-objects to detect changes.\n            ...structuredClone(message),\n            // add a revision id to ensure that the message is updated with SWR. SWR uses a\n            // hashing approach by default to detect changes, but it only works for shallow\n            // changes. This is why we need to add a revision id to ensure that the message\n            // is updated with SWR (without it, the changes get stuck in SWR and are not\n            // forwarded to rendering):\n            revisionId: generateId2()\n        };\n        update({\n            message: copiedMessage,\n            data: copiedData,\n            replaceLastMessage\n        });\n    }\n    await processDataStream({\n        stream,\n        onTextPart (value) {\n            if (currentTextPart == null) {\n                currentTextPart = {\n                    type: \"text\",\n                    text: value\n                };\n                message.parts.push(currentTextPart);\n            } else {\n                currentTextPart.text += value;\n            }\n            message.content += value;\n            execUpdate();\n        },\n        onReasoningPart (value) {\n            var _a2;\n            if (currentReasoningTextDetail == null) {\n                currentReasoningTextDetail = {\n                    type: \"text\",\n                    text: value\n                };\n                if (currentReasoningPart != null) {\n                    currentReasoningPart.details.push(currentReasoningTextDetail);\n                }\n            } else {\n                currentReasoningTextDetail.text += value;\n            }\n            if (currentReasoningPart == null) {\n                currentReasoningPart = {\n                    type: \"reasoning\",\n                    reasoning: value,\n                    details: [\n                        currentReasoningTextDetail\n                    ]\n                };\n                message.parts.push(currentReasoningPart);\n            } else {\n                currentReasoningPart.reasoning += value;\n            }\n            message.reasoning = ((_a2 = message.reasoning) != null ? _a2 : \"\") + value;\n            execUpdate();\n        },\n        onReasoningSignaturePart (value) {\n            if (currentReasoningTextDetail != null) {\n                currentReasoningTextDetail.signature = value.signature;\n            }\n        },\n        onRedactedReasoningPart (value) {\n            if (currentReasoningPart == null) {\n                currentReasoningPart = {\n                    type: \"reasoning\",\n                    reasoning: \"\",\n                    details: []\n                };\n                message.parts.push(currentReasoningPart);\n            }\n            currentReasoningPart.details.push({\n                type: \"redacted\",\n                data: value.data\n            });\n            currentReasoningTextDetail = void 0;\n            execUpdate();\n        },\n        onFilePart (value) {\n            message.parts.push({\n                type: \"file\",\n                mimeType: value.mimeType,\n                data: value.data\n            });\n            execUpdate();\n        },\n        onSourcePart (value) {\n            message.parts.push({\n                type: \"source\",\n                source: value\n            });\n            execUpdate();\n        },\n        onToolCallStreamingStartPart (value) {\n            if (message.toolInvocations == null) {\n                message.toolInvocations = [];\n            }\n            partialToolCalls[value.toolCallId] = {\n                text: \"\",\n                step,\n                toolName: value.toolName,\n                index: message.toolInvocations.length\n            };\n            const invocation = {\n                state: \"partial-call\",\n                step,\n                toolCallId: value.toolCallId,\n                toolName: value.toolName,\n                args: void 0\n            };\n            message.toolInvocations.push(invocation);\n            updateToolInvocationPart(value.toolCallId, invocation);\n            execUpdate();\n        },\n        onToolCallDeltaPart (value) {\n            const partialToolCall = partialToolCalls[value.toolCallId];\n            partialToolCall.text += value.argsTextDelta;\n            const { value: partialArgs } = parsePartialJson(partialToolCall.text);\n            const invocation = {\n                state: \"partial-call\",\n                step: partialToolCall.step,\n                toolCallId: value.toolCallId,\n                toolName: partialToolCall.toolName,\n                args: partialArgs\n            };\n            message.toolInvocations[partialToolCall.index] = invocation;\n            updateToolInvocationPart(value.toolCallId, invocation);\n            execUpdate();\n        },\n        async onToolCallPart (value) {\n            const invocation = {\n                state: \"call\",\n                step,\n                ...value\n            };\n            if (partialToolCalls[value.toolCallId] != null) {\n                message.toolInvocations[partialToolCalls[value.toolCallId].index] = invocation;\n            } else {\n                if (message.toolInvocations == null) {\n                    message.toolInvocations = [];\n                }\n                message.toolInvocations.push(invocation);\n            }\n            updateToolInvocationPart(value.toolCallId, invocation);\n            execUpdate();\n            if (onToolCall) {\n                const result = await onToolCall({\n                    toolCall: value\n                });\n                if (result != null) {\n                    const invocation2 = {\n                        state: \"result\",\n                        step,\n                        ...value,\n                        result\n                    };\n                    message.toolInvocations[message.toolInvocations.length - 1] = invocation2;\n                    updateToolInvocationPart(value.toolCallId, invocation2);\n                    execUpdate();\n                }\n            }\n        },\n        onToolResultPart (value) {\n            const toolInvocations = message.toolInvocations;\n            if (toolInvocations == null) {\n                throw new Error(\"tool_result must be preceded by a tool_call\");\n            }\n            const toolInvocationIndex = toolInvocations.findIndex((invocation2)=>invocation2.toolCallId === value.toolCallId);\n            if (toolInvocationIndex === -1) {\n                throw new Error(\"tool_result must be preceded by a tool_call with the same toolCallId\");\n            }\n            const invocation = {\n                ...toolInvocations[toolInvocationIndex],\n                state: \"result\",\n                ...value\n            };\n            toolInvocations[toolInvocationIndex] = invocation;\n            updateToolInvocationPart(value.toolCallId, invocation);\n            execUpdate();\n        },\n        onDataPart (value) {\n            data.push(...value);\n            execUpdate();\n        },\n        onMessageAnnotationsPart (value) {\n            if (messageAnnotations == null) {\n                messageAnnotations = [\n                    ...value\n                ];\n            } else {\n                messageAnnotations.push(...value);\n            }\n            execUpdate();\n        },\n        onFinishStepPart (value) {\n            step += 1;\n            currentTextPart = value.isContinued ? currentTextPart : void 0;\n            currentReasoningPart = void 0;\n            currentReasoningTextDetail = void 0;\n        },\n        onStartStepPart (value) {\n            if (!replaceLastMessage) {\n                message.id = value.messageId;\n            }\n        },\n        onFinishMessagePart (value) {\n            finishReason = value.finishReason;\n            if (value.usage != null) {\n                usage = calculateLanguageModelUsage(value.usage);\n            }\n        },\n        onErrorPart (error) {\n            throw new Error(error);\n        }\n    });\n    onFinish == null ? void 0 : onFinish({\n        message,\n        finishReason,\n        usage\n    });\n}\n// src/process-chat-text-response.ts\n\n// src/process-text-stream.ts\nasync function processTextStream({ stream, onTextPart }) {\n    const reader = stream.pipeThrough(new TextDecoderStream()).getReader();\n    while(true){\n        const { done, value } = await reader.read();\n        if (done) {\n            break;\n        }\n        await onTextPart(value);\n    }\n}\n// src/process-chat-text-response.ts\nasync function processChatTextResponse({ stream, update, onFinish, getCurrentDate = ()=>/* @__PURE__ */ new Date(), generateId: generateId2 = _ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.generateId }) {\n    const textPart = {\n        type: \"text\",\n        text: \"\"\n    };\n    const resultMessage = {\n        id: generateId2(),\n        createdAt: getCurrentDate(),\n        role: \"assistant\",\n        content: \"\",\n        parts: [\n            textPart\n        ]\n    };\n    await processTextStream({\n        stream,\n        onTextPart: (chunk)=>{\n            resultMessage.content += chunk;\n            textPart.text += chunk;\n            update({\n                message: {\n                    ...resultMessage\n                },\n                data: [],\n                replaceLastMessage: false\n            });\n        }\n    });\n    onFinish == null ? void 0 : onFinish(resultMessage, {\n        usage: {\n            completionTokens: NaN,\n            promptTokens: NaN,\n            totalTokens: NaN\n        },\n        finishReason: \"unknown\"\n    });\n}\n// src/call-chat-api.ts\nvar getOriginalFetch = ()=>fetch;\nasync function callChatApi({ api, body, streamProtocol = \"data\", credentials, headers, abortController, restoreMessagesOnFailure, onResponse, onUpdate, onFinish, onToolCall, generateId: generateId2, fetch: fetch2 = getOriginalFetch(), lastMessage }) {\n    var _a, _b;\n    const response = await fetch2(api, {\n        method: \"POST\",\n        body: JSON.stringify(body),\n        headers: {\n            \"Content-Type\": \"application/json\",\n            ...headers\n        },\n        signal: (_a = abortController == null ? void 0 : abortController()) == null ? void 0 : _a.signal,\n        credentials\n    }).catch((err)=>{\n        restoreMessagesOnFailure();\n        throw err;\n    });\n    if (onResponse) {\n        try {\n            await onResponse(response);\n        } catch (err) {\n            throw err;\n        }\n    }\n    if (!response.ok) {\n        restoreMessagesOnFailure();\n        throw new Error((_b = await response.text()) != null ? _b : \"Failed to fetch the chat response.\");\n    }\n    if (!response.body) {\n        throw new Error(\"The response body is empty.\");\n    }\n    switch(streamProtocol){\n        case \"text\":\n            {\n                await processChatTextResponse({\n                    stream: response.body,\n                    update: onUpdate,\n                    onFinish,\n                    generateId: generateId2\n                });\n                return;\n            }\n        case \"data\":\n            {\n                await processChatResponse({\n                    stream: response.body,\n                    update: onUpdate,\n                    lastMessage,\n                    onToolCall,\n                    onFinish ({ message, finishReason, usage }) {\n                        if (onFinish && message != null) {\n                            onFinish(message, {\n                                usage,\n                                finishReason\n                            });\n                        }\n                    },\n                    generateId: generateId2\n                });\n                return;\n            }\n        default:\n            {\n                const exhaustiveCheck = streamProtocol;\n                throw new Error(`Unknown stream protocol: ${exhaustiveCheck}`);\n            }\n    }\n}\n// src/call-completion-api.ts\nvar getOriginalFetch2 = ()=>fetch;\nasync function callCompletionApi({ api, prompt, credentials, headers, body, streamProtocol = \"data\", setCompletion, setLoading, setError, setAbortController, onResponse, onFinish, onError, onData, fetch: fetch2 = getOriginalFetch2() }) {\n    var _a;\n    try {\n        setLoading(true);\n        setError(void 0);\n        const abortController = new AbortController();\n        setAbortController(abortController);\n        setCompletion(\"\");\n        const response = await fetch2(api, {\n            method: \"POST\",\n            body: JSON.stringify({\n                prompt,\n                ...body\n            }),\n            credentials,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...headers\n            },\n            signal: abortController.signal\n        }).catch((err)=>{\n            throw err;\n        });\n        if (onResponse) {\n            try {\n                await onResponse(response);\n            } catch (err) {\n                throw err;\n            }\n        }\n        if (!response.ok) {\n            throw new Error((_a = await response.text()) != null ? _a : \"Failed to fetch the chat response.\");\n        }\n        if (!response.body) {\n            throw new Error(\"The response body is empty.\");\n        }\n        let result = \"\";\n        switch(streamProtocol){\n            case \"text\":\n                {\n                    await processTextStream({\n                        stream: response.body,\n                        onTextPart: (chunk)=>{\n                            result += chunk;\n                            setCompletion(result);\n                        }\n                    });\n                    break;\n                }\n            case \"data\":\n                {\n                    await processDataStream({\n                        stream: response.body,\n                        onTextPart (value) {\n                            result += value;\n                            setCompletion(result);\n                        },\n                        onDataPart (value) {\n                            onData == null ? void 0 : onData(value);\n                        },\n                        onErrorPart (value) {\n                            throw new Error(value);\n                        }\n                    });\n                    break;\n                }\n            default:\n                {\n                    const exhaustiveCheck = streamProtocol;\n                    throw new Error(`Unknown stream protocol: ${exhaustiveCheck}`);\n                }\n        }\n        if (onFinish) {\n            onFinish(prompt, result);\n        }\n        setAbortController(null);\n        return result;\n    } catch (err) {\n        if (err.name === \"AbortError\") {\n            setAbortController(null);\n            return null;\n        }\n        if (err instanceof Error) {\n            if (onError) {\n                onError(err);\n            }\n        }\n        setError(err);\n    } finally{\n        setLoading(false);\n    }\n}\n// src/data-url.ts\nfunction getTextFromDataUrl(dataUrl) {\n    const [header, base64Content] = dataUrl.split(\",\");\n    const mimeType = header.split(\";\")[0].split(\":\")[1];\n    if (mimeType == null || base64Content == null) {\n        throw new Error(\"Invalid data URL format\");\n    }\n    try {\n        return window.atob(base64Content);\n    } catch (error) {\n        throw new Error(`Error decoding data URL`);\n    }\n}\n// src/extract-max-tool-invocation-step.ts\nfunction extractMaxToolInvocationStep(toolInvocations) {\n    return toolInvocations == null ? void 0 : toolInvocations.reduce((max, toolInvocation)=>{\n        var _a;\n        return Math.max(max, (_a = toolInvocation.step) != null ? _a : 0);\n    }, 0);\n}\n// src/get-message-parts.ts\nfunction getMessageParts(message) {\n    var _a;\n    return (_a = message.parts) != null ? _a : [\n        ...message.toolInvocations ? message.toolInvocations.map((toolInvocation)=>({\n                type: \"tool-invocation\",\n                toolInvocation\n            })) : [],\n        ...message.reasoning ? [\n            {\n                type: \"reasoning\",\n                reasoning: message.reasoning,\n                details: [\n                    {\n                        type: \"text\",\n                        text: message.reasoning\n                    }\n                ]\n            }\n        ] : [],\n        ...message.content ? [\n            {\n                type: \"text\",\n                text: message.content\n            }\n        ] : []\n    ];\n}\n// src/fill-message-parts.ts\nfunction fillMessageParts(messages) {\n    return messages.map((message)=>({\n            ...message,\n            parts: getMessageParts(message)\n        }));\n}\n// src/is-deep-equal-data.ts\nfunction isDeepEqualData(obj1, obj2) {\n    if (obj1 === obj2) return true;\n    if (obj1 == null || obj2 == null) return false;\n    if (typeof obj1 !== \"object\" && typeof obj2 !== \"object\") return obj1 === obj2;\n    if (obj1.constructor !== obj2.constructor) return false;\n    if (obj1 instanceof Date && obj2 instanceof Date) {\n        return obj1.getTime() === obj2.getTime();\n    }\n    if (Array.isArray(obj1)) {\n        if (obj1.length !== obj2.length) return false;\n        for(let i = 0; i < obj1.length; i++){\n            if (!isDeepEqualData(obj1[i], obj2[i])) return false;\n        }\n        return true;\n    }\n    const keys1 = Object.keys(obj1);\n    const keys2 = Object.keys(obj2);\n    if (keys1.length !== keys2.length) return false;\n    for (const key of keys1){\n        if (!keys2.includes(key)) return false;\n        if (!isDeepEqualData(obj1[key], obj2[key])) return false;\n    }\n    return true;\n}\n// src/prepare-attachments-for-request.ts\nasync function prepareAttachmentsForRequest(attachmentsFromOptions) {\n    if (!attachmentsFromOptions) {\n        return [];\n    }\n    if (attachmentsFromOptions instanceof FileList) {\n        return Promise.all(Array.from(attachmentsFromOptions).map(async (attachment)=>{\n            const { name, type } = attachment;\n            const dataUrl = await new Promise((resolve, reject)=>{\n                const reader = new FileReader();\n                reader.onload = (readerEvent)=>{\n                    var _a;\n                    resolve((_a = readerEvent.target) == null ? void 0 : _a.result);\n                };\n                reader.onerror = (error)=>reject(error);\n                reader.readAsDataURL(attachment);\n            });\n            return {\n                name,\n                contentType: type,\n                url: dataUrl\n            };\n        }));\n    }\n    if (Array.isArray(attachmentsFromOptions)) {\n        return attachmentsFromOptions;\n    }\n    throw new Error(\"Invalid attachments type\");\n}\n// src/process-assistant-stream.ts\nvar NEWLINE2 = \"\\n\".charCodeAt(0);\nfunction concatChunks2(chunks, totalLength) {\n    const concatenatedChunks = new Uint8Array(totalLength);\n    let offset = 0;\n    for (const chunk of chunks){\n        concatenatedChunks.set(chunk, offset);\n        offset += chunk.length;\n    }\n    chunks.length = 0;\n    return concatenatedChunks;\n}\nasync function processAssistantStream({ stream, onTextPart, onErrorPart, onAssistantMessagePart, onAssistantControlDataPart, onDataMessagePart }) {\n    const reader = stream.getReader();\n    const decoder = new TextDecoder();\n    const chunks = [];\n    let totalLength = 0;\n    while(true){\n        const { value } = await reader.read();\n        if (value) {\n            chunks.push(value);\n            totalLength += value.length;\n            if (value[value.length - 1] !== NEWLINE2) {\n                continue;\n            }\n        }\n        if (chunks.length === 0) {\n            break;\n        }\n        const concatenatedChunks = concatChunks2(chunks, totalLength);\n        totalLength = 0;\n        const streamParts = decoder.decode(concatenatedChunks, {\n            stream: true\n        }).split(\"\\n\").filter((line)=>line !== \"\").map(parseAssistantStreamPart);\n        for (const { type, value: value2 } of streamParts){\n            switch(type){\n                case \"text\":\n                    await (onTextPart == null ? void 0 : onTextPart(value2));\n                    break;\n                case \"error\":\n                    await (onErrorPart == null ? void 0 : onErrorPart(value2));\n                    break;\n                case \"assistant_message\":\n                    await (onAssistantMessagePart == null ? void 0 : onAssistantMessagePart(value2));\n                    break;\n                case \"assistant_control_data\":\n                    await (onAssistantControlDataPart == null ? void 0 : onAssistantControlDataPart(value2));\n                    break;\n                case \"data_message\":\n                    await (onDataMessagePart == null ? void 0 : onDataMessagePart(value2));\n                    break;\n                default:\n                    {\n                        const exhaustiveCheck = type;\n                        throw new Error(`Unknown stream part type: ${exhaustiveCheck}`);\n                    }\n            }\n        }\n    }\n}\n// src/schema.ts\n\n// src/zod-schema.ts\n\nfunction zodSchema(zodSchema2, options) {\n    var _a;\n    const useReferences = (_a = options == null ? void 0 : options.useReferences) != null ? _a : false;\n    return jsonSchema((0,zod_to_json_schema__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(zodSchema2, {\n        $refStrategy: useReferences ? \"root\" : \"none\",\n        target: \"jsonSchema7\"\n    }), {\n        validate: (value)=>{\n            const result = zodSchema2.safeParse(value);\n            return result.success ? {\n                success: true,\n                value: result.data\n            } : {\n                success: false,\n                error: result.error\n            };\n        }\n    });\n}\n// src/schema.ts\nvar schemaSymbol = Symbol.for(\"vercel.ai.schema\");\nfunction jsonSchema(jsonSchema2, { validate } = {}) {\n    return {\n        [schemaSymbol]: true,\n        _type: void 0,\n        // should never be used directly\n        [_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.validatorSymbol]: true,\n        jsonSchema: jsonSchema2,\n        validate\n    };\n}\nfunction isSchema(value) {\n    return typeof value === \"object\" && value !== null && schemaSymbol in value && value[schemaSymbol] === true && \"jsonSchema\" in value && \"validate\" in value;\n}\nfunction asSchema(schema) {\n    return isSchema(schema) ? schema : zodSchema(schema);\n}\n// src/should-resubmit-messages.ts\nfunction shouldResubmitMessages({ originalMaxToolInvocationStep, originalMessageCount, maxSteps, messages }) {\n    var _a;\n    const lastMessage = messages[messages.length - 1];\n    return(// check if the feature is enabled:\n    maxSteps > 1 && // ensure there is a last message:\n    lastMessage != null && // ensure we actually have new steps (to prevent infinite loops in case of errors):\n    (messages.length > originalMessageCount || extractMaxToolInvocationStep(lastMessage.toolInvocations) !== originalMaxToolInvocationStep) && // check that next step is possible:\n    isAssistantMessageWithCompletedToolCalls(lastMessage) && // check that assistant has not answered yet:\n    !isLastToolInvocationFollowedByText(lastMessage) && // limit the number of automatic steps:\n    ((_a = extractMaxToolInvocationStep(lastMessage.toolInvocations)) != null ? _a : 0) < maxSteps);\n}\nfunction isLastToolInvocationFollowedByText(message) {\n    let isLastToolInvocationFollowedByText2 = false;\n    message.parts.forEach((part)=>{\n        if (part.type === \"text\") {\n            isLastToolInvocationFollowedByText2 = true;\n        }\n        if (part.type === \"tool-invocation\") {\n            isLastToolInvocationFollowedByText2 = false;\n        }\n    });\n    return isLastToolInvocationFollowedByText2;\n}\nfunction isAssistantMessageWithCompletedToolCalls(message) {\n    return message.role === \"assistant\" && message.parts.filter((part)=>part.type === \"tool-invocation\").every((part)=>\"result\" in part.toolInvocation);\n}\n// src/update-tool-call-result.ts\nfunction updateToolCallResult({ messages, toolCallId, toolResult: result }) {\n    var _a;\n    const lastMessage = messages[messages.length - 1];\n    const invocationPart = lastMessage.parts.find((part)=>part.type === \"tool-invocation\" && part.toolInvocation.toolCallId === toolCallId);\n    if (invocationPart == null) {\n        return;\n    }\n    const toolResult = {\n        ...invocationPart.toolInvocation,\n        state: \"result\",\n        result\n    };\n    invocationPart.toolInvocation = toolResult;\n    lastMessage.toolInvocations = (_a = lastMessage.toolInvocations) == null ? void 0 : _a.map((toolInvocation)=>toolInvocation.toolCallId === toolCallId ? toolResult : toolInvocation);\n}\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGFpLXNkay91aS11dGlscy9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsZUFBZTtBQUNxQztBQUVwRCxnQ0FBZ0M7QUFDaEMsSUFBSUMsaUJBQWlCO0lBQ25CQyxNQUFNO0lBQ05DLE1BQU07SUFDTkMsT0FBTyxDQUFDQztRQUNOLElBQUksT0FBT0EsVUFBVSxVQUFVO1lBQzdCLE1BQU0sSUFBSUMsTUFBTTtRQUNsQjtRQUNBLE9BQU87WUFBRUMsTUFBTTtZQUFRRjtRQUFNO0lBQy9CO0FBQ0Y7QUFDQSxJQUFJRyxrQkFBa0I7SUFDcEJOLE1BQU07SUFDTkMsTUFBTTtJQUNOQyxPQUFPLENBQUNDO1FBQ04sSUFBSSxPQUFPQSxVQUFVLFVBQVU7WUFDN0IsTUFBTSxJQUFJQyxNQUFNO1FBQ2xCO1FBQ0EsT0FBTztZQUFFQyxNQUFNO1lBQVNGO1FBQU07SUFDaEM7QUFDRjtBQUNBLElBQUlJLDZCQUE2QjtJQUMvQlAsTUFBTTtJQUNOQyxNQUFNO0lBQ05DLE9BQU8sQ0FBQ0M7UUFDTixJQUFJQSxTQUFTLFFBQVEsT0FBT0EsVUFBVSxZQUFZLENBQUUsU0FBUUEsS0FBSSxLQUFNLENBQUUsV0FBVUEsS0FBSSxLQUFNLENBQUUsY0FBYUEsS0FBSSxLQUFNLE9BQU9BLE1BQU1LLEVBQUUsS0FBSyxZQUFZLE9BQU9MLE1BQU1NLElBQUksS0FBSyxZQUFZTixNQUFNTSxJQUFJLEtBQUssZUFBZSxDQUFDQyxNQUFNQyxPQUFPLENBQUNSLE1BQU1TLE9BQU8sS0FBSyxDQUFDVCxNQUFNUyxPQUFPLENBQUNDLEtBQUssQ0FDeFEsQ0FBQ0MsT0FBU0EsUUFBUSxRQUFRLE9BQU9BLFNBQVMsWUFBWSxVQUFVQSxRQUFRQSxLQUFLVCxJQUFJLEtBQUssVUFBVSxVQUFVUyxRQUFRQSxLQUFLQyxJQUFJLElBQUksUUFBUSxPQUFPRCxLQUFLQyxJQUFJLEtBQUssWUFBWSxXQUFXRCxL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bEYsSUFBSStOLGtCQUFrQixNQUFNO1FBQzFCO0lBQ0Y7SUFDQSxNQUFNRCxhQUFhO1FBQ2pCLEdBQUdDLGVBQWUxSSxjQUFjO1FBQ2hDOUYsT0FBTztRQUNQRDtJQUNGO0lBQ0F5TyxlQUFlMUksY0FBYyxHQUFHeUk7SUFDaENqSixZQUFZSyxlQUFlLEdBQUcsQ0FBQ0osS0FBS0QsWUFBWUssZUFBZSxLQUFLLE9BQU8sS0FBSyxJQUFJSixHQUFHaEksR0FBRyxDQUN4RixDQUFDdUksaUJBQW1CQSxlQUFlckYsVUFBVSxLQUFLQSxhQUFhOE4sYUFBYXpJO0FBRWhGO0FBeUJFLENBQ0Ysa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BhaS1zZGsvdWktdXRpbHMvZGlzdC9pbmRleC5tanM/NzgzYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvaW5kZXgudHNcbmltcG9ydCB7IGdlbmVyYXRlSWQgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuXG4vLyBzcmMvYXNzaXN0YW50LXN0cmVhbS1wYXJ0cy50c1xudmFyIHRleHRTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcIjBcIixcbiAgbmFtZTogXCJ0ZXh0XCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1widGV4dFwiIHBhcnRzIGV4cGVjdCBhIHN0cmluZyB2YWx1ZS4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgdHlwZTogXCJ0ZXh0XCIsIHZhbHVlIH07XG4gIH1cbn07XG52YXIgZXJyb3JTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcIjNcIixcbiAgbmFtZTogXCJlcnJvclwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdcImVycm9yXCIgcGFydHMgZXhwZWN0IGEgc3RyaW5nIHZhbHVlLicpO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBcImVycm9yXCIsIHZhbHVlIH07XG4gIH1cbn07XG52YXIgYXNzaXN0YW50TWVzc2FnZVN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiNFwiLFxuICBuYW1lOiBcImFzc2lzdGFudF9tZXNzYWdlXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcImlkXCIgaW4gdmFsdWUpIHx8ICEoXCJyb2xlXCIgaW4gdmFsdWUpIHx8ICEoXCJjb250ZW50XCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS5pZCAhPT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgdmFsdWUucm9sZSAhPT0gXCJzdHJpbmdcIiB8fCB2YWx1ZS5yb2xlICE9PSBcImFzc2lzdGFudFwiIHx8ICFBcnJheS5pc0FycmF5KHZhbHVlLmNvbnRlbnQpIHx8ICF2YWx1ZS5jb250ZW50LmV2ZXJ5KFxuICAgICAgKGl0ZW0pID0+IGl0ZW0gIT0gbnVsbCAmJiB0eXBlb2YgaXRlbSA9PT0gXCJvYmplY3RcIiAmJiBcInR5cGVcIiBpbiBpdGVtICYmIGl0ZW0udHlwZSA9PT0gXCJ0ZXh0XCIgJiYgXCJ0ZXh0XCIgaW4gaXRlbSAmJiBpdGVtLnRleHQgIT0gbnVsbCAmJiB0eXBlb2YgaXRlbS50ZXh0ID09PSBcIm9iamVjdFwiICYmIFwidmFsdWVcIiBpbiBpdGVtLnRleHQgJiYgdHlwZW9mIGl0ZW0udGV4dC52YWx1ZSA9PT0gXCJzdHJpbmdcIlxuICAgICkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1wiYXNzaXN0YW50X21lc3NhZ2VcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYW4gXCJpZFwiLCBcInJvbGVcIiwgYW5kIFwiY29udGVudFwiIHByb3BlcnR5LidcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcImFzc2lzdGFudF9tZXNzYWdlXCIsXG4gICAgICB2YWx1ZVxuICAgIH07XG4gIH1cbn07XG52YXIgYXNzaXN0YW50Q29udHJvbERhdGFTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcIjVcIixcbiAgbmFtZTogXCJhc3Npc3RhbnRfY29udHJvbF9kYXRhXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcInRocmVhZElkXCIgaW4gdmFsdWUpIHx8ICEoXCJtZXNzYWdlSWRcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLnRocmVhZElkICE9PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB2YWx1ZS5tZXNzYWdlSWQgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1wiYXNzaXN0YW50X2NvbnRyb2xfZGF0YVwiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhIFwidGhyZWFkSWRcIiBhbmQgXCJtZXNzYWdlSWRcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJhc3Npc3RhbnRfY29udHJvbF9kYXRhXCIsXG4gICAgICB2YWx1ZToge1xuICAgICAgICB0aHJlYWRJZDogdmFsdWUudGhyZWFkSWQsXG4gICAgICAgIG1lc3NhZ2VJZDogdmFsdWUubWVzc2FnZUlkXG4gICAgICB9XG4gICAgfTtcbiAgfVxufTtcbnZhciBkYXRhTWVzc2FnZVN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiNlwiLFxuICBuYW1lOiBcImRhdGFfbWVzc2FnZVwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICEoXCJyb2xlXCIgaW4gdmFsdWUpIHx8ICEoXCJkYXRhXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS5yb2xlICE9PSBcInN0cmluZ1wiIHx8IHZhbHVlLnJvbGUgIT09IFwiZGF0YVwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcImRhdGFfbWVzc2FnZVwiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhIFwicm9sZVwiIGFuZCBcImRhdGFcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJkYXRhX21lc3NhZ2VcIixcbiAgICAgIHZhbHVlXG4gICAgfTtcbiAgfVxufTtcbnZhciBhc3Npc3RhbnRTdHJlYW1QYXJ0cyA9IFtcbiAgdGV4dFN0cmVhbVBhcnQsXG4gIGVycm9yU3RyZWFtUGFydCxcbiAgYXNzaXN0YW50TWVzc2FnZVN0cmVhbVBhcnQsXG4gIGFzc2lzdGFudENvbnRyb2xEYXRhU3RyZWFtUGFydCxcbiAgZGF0YU1lc3NhZ2VTdHJlYW1QYXJ0XG5dO1xudmFyIGFzc2lzdGFudFN0cmVhbVBhcnRzQnlDb2RlID0ge1xuICBbdGV4dFN0cmVhbVBhcnQuY29kZV06IHRleHRTdHJlYW1QYXJ0LFxuICBbZXJyb3JTdHJlYW1QYXJ0LmNvZGVdOiBlcnJvclN0cmVhbVBhcnQsXG4gIFthc3Npc3RhbnRNZXNzYWdlU3RyZWFtUGFydC5jb2RlXTogYXNzaXN0YW50TWVzc2FnZVN0cmVhbVBhcnQsXG4gIFthc3Npc3RhbnRDb250cm9sRGF0YVN0cmVhbVBhcnQuY29kZV06IGFzc2lzdGFudENvbnRyb2xEYXRhU3RyZWFtUGFydCxcbiAgW2RhdGFNZXNzYWdlU3RyZWFtUGFydC5jb2RlXTogZGF0YU1lc3NhZ2VTdHJlYW1QYXJ0XG59O1xudmFyIFN0cmVhbVN0cmluZ1ByZWZpeGVzID0ge1xuICBbdGV4dFN0cmVhbVBhcnQubmFtZV06IHRleHRTdHJlYW1QYXJ0LmNvZGUsXG4gIFtlcnJvclN0cmVhbVBhcnQubmFtZV06IGVycm9yU3RyZWFtUGFydC5jb2RlLFxuICBbYXNzaXN0YW50TWVzc2FnZVN0cmVhbVBhcnQubmFtZV06IGFzc2lzdGFudE1lc3NhZ2VTdHJlYW1QYXJ0LmNvZGUsXG4gIFthc3Npc3RhbnRDb250cm9sRGF0YVN0cmVhbVBhcnQubmFtZV06IGFzc2lzdGFudENvbnRyb2xEYXRhU3RyZWFtUGFydC5jb2RlLFxuICBbZGF0YU1lc3NhZ2VTdHJlYW1QYXJ0Lm5hbWVdOiBkYXRhTWVzc2FnZVN0cmVhbVBhcnQuY29kZVxufTtcbnZhciB2YWxpZENvZGVzID0gYXNzaXN0YW50U3RyZWFtUGFydHMubWFwKChwYXJ0KSA9PiBwYXJ0LmNvZGUpO1xudmFyIHBhcnNlQXNzaXN0YW50U3RyZWFtUGFydCA9IChsaW5lKSA9PiB7XG4gIGNvbnN0IGZpcnN0U2VwYXJhdG9ySW5kZXggPSBsaW5lLmluZGV4T2YoXCI6XCIpO1xuICBpZiAoZmlyc3RTZXBhcmF0b3JJbmRleCA9PT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gcGFyc2Ugc3RyZWFtIHN0cmluZy4gTm8gc2VwYXJhdG9yIGZvdW5kLlwiKTtcbiAgfVxuICBjb25zdCBwcmVmaXggPSBsaW5lLnNsaWNlKDAsIGZpcnN0U2VwYXJhdG9ySW5kZXgpO1xuICBpZiAoIXZhbGlkQ29kZXMuaW5jbHVkZXMocHJlZml4KSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHBhcnNlIHN0cmVhbSBzdHJpbmcuIEludmFsaWQgY29kZSAke3ByZWZpeH0uYCk7XG4gIH1cbiAgY29uc3QgY29kZSA9IHByZWZpeDtcbiAgY29uc3QgdGV4dFZhbHVlID0gbGluZS5zbGljZShmaXJzdFNlcGFyYXRvckluZGV4ICsgMSk7XG4gIGNvbnN0IGpzb25WYWx1ZSA9IEpTT04ucGFyc2UodGV4dFZhbHVlKTtcbiAgcmV0dXJuIGFzc2lzdGFudFN0cmVhbVBhcnRzQnlDb2RlW2NvZGVdLnBhcnNlKGpzb25WYWx1ZSk7XG59O1xuZnVuY3Rpb24gZm9ybWF0QXNzaXN0YW50U3RyZWFtUGFydCh0eXBlLCB2YWx1ZSkge1xuICBjb25zdCBzdHJlYW1QYXJ0ID0gYXNzaXN0YW50U3RyZWFtUGFydHMuZmluZCgocGFydCkgPT4gcGFydC5uYW1lID09PSB0eXBlKTtcbiAgaWYgKCFzdHJlYW1QYXJ0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHN0cmVhbSBwYXJ0IHR5cGU6ICR7dHlwZX1gKTtcbiAgfVxuICByZXR1cm4gYCR7c3RyZWFtUGFydC5jb2RlfToke0pTT04uc3RyaW5naWZ5KHZhbHVlKX1cbmA7XG59XG5cbi8vIHNyYy9wcm9jZXNzLWNoYXQtcmVzcG9uc2UudHNcbmltcG9ydCB7IGdlbmVyYXRlSWQgYXMgZ2VuZXJhdGVJZEZ1bmN0aW9uIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXItdXRpbHNcIjtcblxuLy8gc3JjL2R1cGxpY2F0ZWQvdXNhZ2UudHNcbmZ1bmN0aW9uIGNhbGN1bGF0ZUxhbmd1YWdlTW9kZWxVc2FnZSh7XG4gIHByb21wdFRva2VucyxcbiAgY29tcGxldGlvblRva2Vuc1xufSkge1xuICByZXR1cm4ge1xuICAgIHByb21wdFRva2VucyxcbiAgICBjb21wbGV0aW9uVG9rZW5zLFxuICAgIHRvdGFsVG9rZW5zOiBwcm9tcHRUb2tlbnMgKyBjb21wbGV0aW9uVG9rZW5zXG4gIH07XG59XG5cbi8vIHNyYy9wYXJzZS1wYXJ0aWFsLWpzb24udHNcbmltcG9ydCB7IHNhZmVQYXJzZUpTT04gfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuXG4vLyBzcmMvZml4LWpzb24udHNcbmZ1bmN0aW9uIGZpeEpzb24oaW5wdXQpIHtcbiAgY29uc3Qgc3RhY2sgPSBbXCJST09UXCJdO1xuICBsZXQgbGFzdFZhbGlkSW5kZXggPSAtMTtcbiAgbGV0IGxpdGVyYWxTdGFydCA9IG51bGw7XG4gIGZ1bmN0aW9uIHByb2Nlc3NWYWx1ZVN0YXJ0KGNoYXIsIGksIHN3YXBTdGF0ZSkge1xuICAgIHtcbiAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgc3RhY2sucHVzaChzd2FwU3RhdGUpO1xuICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfU1RSSU5HXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJmXCI6XG4gICAgICAgIGNhc2UgXCJ0XCI6XG4gICAgICAgIGNhc2UgXCJuXCI6IHtcbiAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgbGl0ZXJhbFN0YXJ0ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9MSVRFUkFMXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCItXCI6IHtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9OVU1CRVJcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIjBcIjpcbiAgICAgICAgY2FzZSBcIjFcIjpcbiAgICAgICAgY2FzZSBcIjJcIjpcbiAgICAgICAgY2FzZSBcIjNcIjpcbiAgICAgICAgY2FzZSBcIjRcIjpcbiAgICAgICAgY2FzZSBcIjVcIjpcbiAgICAgICAgY2FzZSBcIjZcIjpcbiAgICAgICAgY2FzZSBcIjdcIjpcbiAgICAgICAgY2FzZSBcIjhcIjpcbiAgICAgICAgY2FzZSBcIjlcIjoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9OVU1CRVJcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIntcIjoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfU1RBUlRcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIltcIjoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9BUlJBWV9TVEFSVFwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwcm9jZXNzQWZ0ZXJPYmplY3RWYWx1ZShjaGFyLCBpKSB7XG4gICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICBjYXNlIFwiLFwiOiB7XG4gICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX09CSkVDVF9BRlRFUl9DT01NQVwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwifVwiOiB7XG4gICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwcm9jZXNzQWZ0ZXJBcnJheVZhbHVlKGNoYXIsIGkpIHtcbiAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgIGNhc2UgXCIsXCI6IHtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfQVJSQVlfQUZURVJfQ09NTUFcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIl1cIjoge1xuICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNoYXIgPSBpbnB1dFtpXTtcbiAgICBjb25zdCBjdXJyZW50U3RhdGUgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcbiAgICBzd2l0Y2ggKGN1cnJlbnRTdGF0ZSkge1xuICAgICAgY2FzZSBcIlJPT1RcIjpcbiAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgXCJGSU5JU0hcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfU1RBUlRcIjoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfS0VZXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJ9XCI6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfQUZURVJfQ09NTUFcIjoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfS0VZXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfS0VZXCI6IHtcbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgY2FzZSAnXCInOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfT0JKRUNUX0FGVEVSX0tFWVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX0tFWVwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgXCI6XCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfQkVGT1JFX1ZBTFVFXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfQkVGT1JFX1ZBTFVFXCI6IHtcbiAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCI6IHtcbiAgICAgICAgcHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUoY2hhciwgaSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9TVFJJTkdcIjoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJcXFxcXCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfU1RSSU5HX0VTQ0FQRVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9BUlJBWV9TVEFSVFwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgXCJdXCI6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIHByb2Nlc3NWYWx1ZVN0YXJ0KGNoYXIsIGksIFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9BUlJBWV9BRlRFUl9WQUxVRVwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgXCIsXCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9BUlJBWV9BRlRFUl9DT01NQVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiXVwiOiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX0FSUkFZX0FGVEVSX0NPTU1BXCI6IHtcbiAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgXCJJTlNJREVfQVJSQVlfQUZURVJfVkFMVUVcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9TVFJJTkdfRVNDQVBFXCI6IHtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX05VTUJFUlwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgXCIwXCI6XG4gICAgICAgICAgY2FzZSBcIjFcIjpcbiAgICAgICAgICBjYXNlIFwiMlwiOlxuICAgICAgICAgIGNhc2UgXCIzXCI6XG4gICAgICAgICAgY2FzZSBcIjRcIjpcbiAgICAgICAgICBjYXNlIFwiNVwiOlxuICAgICAgICAgIGNhc2UgXCI2XCI6XG4gICAgICAgICAgY2FzZSBcIjdcIjpcbiAgICAgICAgICBjYXNlIFwiOFwiOlxuICAgICAgICAgIGNhc2UgXCI5XCI6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiZVwiOlxuICAgICAgICAgIGNhc2UgXCJFXCI6XG4gICAgICAgICAgY2FzZSBcIi1cIjpcbiAgICAgICAgICBjYXNlIFwiLlwiOiB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcIixcIjoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09IFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc0FmdGVyQXJyYXlWYWx1ZShjaGFyLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcIn1cIjoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09IFwiSU5TSURFX09CSkVDVF9BRlRFUl9WQUxVRVwiKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NBZnRlck9iamVjdFZhbHVlKGNoYXIsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJdXCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSBcIklOU0lERV9BUlJBWV9BRlRFUl9WQUxVRVwiKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NBZnRlckFycmF5VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX0xJVEVSQUxcIjoge1xuICAgICAgICBjb25zdCBwYXJ0aWFsTGl0ZXJhbCA9IGlucHV0LnN1YnN0cmluZyhsaXRlcmFsU3RhcnQsIGkgKyAxKTtcbiAgICAgICAgaWYgKCFcImZhbHNlXCIuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkgJiYgIVwidHJ1ZVwiLnN0YXJ0c1dpdGgocGFydGlhbExpdGVyYWwpICYmICFcIm51bGxcIi5zdGFydHNXaXRoKHBhcnRpYWxMaXRlcmFsKSkge1xuICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgIHByb2Nlc3NBZnRlck9iamVjdFZhbHVlKGNoYXIsIGkpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09IFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgIHByb2Nlc3NBZnRlckFycmF5VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbGV0IHJlc3VsdCA9IGlucHV0LnNsaWNlKDAsIGxhc3RWYWxpZEluZGV4ICsgMSk7XG4gIGZvciAobGV0IGkgPSBzdGFjay5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGNvbnN0IHN0YXRlID0gc3RhY2tbaV07XG4gICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgY2FzZSBcIklOU0lERV9TVFJJTkdcIjoge1xuICAgICAgICByZXN1bHQgKz0gJ1wiJztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9LRVlcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX0tFWVwiOlxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfQUZURVJfQ09NTUFcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX1NUQVJUXCI6XG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9CRUZPUkVfVkFMVUVcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCI6IHtcbiAgICAgICAgcmVzdWx0ICs9IFwifVwiO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfQVJSQVlfU1RBUlRcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfQVJSQVlfQUZURVJfQ09NTUFcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfQVJSQVlfQUZURVJfVkFMVUVcIjoge1xuICAgICAgICByZXN1bHQgKz0gXCJdXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9MSVRFUkFMXCI6IHtcbiAgICAgICAgY29uc3QgcGFydGlhbExpdGVyYWwgPSBpbnB1dC5zdWJzdHJpbmcobGl0ZXJhbFN0YXJ0LCBpbnB1dC5sZW5ndGgpO1xuICAgICAgICBpZiAoXCJ0cnVlXCIuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkpIHtcbiAgICAgICAgICByZXN1bHQgKz0gXCJ0cnVlXCIuc2xpY2UocGFydGlhbExpdGVyYWwubGVuZ3RoKTtcbiAgICAgICAgfSBlbHNlIGlmIChcImZhbHNlXCIuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkpIHtcbiAgICAgICAgICByZXN1bHQgKz0gXCJmYWxzZVwiLnNsaWNlKHBhcnRpYWxMaXRlcmFsLmxlbmd0aCk7XG4gICAgICAgIH0gZWxzZSBpZiAoXCJudWxsXCIuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkpIHtcbiAgICAgICAgICByZXN1bHQgKz0gXCJudWxsXCIuc2xpY2UocGFydGlhbExpdGVyYWwubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBzcmMvcGFyc2UtcGFydGlhbC1qc29uLnRzXG5mdW5jdGlvbiBwYXJzZVBhcnRpYWxKc29uKGpzb25UZXh0KSB7XG4gIGlmIChqc29uVGV4dCA9PT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHZvaWQgMCwgc3RhdGU6IFwidW5kZWZpbmVkLWlucHV0XCIgfTtcbiAgfVxuICBsZXQgcmVzdWx0ID0gc2FmZVBhcnNlSlNPTih7IHRleHQ6IGpzb25UZXh0IH0pO1xuICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICByZXR1cm4geyB2YWx1ZTogcmVzdWx0LnZhbHVlLCBzdGF0ZTogXCJzdWNjZXNzZnVsLXBhcnNlXCIgfTtcbiAgfVxuICByZXN1bHQgPSBzYWZlUGFyc2VKU09OKHsgdGV4dDogZml4SnNvbihqc29uVGV4dCkgfSk7XG4gIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgIHJldHVybiB7IHZhbHVlOiByZXN1bHQudmFsdWUsIHN0YXRlOiBcInJlcGFpcmVkLXBhcnNlXCIgfTtcbiAgfVxuICByZXR1cm4geyB2YWx1ZTogdm9pZCAwLCBzdGF0ZTogXCJmYWlsZWQtcGFyc2VcIiB9O1xufVxuXG4vLyBzcmMvZGF0YS1zdHJlYW0tcGFydHMudHNcbnZhciB0ZXh0U3RyZWFtUGFydDIgPSB7XG4gIGNvZGU6IFwiMFwiLFxuICBuYW1lOiBcInRleHRcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignXCJ0ZXh0XCIgcGFydHMgZXhwZWN0IGEgc3RyaW5nIHZhbHVlLicpO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBcInRleHRcIiwgdmFsdWUgfTtcbiAgfVxufTtcbnZhciBkYXRhU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCIyXCIsXG4gIG5hbWU6IFwiZGF0YVwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdcImRhdGFcIiBwYXJ0cyBleHBlY3QgYW4gYXJyYXkgdmFsdWUuJyk7XG4gICAgfVxuICAgIHJldHVybiB7IHR5cGU6IFwiZGF0YVwiLCB2YWx1ZSB9O1xuICB9XG59O1xudmFyIGVycm9yU3RyZWFtUGFydDIgPSB7XG4gIGNvZGU6IFwiM1wiLFxuICBuYW1lOiBcImVycm9yXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiZXJyb3JcIiBwYXJ0cyBleHBlY3QgYSBzdHJpbmcgdmFsdWUuJyk7XG4gICAgfVxuICAgIHJldHVybiB7IHR5cGU6IFwiZXJyb3JcIiwgdmFsdWUgfTtcbiAgfVxufTtcbnZhciBtZXNzYWdlQW5ub3RhdGlvbnNTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcIjhcIixcbiAgbmFtZTogXCJtZXNzYWdlX2Fubm90YXRpb25zXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wibWVzc2FnZV9hbm5vdGF0aW9uc1wiIHBhcnRzIGV4cGVjdCBhbiBhcnJheSB2YWx1ZS4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgdHlwZTogXCJtZXNzYWdlX2Fubm90YXRpb25zXCIsIHZhbHVlIH07XG4gIH1cbn07XG52YXIgdG9vbENhbGxTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcIjlcIixcbiAgbmFtZTogXCJ0b29sX2NhbGxcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwidG9vbENhbGxJZFwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUudG9vbENhbGxJZCAhPT0gXCJzdHJpbmdcIiB8fCAhKFwidG9vbE5hbWVcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLnRvb2xOYW1lICE9PSBcInN0cmluZ1wiIHx8ICEoXCJhcmdzXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS5hcmdzICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcInRvb2xfY2FsbFwiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhIFwidG9vbENhbGxJZFwiLCBcInRvb2xOYW1lXCIsIGFuZCBcImFyZ3NcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJ0b29sX2NhbGxcIixcbiAgICAgIHZhbHVlXG4gICAgfTtcbiAgfVxufTtcbnZhciB0b29sUmVzdWx0U3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCJhXCIsXG4gIG5hbWU6IFwidG9vbF9yZXN1bHRcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwidG9vbENhbGxJZFwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUudG9vbENhbGxJZCAhPT0gXCJzdHJpbmdcIiB8fCAhKFwicmVzdWx0XCIgaW4gdmFsdWUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcInRvb2xfcmVzdWx0XCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGEgXCJ0b29sQ2FsbElkXCIgYW5kIGEgXCJyZXN1bHRcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJ0b29sX3Jlc3VsdFwiLFxuICAgICAgdmFsdWVcbiAgICB9O1xuICB9XG59O1xudmFyIHRvb2xDYWxsU3RyZWFtaW5nU3RhcnRTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcImJcIixcbiAgbmFtZTogXCJ0b29sX2NhbGxfc3RyZWFtaW5nX3N0YXJ0XCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcInRvb2xDYWxsSWRcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLnRvb2xDYWxsSWQgIT09IFwic3RyaW5nXCIgfHwgIShcInRvb2xOYW1lXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS50b29sTmFtZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJ0b29sX2NhbGxfc3RyZWFtaW5nX3N0YXJ0XCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGEgXCJ0b29sQ2FsbElkXCIgYW5kIFwidG9vbE5hbWVcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJ0b29sX2NhbGxfc3RyZWFtaW5nX3N0YXJ0XCIsXG4gICAgICB2YWx1ZVxuICAgIH07XG4gIH1cbn07XG52YXIgdG9vbENhbGxEZWx0YVN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiY1wiLFxuICBuYW1lOiBcInRvb2xfY2FsbF9kZWx0YVwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICEoXCJ0b29sQ2FsbElkXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS50b29sQ2FsbElkICE9PSBcInN0cmluZ1wiIHx8ICEoXCJhcmdzVGV4dERlbHRhXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS5hcmdzVGV4dERlbHRhICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcInRvb2xfY2FsbF9kZWx0YVwiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhIFwidG9vbENhbGxJZFwiIGFuZCBcImFyZ3NUZXh0RGVsdGFcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJ0b29sX2NhbGxfZGVsdGFcIixcbiAgICAgIHZhbHVlXG4gICAgfTtcbiAgfVxufTtcbnZhciBmaW5pc2hNZXNzYWdlU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCJkXCIsXG4gIG5hbWU6IFwiZmluaXNoX21lc3NhZ2VcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwiZmluaXNoUmVhc29uXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS5maW5pc2hSZWFzb24gIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1wiZmluaXNoX21lc3NhZ2VcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYSBcImZpbmlzaFJlYXNvblwiIHByb3BlcnR5LidcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgIGZpbmlzaFJlYXNvbjogdmFsdWUuZmluaXNoUmVhc29uXG4gICAgfTtcbiAgICBpZiAoXCJ1c2FnZVwiIGluIHZhbHVlICYmIHZhbHVlLnVzYWdlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnVzYWdlID09PSBcIm9iamVjdFwiICYmIFwicHJvbXB0VG9rZW5zXCIgaW4gdmFsdWUudXNhZ2UgJiYgXCJjb21wbGV0aW9uVG9rZW5zXCIgaW4gdmFsdWUudXNhZ2UpIHtcbiAgICAgIHJlc3VsdC51c2FnZSA9IHtcbiAgICAgICAgcHJvbXB0VG9rZW5zOiB0eXBlb2YgdmFsdWUudXNhZ2UucHJvbXB0VG9rZW5zID09PSBcIm51bWJlclwiID8gdmFsdWUudXNhZ2UucHJvbXB0VG9rZW5zIDogTnVtYmVyLk5hTixcbiAgICAgICAgY29tcGxldGlvblRva2VuczogdHlwZW9mIHZhbHVlLnVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgPT09IFwibnVtYmVyXCIgPyB2YWx1ZS51c2FnZS5jb21wbGV0aW9uVG9rZW5zIDogTnVtYmVyLk5hTlxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiZmluaXNoX21lc3NhZ2VcIixcbiAgICAgIHZhbHVlOiByZXN1bHRcbiAgICB9O1xuICB9XG59O1xudmFyIGZpbmlzaFN0ZXBTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcImVcIixcbiAgbmFtZTogXCJmaW5pc2hfc3RlcFwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICEoXCJmaW5pc2hSZWFzb25cIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLmZpbmlzaFJlYXNvbiAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJmaW5pc2hfc3RlcFwiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhIFwiZmluaXNoUmVhc29uXCIgcHJvcGVydHkuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgZmluaXNoUmVhc29uOiB2YWx1ZS5maW5pc2hSZWFzb24sXG4gICAgICBpc0NvbnRpbnVlZDogZmFsc2VcbiAgICB9O1xuICAgIGlmIChcInVzYWdlXCIgaW4gdmFsdWUgJiYgdmFsdWUudXNhZ2UgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUudXNhZ2UgPT09IFwib2JqZWN0XCIgJiYgXCJwcm9tcHRUb2tlbnNcIiBpbiB2YWx1ZS51c2FnZSAmJiBcImNvbXBsZXRpb25Ub2tlbnNcIiBpbiB2YWx1ZS51c2FnZSkge1xuICAgICAgcmVzdWx0LnVzYWdlID0ge1xuICAgICAgICBwcm9tcHRUb2tlbnM6IHR5cGVvZiB2YWx1ZS51c2FnZS5wcm9tcHRUb2tlbnMgPT09IFwibnVtYmVyXCIgPyB2YWx1ZS51c2FnZS5wcm9tcHRUb2tlbnMgOiBOdW1iZXIuTmFOLFxuICAgICAgICBjb21wbGV0aW9uVG9rZW5zOiB0eXBlb2YgdmFsdWUudXNhZ2UuY29tcGxldGlvblRva2VucyA9PT0gXCJudW1iZXJcIiA/IHZhbHVlLnVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgOiBOdW1iZXIuTmFOXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoXCJpc0NvbnRpbnVlZFwiIGluIHZhbHVlICYmIHR5cGVvZiB2YWx1ZS5pc0NvbnRpbnVlZCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIHJlc3VsdC5pc0NvbnRpbnVlZCA9IHZhbHVlLmlzQ29udGludWVkO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJmaW5pc2hfc3RlcFwiLFxuICAgICAgdmFsdWU6IHJlc3VsdFxuICAgIH07XG4gIH1cbn07XG52YXIgc3RhcnRTdGVwU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCJmXCIsXG4gIG5hbWU6IFwic3RhcnRfc3RlcFwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICEoXCJtZXNzYWdlSWRcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLm1lc3NhZ2VJZCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJzdGFydF9zdGVwXCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGFuIFwiaWRcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJzdGFydF9zdGVwXCIsXG4gICAgICB2YWx1ZToge1xuICAgICAgICBtZXNzYWdlSWQ6IHZhbHVlLm1lc3NhZ2VJZFxuICAgICAgfVxuICAgIH07XG4gIH1cbn07XG52YXIgcmVhc29uaW5nU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCJnXCIsXG4gIG5hbWU6IFwicmVhc29uaW5nXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wicmVhc29uaW5nXCIgcGFydHMgZXhwZWN0IGEgc3RyaW5nIHZhbHVlLicpO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBcInJlYXNvbmluZ1wiLCB2YWx1ZSB9O1xuICB9XG59O1xudmFyIHNvdXJjZVBhcnQgPSB7XG4gIGNvZGU6IFwiaFwiLFxuICBuYW1lOiBcInNvdXJjZVwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wic291cmNlXCIgcGFydHMgZXhwZWN0IGEgU291cmNlIG9iamVjdC4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwic291cmNlXCIsXG4gICAgICB2YWx1ZVxuICAgIH07XG4gIH1cbn07XG52YXIgcmVkYWN0ZWRSZWFzb25pbmdTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcImlcIixcbiAgbmFtZTogXCJyZWRhY3RlZF9yZWFzb25pbmdcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwiZGF0YVwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUuZGF0YSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJyZWRhY3RlZF9yZWFzb25pbmdcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYSBcImRhdGFcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBcInJlZGFjdGVkX3JlYXNvbmluZ1wiLCB2YWx1ZTogeyBkYXRhOiB2YWx1ZS5kYXRhIH0gfTtcbiAgfVxufTtcbnZhciByZWFzb25pbmdTaWduYXR1cmVTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcImpcIixcbiAgbmFtZTogXCJyZWFzb25pbmdfc2lnbmF0dXJlXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcInNpZ25hdHVyZVwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUuc2lnbmF0dXJlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcInJlYXNvbmluZ19zaWduYXR1cmVcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYSBcInNpZ25hdHVyZVwiIHByb3BlcnR5LidcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcInJlYXNvbmluZ19zaWduYXR1cmVcIixcbiAgICAgIHZhbHVlOiB7IHNpZ25hdHVyZTogdmFsdWUuc2lnbmF0dXJlIH1cbiAgICB9O1xuICB9XG59O1xudmFyIGZpbGVTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcImtcIixcbiAgbmFtZTogXCJmaWxlXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcImRhdGFcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLmRhdGEgIT09IFwic3RyaW5nXCIgfHwgIShcIm1pbWVUeXBlXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS5taW1lVHlwZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJmaWxlXCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGEgXCJkYXRhXCIgYW5kIFwibWltZVR5cGVcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBcImZpbGVcIiwgdmFsdWUgfTtcbiAgfVxufTtcbnZhciBkYXRhU3RyZWFtUGFydHMgPSBbXG4gIHRleHRTdHJlYW1QYXJ0MixcbiAgZGF0YVN0cmVhbVBhcnQsXG4gIGVycm9yU3RyZWFtUGFydDIsXG4gIG1lc3NhZ2VBbm5vdGF0aW9uc1N0cmVhbVBhcnQsXG4gIHRvb2xDYWxsU3RyZWFtUGFydCxcbiAgdG9vbFJlc3VsdFN0cmVhbVBhcnQsXG4gIHRvb2xDYWxsU3RyZWFtaW5nU3RhcnRTdHJlYW1QYXJ0LFxuICB0b29sQ2FsbERlbHRhU3RyZWFtUGFydCxcbiAgZmluaXNoTWVzc2FnZVN0cmVhbVBhcnQsXG4gIGZpbmlzaFN0ZXBTdHJlYW1QYXJ0LFxuICBzdGFydFN0ZXBTdHJlYW1QYXJ0LFxuICByZWFzb25pbmdTdHJlYW1QYXJ0LFxuICBzb3VyY2VQYXJ0LFxuICByZWRhY3RlZFJlYXNvbmluZ1N0cmVhbVBhcnQsXG4gIHJlYXNvbmluZ1NpZ25hdHVyZVN0cmVhbVBhcnQsXG4gIGZpbGVTdHJlYW1QYXJ0XG5dO1xudmFyIGRhdGFTdHJlYW1QYXJ0c0J5Q29kZSA9IE9iamVjdC5mcm9tRW50cmllcyhcbiAgZGF0YVN0cmVhbVBhcnRzLm1hcCgocGFydCkgPT4gW3BhcnQuY29kZSwgcGFydF0pXG4pO1xudmFyIERhdGFTdHJlYW1TdHJpbmdQcmVmaXhlcyA9IE9iamVjdC5mcm9tRW50cmllcyhcbiAgZGF0YVN0cmVhbVBhcnRzLm1hcCgocGFydCkgPT4gW3BhcnQubmFtZSwgcGFydC5jb2RlXSlcbik7XG52YXIgdmFsaWRDb2RlczIgPSBkYXRhU3RyZWFtUGFydHMubWFwKChwYXJ0KSA9PiBwYXJ0LmNvZGUpO1xudmFyIHBhcnNlRGF0YVN0cmVhbVBhcnQgPSAobGluZSkgPT4ge1xuICBjb25zdCBmaXJzdFNlcGFyYXRvckluZGV4ID0gbGluZS5pbmRleE9mKFwiOlwiKTtcbiAgaWYgKGZpcnN0U2VwYXJhdG9ySW5kZXggPT09IC0xKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIHN0cmVhbSBzdHJpbmcuIE5vIHNlcGFyYXRvciBmb3VuZC5cIik7XG4gIH1cbiAgY29uc3QgcHJlZml4ID0gbGluZS5zbGljZSgwLCBmaXJzdFNlcGFyYXRvckluZGV4KTtcbiAgaWYgKCF2YWxpZENvZGVzMi5pbmNsdWRlcyhwcmVmaXgpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gcGFyc2Ugc3RyZWFtIHN0cmluZy4gSW52YWxpZCBjb2RlICR7cHJlZml4fS5gKTtcbiAgfVxuICBjb25zdCBjb2RlID0gcHJlZml4O1xuICBjb25zdCB0ZXh0VmFsdWUgPSBsaW5lLnNsaWNlKGZpcnN0U2VwYXJhdG9ySW5kZXggKyAxKTtcbiAgY29uc3QganNvblZhbHVlID0gSlNPTi5wYXJzZSh0ZXh0VmFsdWUpO1xuICByZXR1cm4gZGF0YVN0cmVhbVBhcnRzQnlDb2RlW2NvZGVdLnBhcnNlKGpzb25WYWx1ZSk7XG59O1xuZnVuY3Rpb24gZm9ybWF0RGF0YVN0cmVhbVBhcnQodHlwZSwgdmFsdWUpIHtcbiAgY29uc3Qgc3RyZWFtUGFydCA9IGRhdGFTdHJlYW1QYXJ0cy5maW5kKChwYXJ0KSA9PiBwYXJ0Lm5hbWUgPT09IHR5cGUpO1xuICBpZiAoIXN0cmVhbVBhcnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgc3RyZWFtIHBhcnQgdHlwZTogJHt0eXBlfWApO1xuICB9XG4gIHJldHVybiBgJHtzdHJlYW1QYXJ0LmNvZGV9OiR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfVxuYDtcbn1cblxuLy8gc3JjL3Byb2Nlc3MtZGF0YS1zdHJlYW0udHNcbnZhciBORVdMSU5FID0gXCJcXG5cIi5jaGFyQ29kZUF0KDApO1xuZnVuY3Rpb24gY29uY2F0Q2h1bmtzKGNodW5rcywgdG90YWxMZW5ndGgpIHtcbiAgY29uc3QgY29uY2F0ZW5hdGVkQ2h1bmtzID0gbmV3IFVpbnQ4QXJyYXkodG90YWxMZW5ndGgpO1xuICBsZXQgb2Zmc2V0ID0gMDtcbiAgZm9yIChjb25zdCBjaHVuayBvZiBjaHVua3MpIHtcbiAgICBjb25jYXRlbmF0ZWRDaHVua3Muc2V0KGNodW5rLCBvZmZzZXQpO1xuICAgIG9mZnNldCArPSBjaHVuay5sZW5ndGg7XG4gIH1cbiAgY2h1bmtzLmxlbmd0aCA9IDA7XG4gIHJldHVybiBjb25jYXRlbmF0ZWRDaHVua3M7XG59XG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzRGF0YVN0cmVhbSh7XG4gIHN0cmVhbSxcbiAgb25UZXh0UGFydCxcbiAgb25SZWFzb25pbmdQYXJ0LFxuICBvblJlYXNvbmluZ1NpZ25hdHVyZVBhcnQsXG4gIG9uUmVkYWN0ZWRSZWFzb25pbmdQYXJ0LFxuICBvblNvdXJjZVBhcnQsXG4gIG9uRmlsZVBhcnQsXG4gIG9uRGF0YVBhcnQsXG4gIG9uRXJyb3JQYXJ0LFxuICBvblRvb2xDYWxsU3RyZWFtaW5nU3RhcnRQYXJ0LFxuICBvblRvb2xDYWxsRGVsdGFQYXJ0LFxuICBvblRvb2xDYWxsUGFydCxcbiAgb25Ub29sUmVzdWx0UGFydCxcbiAgb25NZXNzYWdlQW5ub3RhdGlvbnNQYXJ0LFxuICBvbkZpbmlzaE1lc3NhZ2VQYXJ0LFxuICBvbkZpbmlzaFN0ZXBQYXJ0LFxuICBvblN0YXJ0U3RlcFBhcnRcbn0pIHtcbiAgY29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuICBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG4gIGNvbnN0IGNodW5rcyA9IFtdO1xuICBsZXQgdG90YWxMZW5ndGggPSAwO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIGNvbnN0IHsgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBjaHVua3MucHVzaCh2YWx1ZSk7XG4gICAgICB0b3RhbExlbmd0aCArPSB2YWx1ZS5sZW5ndGg7XG4gICAgICBpZiAodmFsdWVbdmFsdWUubGVuZ3RoIC0gMV0gIT09IE5FV0xJTkUpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjaHVua3MubGVuZ3RoID09PSAwKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY29uc3QgY29uY2F0ZW5hdGVkQ2h1bmtzID0gY29uY2F0Q2h1bmtzKGNodW5rcywgdG90YWxMZW5ndGgpO1xuICAgIHRvdGFsTGVuZ3RoID0gMDtcbiAgICBjb25zdCBzdHJlYW1QYXJ0cyA9IGRlY29kZXIuZGVjb2RlKGNvbmNhdGVuYXRlZENodW5rcywgeyBzdHJlYW06IHRydWUgfSkuc3BsaXQoXCJcXG5cIikuZmlsdGVyKChsaW5lKSA9PiBsaW5lICE9PSBcIlwiKS5tYXAocGFyc2VEYXRhU3RyZWFtUGFydCk7XG4gICAgZm9yIChjb25zdCB7IHR5cGUsIHZhbHVlOiB2YWx1ZTIgfSBvZiBzdHJlYW1QYXJ0cykge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJ0ZXh0XCI6XG4gICAgICAgICAgYXdhaXQgKG9uVGV4dFBhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uVGV4dFBhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJyZWFzb25pbmdcIjpcbiAgICAgICAgICBhd2FpdCAob25SZWFzb25pbmdQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvblJlYXNvbmluZ1BhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJyZWFzb25pbmdfc2lnbmF0dXJlXCI6XG4gICAgICAgICAgYXdhaXQgKG9uUmVhc29uaW5nU2lnbmF0dXJlUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25SZWFzb25pbmdTaWduYXR1cmVQYXJ0KHZhbHVlMikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicmVkYWN0ZWRfcmVhc29uaW5nXCI6XG4gICAgICAgICAgYXdhaXQgKG9uUmVkYWN0ZWRSZWFzb25pbmdQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvblJlZGFjdGVkUmVhc29uaW5nUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImZpbGVcIjpcbiAgICAgICAgICBhd2FpdCAob25GaWxlUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25GaWxlUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInNvdXJjZVwiOlxuICAgICAgICAgIGF3YWl0IChvblNvdXJjZVBhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uU291cmNlUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRhdGFcIjpcbiAgICAgICAgICBhd2FpdCAob25EYXRhUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25EYXRhUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgICAgYXdhaXQgKG9uRXJyb3JQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvbkVycm9yUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm1lc3NhZ2VfYW5ub3RhdGlvbnNcIjpcbiAgICAgICAgICBhd2FpdCAob25NZXNzYWdlQW5ub3RhdGlvbnNQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvbk1lc3NhZ2VBbm5vdGF0aW9uc1BhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0b29sX2NhbGxfc3RyZWFtaW5nX3N0YXJ0XCI6XG4gICAgICAgICAgYXdhaXQgKG9uVG9vbENhbGxTdHJlYW1pbmdTdGFydFBhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uVG9vbENhbGxTdHJlYW1pbmdTdGFydFBhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0b29sX2NhbGxfZGVsdGFcIjpcbiAgICAgICAgICBhd2FpdCAob25Ub29sQ2FsbERlbHRhUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25Ub29sQ2FsbERlbHRhUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInRvb2xfY2FsbFwiOlxuICAgICAgICAgIGF3YWl0IChvblRvb2xDYWxsUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25Ub29sQ2FsbFBhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0b29sX3Jlc3VsdFwiOlxuICAgICAgICAgIGF3YWl0IChvblRvb2xSZXN1bHRQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvblRvb2xSZXN1bHRQYXJ0KHZhbHVlMikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZmluaXNoX21lc3NhZ2VcIjpcbiAgICAgICAgICBhd2FpdCAob25GaW5pc2hNZXNzYWdlUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25GaW5pc2hNZXNzYWdlUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImZpbmlzaF9zdGVwXCI6XG4gICAgICAgICAgYXdhaXQgKG9uRmluaXNoU3RlcFBhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uRmluaXNoU3RlcFBhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzdGFydF9zdGVwXCI6XG4gICAgICAgICAgYXdhaXQgKG9uU3RhcnRTdGVwUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25TdGFydFN0ZXBQYXJ0KHZhbHVlMikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgY29uc3QgZXhoYXVzdGl2ZUNoZWNrID0gdHlwZTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gc3RyZWFtIHBhcnQgdHlwZTogJHtleGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gc3JjL3Byb2Nlc3MtY2hhdC1yZXNwb25zZS50c1xuYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc0NoYXRSZXNwb25zZSh7XG4gIHN0cmVhbSxcbiAgdXBkYXRlLFxuICBvblRvb2xDYWxsLFxuICBvbkZpbmlzaCxcbiAgZ2VuZXJhdGVJZDogZ2VuZXJhdGVJZDIgPSBnZW5lcmF0ZUlkRnVuY3Rpb24sXG4gIGdldEN1cnJlbnREYXRlID0gKCkgPT4gLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCksXG4gIGxhc3RNZXNzYWdlXG59KSB7XG4gIHZhciBfYSwgX2I7XG4gIGNvbnN0IHJlcGxhY2VMYXN0TWVzc2FnZSA9IChsYXN0TWVzc2FnZSA9PSBudWxsID8gdm9pZCAwIDogbGFzdE1lc3NhZ2Uucm9sZSkgPT09IFwiYXNzaXN0YW50XCI7XG4gIGxldCBzdGVwID0gcmVwbGFjZUxhc3RNZXNzYWdlID8gMSArIC8vIGZpbmQgbWF4IHN0ZXAgaW4gZXhpc3RpbmcgdG9vbCBpbnZvY2F0aW9uczpcbiAgKChfYiA9IChfYSA9IGxhc3RNZXNzYWdlLnRvb2xJbnZvY2F0aW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnJlZHVjZSgobWF4LCB0b29sSW52b2NhdGlvbikgPT4ge1xuICAgIHZhciBfYTI7XG4gICAgcmV0dXJuIE1hdGgubWF4KG1heCwgKF9hMiA9IHRvb2xJbnZvY2F0aW9uLnN0ZXApICE9IG51bGwgPyBfYTIgOiAwKTtcbiAgfSwgMCkpICE9IG51bGwgPyBfYiA6IDApIDogMDtcbiAgY29uc3QgbWVzc2FnZSA9IHJlcGxhY2VMYXN0TWVzc2FnZSA/IHN0cnVjdHVyZWRDbG9uZShsYXN0TWVzc2FnZSkgOiB7XG4gICAgaWQ6IGdlbmVyYXRlSWQyKCksXG4gICAgY3JlYXRlZEF0OiBnZXRDdXJyZW50RGF0ZSgpLFxuICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgY29udGVudDogXCJcIixcbiAgICBwYXJ0czogW11cbiAgfTtcbiAgbGV0IGN1cnJlbnRUZXh0UGFydCA9IHZvaWQgMDtcbiAgbGV0IGN1cnJlbnRSZWFzb25pbmdQYXJ0ID0gdm9pZCAwO1xuICBsZXQgY3VycmVudFJlYXNvbmluZ1RleHREZXRhaWwgPSB2b2lkIDA7XG4gIGZ1bmN0aW9uIHVwZGF0ZVRvb2xJbnZvY2F0aW9uUGFydCh0b29sQ2FsbElkLCBpbnZvY2F0aW9uKSB7XG4gICAgY29uc3QgcGFydCA9IG1lc3NhZ2UucGFydHMuZmluZChcbiAgICAgIChwYXJ0MikgPT4gcGFydDIudHlwZSA9PT0gXCJ0b29sLWludm9jYXRpb25cIiAmJiBwYXJ0Mi50b29sSW52b2NhdGlvbi50b29sQ2FsbElkID09PSB0b29sQ2FsbElkXG4gICAgKTtcbiAgICBpZiAocGFydCAhPSBudWxsKSB7XG4gICAgICBwYXJ0LnRvb2xJbnZvY2F0aW9uID0gaW52b2NhdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgbWVzc2FnZS5wYXJ0cy5wdXNoKHtcbiAgICAgICAgdHlwZTogXCJ0b29sLWludm9jYXRpb25cIixcbiAgICAgICAgdG9vbEludm9jYXRpb246IGludm9jYXRpb25cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBjb25zdCBkYXRhID0gW107XG4gIGxldCBtZXNzYWdlQW5ub3RhdGlvbnMgPSByZXBsYWNlTGFzdE1lc3NhZ2UgPyBsYXN0TWVzc2FnZSA9PSBudWxsID8gdm9pZCAwIDogbGFzdE1lc3NhZ2UuYW5ub3RhdGlvbnMgOiB2b2lkIDA7XG4gIGNvbnN0IHBhcnRpYWxUb29sQ2FsbHMgPSB7fTtcbiAgbGV0IHVzYWdlID0ge1xuICAgIGNvbXBsZXRpb25Ub2tlbnM6IE5hTixcbiAgICBwcm9tcHRUb2tlbnM6IE5hTixcbiAgICB0b3RhbFRva2VuczogTmFOXG4gIH07XG4gIGxldCBmaW5pc2hSZWFzb24gPSBcInVua25vd25cIjtcbiAgZnVuY3Rpb24gZXhlY1VwZGF0ZSgpIHtcbiAgICBjb25zdCBjb3BpZWREYXRhID0gWy4uLmRhdGFdO1xuICAgIGlmIChtZXNzYWdlQW5ub3RhdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG1lc3NhZ2VBbm5vdGF0aW9ucy5sZW5ndGgpIHtcbiAgICAgIG1lc3NhZ2UuYW5ub3RhdGlvbnMgPSBtZXNzYWdlQW5ub3RhdGlvbnM7XG4gICAgfVxuICAgIGNvbnN0IGNvcGllZE1lc3NhZ2UgPSB7XG4gICAgICAvLyBkZWVwIGNvcHkgdGhlIG1lc3NhZ2UgdG8gZW5zdXJlIHRoYXQgZGVlcCBjaGFuZ2VzIChtc2cgYXR0YWNobWVudHMpIGFyZSB1cGRhdGVkXG4gICAgICAvLyB3aXRoIFNvbGlkSlMuIFNvbGlkSlMgdXNlcyByZWZlcmVudGlhbCBpbnRlZ3JhdGlvbiBvZiBzdWItb2JqZWN0cyB0byBkZXRlY3QgY2hhbmdlcy5cbiAgICAgIC4uLnN0cnVjdHVyZWRDbG9uZShtZXNzYWdlKSxcbiAgICAgIC8vIGFkZCBhIHJldmlzaW9uIGlkIHRvIGVuc3VyZSB0aGF0IHRoZSBtZXNzYWdlIGlzIHVwZGF0ZWQgd2l0aCBTV1IuIFNXUiB1c2VzIGFcbiAgICAgIC8vIGhhc2hpbmcgYXBwcm9hY2ggYnkgZGVmYXVsdCB0byBkZXRlY3QgY2hhbmdlcywgYnV0IGl0IG9ubHkgd29ya3MgZm9yIHNoYWxsb3dcbiAgICAgIC8vIGNoYW5nZXMuIFRoaXMgaXMgd2h5IHdlIG5lZWQgdG8gYWRkIGEgcmV2aXNpb24gaWQgdG8gZW5zdXJlIHRoYXQgdGhlIG1lc3NhZ2VcbiAgICAgIC8vIGlzIHVwZGF0ZWQgd2l0aCBTV1IgKHdpdGhvdXQgaXQsIHRoZSBjaGFuZ2VzIGdldCBzdHVjayBpbiBTV1IgYW5kIGFyZSBub3RcbiAgICAgIC8vIGZvcndhcmRlZCB0byByZW5kZXJpbmcpOlxuICAgICAgcmV2aXNpb25JZDogZ2VuZXJhdGVJZDIoKVxuICAgIH07XG4gICAgdXBkYXRlKHtcbiAgICAgIG1lc3NhZ2U6IGNvcGllZE1lc3NhZ2UsXG4gICAgICBkYXRhOiBjb3BpZWREYXRhLFxuICAgICAgcmVwbGFjZUxhc3RNZXNzYWdlXG4gICAgfSk7XG4gIH1cbiAgYXdhaXQgcHJvY2Vzc0RhdGFTdHJlYW0oe1xuICAgIHN0cmVhbSxcbiAgICBvblRleHRQYXJ0KHZhbHVlKSB7XG4gICAgICBpZiAoY3VycmVudFRleHRQYXJ0ID09IG51bGwpIHtcbiAgICAgICAgY3VycmVudFRleHRQYXJ0ID0ge1xuICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgIHRleHQ6IHZhbHVlXG4gICAgICAgIH07XG4gICAgICAgIG1lc3NhZ2UucGFydHMucHVzaChjdXJyZW50VGV4dFBhcnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudFRleHRQYXJ0LnRleHQgKz0gdmFsdWU7XG4gICAgICB9XG4gICAgICBtZXNzYWdlLmNvbnRlbnQgKz0gdmFsdWU7XG4gICAgICBleGVjVXBkYXRlKCk7XG4gICAgfSxcbiAgICBvblJlYXNvbmluZ1BhcnQodmFsdWUpIHtcbiAgICAgIHZhciBfYTI7XG4gICAgICBpZiAoY3VycmVudFJlYXNvbmluZ1RleHREZXRhaWwgPT0gbnVsbCkge1xuICAgICAgICBjdXJyZW50UmVhc29uaW5nVGV4dERldGFpbCA9IHsgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IHZhbHVlIH07XG4gICAgICAgIGlmIChjdXJyZW50UmVhc29uaW5nUGFydCAhPSBudWxsKSB7XG4gICAgICAgICAgY3VycmVudFJlYXNvbmluZ1BhcnQuZGV0YWlscy5wdXNoKGN1cnJlbnRSZWFzb25pbmdUZXh0RGV0YWlsKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudFJlYXNvbmluZ1RleHREZXRhaWwudGV4dCArPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50UmVhc29uaW5nUGFydCA9PSBudWxsKSB7XG4gICAgICAgIGN1cnJlbnRSZWFzb25pbmdQYXJ0ID0ge1xuICAgICAgICAgIHR5cGU6IFwicmVhc29uaW5nXCIsXG4gICAgICAgICAgcmVhc29uaW5nOiB2YWx1ZSxcbiAgICAgICAgICBkZXRhaWxzOiBbY3VycmVudFJlYXNvbmluZ1RleHREZXRhaWxdXG4gICAgICAgIH07XG4gICAgICAgIG1lc3NhZ2UucGFydHMucHVzaChjdXJyZW50UmVhc29uaW5nUGFydCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50UmVhc29uaW5nUGFydC5yZWFzb25pbmcgKz0gdmFsdWU7XG4gICAgICB9XG4gICAgICBtZXNzYWdlLnJlYXNvbmluZyA9ICgoX2EyID0gbWVzc2FnZS5yZWFzb25pbmcpICE9IG51bGwgPyBfYTIgOiBcIlwiKSArIHZhbHVlO1xuICAgICAgZXhlY1VwZGF0ZSgpO1xuICAgIH0sXG4gICAgb25SZWFzb25pbmdTaWduYXR1cmVQYXJ0KHZhbHVlKSB7XG4gICAgICBpZiAoY3VycmVudFJlYXNvbmluZ1RleHREZXRhaWwgIT0gbnVsbCkge1xuICAgICAgICBjdXJyZW50UmVhc29uaW5nVGV4dERldGFpbC5zaWduYXR1cmUgPSB2YWx1ZS5zaWduYXR1cmU7XG4gICAgICB9XG4gICAgfSxcbiAgICBvblJlZGFjdGVkUmVhc29uaW5nUGFydCh2YWx1ZSkge1xuICAgICAgaWYgKGN1cnJlbnRSZWFzb25pbmdQYXJ0ID09IG51bGwpIHtcbiAgICAgICAgY3VycmVudFJlYXNvbmluZ1BhcnQgPSB7XG4gICAgICAgICAgdHlwZTogXCJyZWFzb25pbmdcIixcbiAgICAgICAgICByZWFzb25pbmc6IFwiXCIsXG4gICAgICAgICAgZGV0YWlsczogW11cbiAgICAgICAgfTtcbiAgICAgICAgbWVzc2FnZS5wYXJ0cy5wdXNoKGN1cnJlbnRSZWFzb25pbmdQYXJ0KTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRSZWFzb25pbmdQYXJ0LmRldGFpbHMucHVzaCh7XG4gICAgICAgIHR5cGU6IFwicmVkYWN0ZWRcIixcbiAgICAgICAgZGF0YTogdmFsdWUuZGF0YVxuICAgICAgfSk7XG4gICAgICBjdXJyZW50UmVhc29uaW5nVGV4dERldGFpbCA9IHZvaWQgMDtcbiAgICAgIGV4ZWNVcGRhdGUoKTtcbiAgICB9LFxuICAgIG9uRmlsZVBhcnQodmFsdWUpIHtcbiAgICAgIG1lc3NhZ2UucGFydHMucHVzaCh7XG4gICAgICAgIHR5cGU6IFwiZmlsZVwiLFxuICAgICAgICBtaW1lVHlwZTogdmFsdWUubWltZVR5cGUsXG4gICAgICAgIGRhdGE6IHZhbHVlLmRhdGFcbiAgICAgIH0pO1xuICAgICAgZXhlY1VwZGF0ZSgpO1xuICAgIH0sXG4gICAgb25Tb3VyY2VQYXJ0KHZhbHVlKSB7XG4gICAgICBtZXNzYWdlLnBhcnRzLnB1c2goe1xuICAgICAgICB0eXBlOiBcInNvdXJjZVwiLFxuICAgICAgICBzb3VyY2U6IHZhbHVlXG4gICAgICB9KTtcbiAgICAgIGV4ZWNVcGRhdGUoKTtcbiAgICB9LFxuICAgIG9uVG9vbENhbGxTdHJlYW1pbmdTdGFydFBhcnQodmFsdWUpIHtcbiAgICAgIGlmIChtZXNzYWdlLnRvb2xJbnZvY2F0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgIG1lc3NhZ2UudG9vbEludm9jYXRpb25zID0gW107XG4gICAgICB9XG4gICAgICBwYXJ0aWFsVG9vbENhbGxzW3ZhbHVlLnRvb2xDYWxsSWRdID0ge1xuICAgICAgICB0ZXh0OiBcIlwiLFxuICAgICAgICBzdGVwLFxuICAgICAgICB0b29sTmFtZTogdmFsdWUudG9vbE5hbWUsXG4gICAgICAgIGluZGV4OiBtZXNzYWdlLnRvb2xJbnZvY2F0aW9ucy5sZW5ndGhcbiAgICAgIH07XG4gICAgICBjb25zdCBpbnZvY2F0aW9uID0ge1xuICAgICAgICBzdGF0ZTogXCJwYXJ0aWFsLWNhbGxcIixcbiAgICAgICAgc3RlcCxcbiAgICAgICAgdG9vbENhbGxJZDogdmFsdWUudG9vbENhbGxJZCxcbiAgICAgICAgdG9vbE5hbWU6IHZhbHVlLnRvb2xOYW1lLFxuICAgICAgICBhcmdzOiB2b2lkIDBcbiAgICAgIH07XG4gICAgICBtZXNzYWdlLnRvb2xJbnZvY2F0aW9ucy5wdXNoKGludm9jYXRpb24pO1xuICAgICAgdXBkYXRlVG9vbEludm9jYXRpb25QYXJ0KHZhbHVlLnRvb2xDYWxsSWQsIGludm9jYXRpb24pO1xuICAgICAgZXhlY1VwZGF0ZSgpO1xuICAgIH0sXG4gICAgb25Ub29sQ2FsbERlbHRhUGFydCh2YWx1ZSkge1xuICAgICAgY29uc3QgcGFydGlhbFRvb2xDYWxsID0gcGFydGlhbFRvb2xDYWxsc1t2YWx1ZS50b29sQ2FsbElkXTtcbiAgICAgIHBhcnRpYWxUb29sQ2FsbC50ZXh0ICs9IHZhbHVlLmFyZ3NUZXh0RGVsdGE7XG4gICAgICBjb25zdCB7IHZhbHVlOiBwYXJ0aWFsQXJncyB9ID0gcGFyc2VQYXJ0aWFsSnNvbihwYXJ0aWFsVG9vbENhbGwudGV4dCk7XG4gICAgICBjb25zdCBpbnZvY2F0aW9uID0ge1xuICAgICAgICBzdGF0ZTogXCJwYXJ0aWFsLWNhbGxcIixcbiAgICAgICAgc3RlcDogcGFydGlhbFRvb2xDYWxsLnN0ZXAsXG4gICAgICAgIHRvb2xDYWxsSWQ6IHZhbHVlLnRvb2xDYWxsSWQsXG4gICAgICAgIHRvb2xOYW1lOiBwYXJ0aWFsVG9vbENhbGwudG9vbE5hbWUsXG4gICAgICAgIGFyZ3M6IHBhcnRpYWxBcmdzXG4gICAgICB9O1xuICAgICAgbWVzc2FnZS50b29sSW52b2NhdGlvbnNbcGFydGlhbFRvb2xDYWxsLmluZGV4XSA9IGludm9jYXRpb247XG4gICAgICB1cGRhdGVUb29sSW52b2NhdGlvblBhcnQodmFsdWUudG9vbENhbGxJZCwgaW52b2NhdGlvbik7XG4gICAgICBleGVjVXBkYXRlKCk7XG4gICAgfSxcbiAgICBhc3luYyBvblRvb2xDYWxsUGFydCh2YWx1ZSkge1xuICAgICAgY29uc3QgaW52b2NhdGlvbiA9IHtcbiAgICAgICAgc3RhdGU6IFwiY2FsbFwiLFxuICAgICAgICBzdGVwLFxuICAgICAgICAuLi52YWx1ZVxuICAgICAgfTtcbiAgICAgIGlmIChwYXJ0aWFsVG9vbENhbGxzW3ZhbHVlLnRvb2xDYWxsSWRdICE9IG51bGwpIHtcbiAgICAgICAgbWVzc2FnZS50b29sSW52b2NhdGlvbnNbcGFydGlhbFRvb2xDYWxsc1t2YWx1ZS50b29sQ2FsbElkXS5pbmRleF0gPSBpbnZvY2F0aW9uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudG9vbEludm9jYXRpb25zID09IG51bGwpIHtcbiAgICAgICAgICBtZXNzYWdlLnRvb2xJbnZvY2F0aW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIG1lc3NhZ2UudG9vbEludm9jYXRpb25zLnB1c2goaW52b2NhdGlvbik7XG4gICAgICB9XG4gICAgICB1cGRhdGVUb29sSW52b2NhdGlvblBhcnQodmFsdWUudG9vbENhbGxJZCwgaW52b2NhdGlvbik7XG4gICAgICBleGVjVXBkYXRlKCk7XG4gICAgICBpZiAob25Ub29sQ2FsbCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBvblRvb2xDYWxsKHsgdG9vbENhbGw6IHZhbHVlIH0pO1xuICAgICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgICBjb25zdCBpbnZvY2F0aW9uMiA9IHtcbiAgICAgICAgICAgIHN0YXRlOiBcInJlc3VsdFwiLFxuICAgICAgICAgICAgc3RlcCxcbiAgICAgICAgICAgIC4uLnZhbHVlLFxuICAgICAgICAgICAgcmVzdWx0XG4gICAgICAgICAgfTtcbiAgICAgICAgICBtZXNzYWdlLnRvb2xJbnZvY2F0aW9uc1ttZXNzYWdlLnRvb2xJbnZvY2F0aW9ucy5sZW5ndGggLSAxXSA9IGludm9jYXRpb24yO1xuICAgICAgICAgIHVwZGF0ZVRvb2xJbnZvY2F0aW9uUGFydCh2YWx1ZS50b29sQ2FsbElkLCBpbnZvY2F0aW9uMik7XG4gICAgICAgICAgZXhlY1VwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBvblRvb2xSZXN1bHRQYXJ0KHZhbHVlKSB7XG4gICAgICBjb25zdCB0b29sSW52b2NhdGlvbnMgPSBtZXNzYWdlLnRvb2xJbnZvY2F0aW9ucztcbiAgICAgIGlmICh0b29sSW52b2NhdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0b29sX3Jlc3VsdCBtdXN0IGJlIHByZWNlZGVkIGJ5IGEgdG9vbF9jYWxsXCIpO1xuICAgICAgfVxuICAgICAgY29uc3QgdG9vbEludm9jYXRpb25JbmRleCA9IHRvb2xJbnZvY2F0aW9ucy5maW5kSW5kZXgoXG4gICAgICAgIChpbnZvY2F0aW9uMikgPT4gaW52b2NhdGlvbjIudG9vbENhbGxJZCA9PT0gdmFsdWUudG9vbENhbGxJZFxuICAgICAgKTtcbiAgICAgIGlmICh0b29sSW52b2NhdGlvbkluZGV4ID09PSAtMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJ0b29sX3Jlc3VsdCBtdXN0IGJlIHByZWNlZGVkIGJ5IGEgdG9vbF9jYWxsIHdpdGggdGhlIHNhbWUgdG9vbENhbGxJZFwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCBpbnZvY2F0aW9uID0ge1xuICAgICAgICAuLi50b29sSW52b2NhdGlvbnNbdG9vbEludm9jYXRpb25JbmRleF0sXG4gICAgICAgIHN0YXRlOiBcInJlc3VsdFwiLFxuICAgICAgICAuLi52YWx1ZVxuICAgICAgfTtcbiAgICAgIHRvb2xJbnZvY2F0aW9uc1t0b29sSW52b2NhdGlvbkluZGV4XSA9IGludm9jYXRpb247XG4gICAgICB1cGRhdGVUb29sSW52b2NhdGlvblBhcnQodmFsdWUudG9vbENhbGxJZCwgaW52b2NhdGlvbik7XG4gICAgICBleGVjVXBkYXRlKCk7XG4gICAgfSxcbiAgICBvbkRhdGFQYXJ0KHZhbHVlKSB7XG4gICAgICBkYXRhLnB1c2goLi4udmFsdWUpO1xuICAgICAgZXhlY1VwZGF0ZSgpO1xuICAgIH0sXG4gICAgb25NZXNzYWdlQW5ub3RhdGlvbnNQYXJ0KHZhbHVlKSB7XG4gICAgICBpZiAobWVzc2FnZUFubm90YXRpb25zID09IG51bGwpIHtcbiAgICAgICAgbWVzc2FnZUFubm90YXRpb25zID0gWy4uLnZhbHVlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1lc3NhZ2VBbm5vdGF0aW9ucy5wdXNoKC4uLnZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGV4ZWNVcGRhdGUoKTtcbiAgICB9LFxuICAgIG9uRmluaXNoU3RlcFBhcnQodmFsdWUpIHtcbiAgICAgIHN0ZXAgKz0gMTtcbiAgICAgIGN1cnJlbnRUZXh0UGFydCA9IHZhbHVlLmlzQ29udGludWVkID8gY3VycmVudFRleHRQYXJ0IDogdm9pZCAwO1xuICAgICAgY3VycmVudFJlYXNvbmluZ1BhcnQgPSB2b2lkIDA7XG4gICAgICBjdXJyZW50UmVhc29uaW5nVGV4dERldGFpbCA9IHZvaWQgMDtcbiAgICB9LFxuICAgIG9uU3RhcnRTdGVwUGFydCh2YWx1ZSkge1xuICAgICAgaWYgKCFyZXBsYWNlTGFzdE1lc3NhZ2UpIHtcbiAgICAgICAgbWVzc2FnZS5pZCA9IHZhbHVlLm1lc3NhZ2VJZDtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uRmluaXNoTWVzc2FnZVBhcnQodmFsdWUpIHtcbiAgICAgIGZpbmlzaFJlYXNvbiA9IHZhbHVlLmZpbmlzaFJlYXNvbjtcbiAgICAgIGlmICh2YWx1ZS51c2FnZSAhPSBudWxsKSB7XG4gICAgICAgIHVzYWdlID0gY2FsY3VsYXRlTGFuZ3VhZ2VNb2RlbFVzYWdlKHZhbHVlLnVzYWdlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uRXJyb3JQYXJ0KGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgfSk7XG4gIG9uRmluaXNoID09IG51bGwgPyB2b2lkIDAgOiBvbkZpbmlzaCh7IG1lc3NhZ2UsIGZpbmlzaFJlYXNvbiwgdXNhZ2UgfSk7XG59XG5cbi8vIHNyYy9wcm9jZXNzLWNoYXQtdGV4dC1yZXNwb25zZS50c1xuaW1wb3J0IHsgZ2VuZXJhdGVJZCBhcyBnZW5lcmF0ZUlkRnVuY3Rpb24yIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXItdXRpbHNcIjtcblxuLy8gc3JjL3Byb2Nlc3MtdGV4dC1zdHJlYW0udHNcbmFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NUZXh0U3RyZWFtKHtcbiAgc3RyZWFtLFxuICBvblRleHRQYXJ0XG59KSB7XG4gIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5waXBlVGhyb3VnaChuZXcgVGV4dERlY29kZXJTdHJlYW0oKSkuZ2V0UmVhZGVyKCk7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICBpZiAoZG9uZSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGF3YWl0IG9uVGV4dFBhcnQodmFsdWUpO1xuICB9XG59XG5cbi8vIHNyYy9wcm9jZXNzLWNoYXQtdGV4dC1yZXNwb25zZS50c1xuYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc0NoYXRUZXh0UmVzcG9uc2Uoe1xuICBzdHJlYW0sXG4gIHVwZGF0ZSxcbiAgb25GaW5pc2gsXG4gIGdldEN1cnJlbnREYXRlID0gKCkgPT4gLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCksXG4gIGdlbmVyYXRlSWQ6IGdlbmVyYXRlSWQyID0gZ2VuZXJhdGVJZEZ1bmN0aW9uMlxufSkge1xuICBjb25zdCB0ZXh0UGFydCA9IHsgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IFwiXCIgfTtcbiAgY29uc3QgcmVzdWx0TWVzc2FnZSA9IHtcbiAgICBpZDogZ2VuZXJhdGVJZDIoKSxcbiAgICBjcmVhdGVkQXQ6IGdldEN1cnJlbnREYXRlKCksXG4gICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICBjb250ZW50OiBcIlwiLFxuICAgIHBhcnRzOiBbdGV4dFBhcnRdXG4gIH07XG4gIGF3YWl0IHByb2Nlc3NUZXh0U3RyZWFtKHtcbiAgICBzdHJlYW0sXG4gICAgb25UZXh0UGFydDogKGNodW5rKSA9PiB7XG4gICAgICByZXN1bHRNZXNzYWdlLmNvbnRlbnQgKz0gY2h1bms7XG4gICAgICB0ZXh0UGFydC50ZXh0ICs9IGNodW5rO1xuICAgICAgdXBkYXRlKHtcbiAgICAgICAgbWVzc2FnZTogeyAuLi5yZXN1bHRNZXNzYWdlIH0sXG4gICAgICAgIGRhdGE6IFtdLFxuICAgICAgICByZXBsYWNlTGFzdE1lc3NhZ2U6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICBvbkZpbmlzaCA9PSBudWxsID8gdm9pZCAwIDogb25GaW5pc2gocmVzdWx0TWVzc2FnZSwge1xuICAgIHVzYWdlOiB7IGNvbXBsZXRpb25Ub2tlbnM6IE5hTiwgcHJvbXB0VG9rZW5zOiBOYU4sIHRvdGFsVG9rZW5zOiBOYU4gfSxcbiAgICBmaW5pc2hSZWFzb246IFwidW5rbm93blwiXG4gIH0pO1xufVxuXG4vLyBzcmMvY2FsbC1jaGF0LWFwaS50c1xudmFyIGdldE9yaWdpbmFsRmV0Y2ggPSAoKSA9PiBmZXRjaDtcbmFzeW5jIGZ1bmN0aW9uIGNhbGxDaGF0QXBpKHtcbiAgYXBpLFxuICBib2R5LFxuICBzdHJlYW1Qcm90b2NvbCA9IFwiZGF0YVwiLFxuICBjcmVkZW50aWFscyxcbiAgaGVhZGVycyxcbiAgYWJvcnRDb250cm9sbGVyLFxuICByZXN0b3JlTWVzc2FnZXNPbkZhaWx1cmUsXG4gIG9uUmVzcG9uc2UsXG4gIG9uVXBkYXRlLFxuICBvbkZpbmlzaCxcbiAgb25Ub29sQ2FsbCxcbiAgZ2VuZXJhdGVJZDogZ2VuZXJhdGVJZDIsXG4gIGZldGNoOiBmZXRjaDIgPSBnZXRPcmlnaW5hbEZldGNoKCksXG4gIGxhc3RNZXNzYWdlXG59KSB7XG4gIHZhciBfYSwgX2I7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gyKGFwaSwge1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgaGVhZGVyczoge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAuLi5oZWFkZXJzXG4gICAgfSxcbiAgICBzaWduYWw6IChfYSA9IGFib3J0Q29udHJvbGxlciA9PSBudWxsID8gdm9pZCAwIDogYWJvcnRDb250cm9sbGVyKCkpID09IG51bGwgPyB2b2lkIDAgOiBfYS5zaWduYWwsXG4gICAgY3JlZGVudGlhbHNcbiAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgIHJlc3RvcmVNZXNzYWdlc09uRmFpbHVyZSgpO1xuICAgIHRocm93IGVycjtcbiAgfSk7XG4gIGlmIChvblJlc3BvbnNlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IG9uUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgcmVzdG9yZU1lc3NhZ2VzT25GYWlsdXJlKCk7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgKF9iID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpKSAhPSBudWxsID8gX2IgOiBcIkZhaWxlZCB0byBmZXRjaCB0aGUgY2hhdCByZXNwb25zZS5cIlxuICAgICk7XG4gIH1cbiAgaWYgKCFyZXNwb25zZS5ib2R5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHJlc3BvbnNlIGJvZHkgaXMgZW1wdHkuXCIpO1xuICB9XG4gIHN3aXRjaCAoc3RyZWFtUHJvdG9jb2wpIHtcbiAgICBjYXNlIFwidGV4dFwiOiB7XG4gICAgICBhd2FpdCBwcm9jZXNzQ2hhdFRleHRSZXNwb25zZSh7XG4gICAgICAgIHN0cmVhbTogcmVzcG9uc2UuYm9keSxcbiAgICAgICAgdXBkYXRlOiBvblVwZGF0ZSxcbiAgICAgICAgb25GaW5pc2gsXG4gICAgICAgIGdlbmVyYXRlSWQ6IGdlbmVyYXRlSWQyXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2FzZSBcImRhdGFcIjoge1xuICAgICAgYXdhaXQgcHJvY2Vzc0NoYXRSZXNwb25zZSh7XG4gICAgICAgIHN0cmVhbTogcmVzcG9uc2UuYm9keSxcbiAgICAgICAgdXBkYXRlOiBvblVwZGF0ZSxcbiAgICAgICAgbGFzdE1lc3NhZ2UsXG4gICAgICAgIG9uVG9vbENhbGwsXG4gICAgICAgIG9uRmluaXNoKHsgbWVzc2FnZSwgZmluaXNoUmVhc29uLCB1c2FnZSB9KSB7XG4gICAgICAgICAgaWYgKG9uRmluaXNoICYmIG1lc3NhZ2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgb25GaW5pc2gobWVzc2FnZSwgeyB1c2FnZSwgZmluaXNoUmVhc29uIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2VuZXJhdGVJZDogZ2VuZXJhdGVJZDJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkZWZhdWx0OiB7XG4gICAgICBjb25zdCBleGhhdXN0aXZlQ2hlY2sgPSBzdHJlYW1Qcm90b2NvbDtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBzdHJlYW0gcHJvdG9jb2w6ICR7ZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgIH1cbiAgfVxufVxuXG4vLyBzcmMvY2FsbC1jb21wbGV0aW9uLWFwaS50c1xudmFyIGdldE9yaWdpbmFsRmV0Y2gyID0gKCkgPT4gZmV0Y2g7XG5hc3luYyBmdW5jdGlvbiBjYWxsQ29tcGxldGlvbkFwaSh7XG4gIGFwaSxcbiAgcHJvbXB0LFxuICBjcmVkZW50aWFscyxcbiAgaGVhZGVycyxcbiAgYm9keSxcbiAgc3RyZWFtUHJvdG9jb2wgPSBcImRhdGFcIixcbiAgc2V0Q29tcGxldGlvbixcbiAgc2V0TG9hZGluZyxcbiAgc2V0RXJyb3IsXG4gIHNldEFib3J0Q29udHJvbGxlcixcbiAgb25SZXNwb25zZSxcbiAgb25GaW5pc2gsXG4gIG9uRXJyb3IsXG4gIG9uRGF0YSxcbiAgZmV0Y2g6IGZldGNoMiA9IGdldE9yaWdpbmFsRmV0Y2gyKClcbn0pIHtcbiAgdmFyIF9hO1xuICB0cnkge1xuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3Iodm9pZCAwKTtcbiAgICBjb25zdCBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgc2V0QWJvcnRDb250cm9sbGVyKGFib3J0Q29udHJvbGxlcik7XG4gICAgc2V0Q29tcGxldGlvbihcIlwiKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoMihhcGksIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHByb21wdCxcbiAgICAgICAgLi4uYm9keVxuICAgICAgfSksXG4gICAgICBjcmVkZW50aWFscyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIC4uLmhlYWRlcnNcbiAgICAgIH0sXG4gICAgICBzaWduYWw6IGFib3J0Q29udHJvbGxlci5zaWduYWxcbiAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSk7XG4gICAgaWYgKG9uUmVzcG9uc2UpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IG9uUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAoX2EgPSBhd2FpdCByZXNwb25zZS50ZXh0KCkpICE9IG51bGwgPyBfYSA6IFwiRmFpbGVkIHRvIGZldGNoIHRoZSBjaGF0IHJlc3BvbnNlLlwiXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIXJlc3BvbnNlLmJvZHkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSByZXNwb25zZSBib2R5IGlzIGVtcHR5LlwiKTtcbiAgICB9XG4gICAgbGV0IHJlc3VsdCA9IFwiXCI7XG4gICAgc3dpdGNoIChzdHJlYW1Qcm90b2NvbCkge1xuICAgICAgY2FzZSBcInRleHRcIjoge1xuICAgICAgICBhd2FpdCBwcm9jZXNzVGV4dFN0cmVhbSh7XG4gICAgICAgICAgc3RyZWFtOiByZXNwb25zZS5ib2R5LFxuICAgICAgICAgIG9uVGV4dFBhcnQ6IChjaHVuaykgPT4ge1xuICAgICAgICAgICAgcmVzdWx0ICs9IGNodW5rO1xuICAgICAgICAgICAgc2V0Q29tcGxldGlvbihyZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcImRhdGFcIjoge1xuICAgICAgICBhd2FpdCBwcm9jZXNzRGF0YVN0cmVhbSh7XG4gICAgICAgICAgc3RyZWFtOiByZXNwb25zZS5ib2R5LFxuICAgICAgICAgIG9uVGV4dFBhcnQodmFsdWUpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSB2YWx1ZTtcbiAgICAgICAgICAgIHNldENvbXBsZXRpb24ocmVzdWx0KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uRGF0YVBhcnQodmFsdWUpIHtcbiAgICAgICAgICAgIG9uRGF0YSA9PSBudWxsID8gdm9pZCAwIDogb25EYXRhKHZhbHVlKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uRXJyb3JQYXJ0KHZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IodmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBjb25zdCBleGhhdXN0aXZlQ2hlY2sgPSBzdHJlYW1Qcm90b2NvbDtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHN0cmVhbSBwcm90b2NvbDogJHtleGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChvbkZpbmlzaCkge1xuICAgICAgb25GaW5pc2gocHJvbXB0LCByZXN1bHQpO1xuICAgIH1cbiAgICBzZXRBYm9ydENvbnRyb2xsZXIobnVsbCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgaWYgKGVyci5uYW1lID09PSBcIkFib3J0RXJyb3JcIikge1xuICAgICAgc2V0QWJvcnRDb250cm9sbGVyKG51bGwpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgICAgb25FcnJvcihlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRFcnJvcihlcnIpO1xuICB9IGZpbmFsbHkge1xuICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICB9XG59XG5cbi8vIHNyYy9kYXRhLXVybC50c1xuZnVuY3Rpb24gZ2V0VGV4dEZyb21EYXRhVXJsKGRhdGFVcmwpIHtcbiAgY29uc3QgW2hlYWRlciwgYmFzZTY0Q29udGVudF0gPSBkYXRhVXJsLnNwbGl0KFwiLFwiKTtcbiAgY29uc3QgbWltZVR5cGUgPSBoZWFkZXIuc3BsaXQoXCI7XCIpWzBdLnNwbGl0KFwiOlwiKVsxXTtcbiAgaWYgKG1pbWVUeXBlID09IG51bGwgfHwgYmFzZTY0Q29udGVudCA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBkYXRhIFVSTCBmb3JtYXRcIik7XG4gIH1cbiAgdHJ5IHtcbiAgICByZXR1cm4gd2luZG93LmF0b2IoYmFzZTY0Q29udGVudCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBkZWNvZGluZyBkYXRhIFVSTGApO1xuICB9XG59XG5cbi8vIHNyYy9leHRyYWN0LW1heC10b29sLWludm9jYXRpb24tc3RlcC50c1xuZnVuY3Rpb24gZXh0cmFjdE1heFRvb2xJbnZvY2F0aW9uU3RlcCh0b29sSW52b2NhdGlvbnMpIHtcbiAgcmV0dXJuIHRvb2xJbnZvY2F0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogdG9vbEludm9jYXRpb25zLnJlZHVjZSgobWF4LCB0b29sSW52b2NhdGlvbikgPT4ge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gTWF0aC5tYXgobWF4LCAoX2EgPSB0b29sSW52b2NhdGlvbi5zdGVwKSAhPSBudWxsID8gX2EgOiAwKTtcbiAgfSwgMCk7XG59XG5cbi8vIHNyYy9nZXQtbWVzc2FnZS1wYXJ0cy50c1xuZnVuY3Rpb24gZ2V0TWVzc2FnZVBhcnRzKG1lc3NhZ2UpIHtcbiAgdmFyIF9hO1xuICByZXR1cm4gKF9hID0gbWVzc2FnZS5wYXJ0cykgIT0gbnVsbCA/IF9hIDogW1xuICAgIC4uLm1lc3NhZ2UudG9vbEludm9jYXRpb25zID8gbWVzc2FnZS50b29sSW52b2NhdGlvbnMubWFwKCh0b29sSW52b2NhdGlvbikgPT4gKHtcbiAgICAgIHR5cGU6IFwidG9vbC1pbnZvY2F0aW9uXCIsXG4gICAgICB0b29sSW52b2NhdGlvblxuICAgIH0pKSA6IFtdLFxuICAgIC4uLm1lc3NhZ2UucmVhc29uaW5nID8gW1xuICAgICAge1xuICAgICAgICB0eXBlOiBcInJlYXNvbmluZ1wiLFxuICAgICAgICByZWFzb25pbmc6IG1lc3NhZ2UucmVhc29uaW5nLFxuICAgICAgICBkZXRhaWxzOiBbeyB0eXBlOiBcInRleHRcIiwgdGV4dDogbWVzc2FnZS5yZWFzb25pbmcgfV1cbiAgICAgIH1cbiAgICBdIDogW10sXG4gICAgLi4ubWVzc2FnZS5jb250ZW50ID8gW3sgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IG1lc3NhZ2UuY29udGVudCB9XSA6IFtdXG4gIF07XG59XG5cbi8vIHNyYy9maWxsLW1lc3NhZ2UtcGFydHMudHNcbmZ1bmN0aW9uIGZpbGxNZXNzYWdlUGFydHMobWVzc2FnZXMpIHtcbiAgcmV0dXJuIG1lc3NhZ2VzLm1hcCgobWVzc2FnZSkgPT4gKHtcbiAgICAuLi5tZXNzYWdlLFxuICAgIHBhcnRzOiBnZXRNZXNzYWdlUGFydHMobWVzc2FnZSlcbiAgfSkpO1xufVxuXG4vLyBzcmMvaXMtZGVlcC1lcXVhbC1kYXRhLnRzXG5mdW5jdGlvbiBpc0RlZXBFcXVhbERhdGEob2JqMSwgb2JqMikge1xuICBpZiAob2JqMSA9PT0gb2JqMilcbiAgICByZXR1cm4gdHJ1ZTtcbiAgaWYgKG9iajEgPT0gbnVsbCB8fCBvYmoyID09IG51bGwpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBpZiAodHlwZW9mIG9iajEgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG9iajIgIT09IFwib2JqZWN0XCIpXG4gICAgcmV0dXJuIG9iajEgPT09IG9iajI7XG4gIGlmIChvYmoxLmNvbnN0cnVjdG9yICE9PSBvYmoyLmNvbnN0cnVjdG9yKVxuICAgIHJldHVybiBmYWxzZTtcbiAgaWYgKG9iajEgaW5zdGFuY2VvZiBEYXRlICYmIG9iajIgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgcmV0dXJuIG9iajEuZ2V0VGltZSgpID09PSBvYmoyLmdldFRpbWUoKTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShvYmoxKSkge1xuICAgIGlmIChvYmoxLmxlbmd0aCAhPT0gb2JqMi5sZW5ndGgpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmoxLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIWlzRGVlcEVxdWFsRGF0YShvYmoxW2ldLCBvYmoyW2ldKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBjb25zdCBrZXlzMSA9IE9iamVjdC5rZXlzKG9iajEpO1xuICBjb25zdCBrZXlzMiA9IE9iamVjdC5rZXlzKG9iajIpO1xuICBpZiAoa2V5czEubGVuZ3RoICE9PSBrZXlzMi5sZW5ndGgpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzMSkge1xuICAgIGlmICgha2V5czIuaW5jbHVkZXMoa2V5KSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIWlzRGVlcEVxdWFsRGF0YShvYmoxW2tleV0sIG9iajJba2V5XSkpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8vIHNyYy9wcmVwYXJlLWF0dGFjaG1lbnRzLWZvci1yZXF1ZXN0LnRzXG5hc3luYyBmdW5jdGlvbiBwcmVwYXJlQXR0YWNobWVudHNGb3JSZXF1ZXN0KGF0dGFjaG1lbnRzRnJvbU9wdGlvbnMpIHtcbiAgaWYgKCFhdHRhY2htZW50c0Zyb21PcHRpb25zKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGlmIChhdHRhY2htZW50c0Zyb21PcHRpb25zIGluc3RhbmNlb2YgRmlsZUxpc3QpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICBBcnJheS5mcm9tKGF0dGFjaG1lbnRzRnJvbU9wdGlvbnMpLm1hcChhc3luYyAoYXR0YWNobWVudCkgPT4ge1xuICAgICAgICBjb25zdCB7IG5hbWUsIHR5cGUgfSA9IGF0dGFjaG1lbnQ7XG4gICAgICAgIGNvbnN0IGRhdGFVcmwgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICByZWFkZXIub25sb2FkID0gKHJlYWRlckV2ZW50KSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICByZXNvbHZlKChfYSA9IHJlYWRlckV2ZW50LnRhcmdldCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnJlc3VsdCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICByZWFkZXIub25lcnJvciA9IChlcnJvcikgPT4gcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChhdHRhY2htZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICBjb250ZW50VHlwZTogdHlwZSxcbiAgICAgICAgICB1cmw6IGRhdGFVcmxcbiAgICAgICAgfTtcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShhdHRhY2htZW50c0Zyb21PcHRpb25zKSkge1xuICAgIHJldHVybiBhdHRhY2htZW50c0Zyb21PcHRpb25zO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXR0YWNobWVudHMgdHlwZVwiKTtcbn1cblxuLy8gc3JjL3Byb2Nlc3MtYXNzaXN0YW50LXN0cmVhbS50c1xudmFyIE5FV0xJTkUyID0gXCJcXG5cIi5jaGFyQ29kZUF0KDApO1xuZnVuY3Rpb24gY29uY2F0Q2h1bmtzMihjaHVua3MsIHRvdGFsTGVuZ3RoKSB7XG4gIGNvbnN0IGNvbmNhdGVuYXRlZENodW5rcyA9IG5ldyBVaW50OEFycmF5KHRvdGFsTGVuZ3RoKTtcbiAgbGV0IG9mZnNldCA9IDA7XG4gIGZvciAoY29uc3QgY2h1bmsgb2YgY2h1bmtzKSB7XG4gICAgY29uY2F0ZW5hdGVkQ2h1bmtzLnNldChjaHVuaywgb2Zmc2V0KTtcbiAgICBvZmZzZXQgKz0gY2h1bmsubGVuZ3RoO1xuICB9XG4gIGNodW5rcy5sZW5ndGggPSAwO1xuICByZXR1cm4gY29uY2F0ZW5hdGVkQ2h1bmtzO1xufVxuYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc0Fzc2lzdGFudFN0cmVhbSh7XG4gIHN0cmVhbSxcbiAgb25UZXh0UGFydCxcbiAgb25FcnJvclBhcnQsXG4gIG9uQXNzaXN0YW50TWVzc2FnZVBhcnQsXG4gIG9uQXNzaXN0YW50Q29udHJvbERhdGFQYXJ0LFxuICBvbkRhdGFNZXNzYWdlUGFydFxufSkge1xuICBjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XG4gIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKTtcbiAgY29uc3QgY2h1bmtzID0gW107XG4gIGxldCB0b3RhbExlbmd0aCA9IDA7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgY29uc3QgeyB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIGNodW5rcy5wdXNoKHZhbHVlKTtcbiAgICAgIHRvdGFsTGVuZ3RoICs9IHZhbHVlLmxlbmd0aDtcbiAgICAgIGlmICh2YWx1ZVt2YWx1ZS5sZW5ndGggLSAxXSAhPT0gTkVXTElORTIpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjaHVua3MubGVuZ3RoID09PSAwKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY29uc3QgY29uY2F0ZW5hdGVkQ2h1bmtzID0gY29uY2F0Q2h1bmtzMihjaHVua3MsIHRvdGFsTGVuZ3RoKTtcbiAgICB0b3RhbExlbmd0aCA9IDA7XG4gICAgY29uc3Qgc3RyZWFtUGFydHMgPSBkZWNvZGVyLmRlY29kZShjb25jYXRlbmF0ZWRDaHVua3MsIHsgc3RyZWFtOiB0cnVlIH0pLnNwbGl0KFwiXFxuXCIpLmZpbHRlcigobGluZSkgPT4gbGluZSAhPT0gXCJcIikubWFwKHBhcnNlQXNzaXN0YW50U3RyZWFtUGFydCk7XG4gICAgZm9yIChjb25zdCB7IHR5cGUsIHZhbHVlOiB2YWx1ZTIgfSBvZiBzdHJlYW1QYXJ0cykge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJ0ZXh0XCI6XG4gICAgICAgICAgYXdhaXQgKG9uVGV4dFBhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uVGV4dFBhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJlcnJvclwiOlxuICAgICAgICAgIGF3YWl0IChvbkVycm9yUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25FcnJvclBhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJhc3Npc3RhbnRfbWVzc2FnZVwiOlxuICAgICAgICAgIGF3YWl0IChvbkFzc2lzdGFudE1lc3NhZ2VQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvbkFzc2lzdGFudE1lc3NhZ2VQYXJ0KHZhbHVlMikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYXNzaXN0YW50X2NvbnRyb2xfZGF0YVwiOlxuICAgICAgICAgIGF3YWl0IChvbkFzc2lzdGFudENvbnRyb2xEYXRhUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25Bc3Npc3RhbnRDb250cm9sRGF0YVBhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJkYXRhX21lc3NhZ2VcIjpcbiAgICAgICAgICBhd2FpdCAob25EYXRhTWVzc2FnZVBhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uRGF0YU1lc3NhZ2VQYXJ0KHZhbHVlMikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgY29uc3QgZXhoYXVzdGl2ZUNoZWNrID0gdHlwZTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gc3RyZWFtIHBhcnQgdHlwZTogJHtleGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gc3JjL3NjaGVtYS50c1xuaW1wb3J0IHsgdmFsaWRhdG9yU3ltYm9sIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXItdXRpbHNcIjtcblxuLy8gc3JjL3pvZC1zY2hlbWEudHNcbmltcG9ydCB6b2RUb0pzb25TY2hlbWEgZnJvbSBcInpvZC10by1qc29uLXNjaGVtYVwiO1xuZnVuY3Rpb24gem9kU2NoZW1hKHpvZFNjaGVtYTIsIG9wdGlvbnMpIHtcbiAgdmFyIF9hO1xuICBjb25zdCB1c2VSZWZlcmVuY2VzID0gKF9hID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy51c2VSZWZlcmVuY2VzKSAhPSBudWxsID8gX2EgOiBmYWxzZTtcbiAgcmV0dXJuIGpzb25TY2hlbWEoXG4gICAgem9kVG9Kc29uU2NoZW1hKHpvZFNjaGVtYTIsIHtcbiAgICAgICRyZWZTdHJhdGVneTogdXNlUmVmZXJlbmNlcyA/IFwicm9vdFwiIDogXCJub25lXCIsXG4gICAgICB0YXJnZXQ6IFwianNvblNjaGVtYTdcIlxuICAgICAgLy8gbm90ZTogb3BlbmFpIG1vZGUgYnJlYWtzIHZhcmlvdXMgZ2VtaW5pIGNvbnZlcnNpb25zXG4gICAgfSksXG4gICAge1xuICAgICAgdmFsaWRhdGU6ICh2YWx1ZSkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB6b2RTY2hlbWEyLnNhZmVQYXJzZSh2YWx1ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQuc3VjY2VzcyA/IHsgc3VjY2VzczogdHJ1ZSwgdmFsdWU6IHJlc3VsdC5kYXRhIH0gOiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogcmVzdWx0LmVycm9yIH07XG4gICAgICB9XG4gICAgfVxuICApO1xufVxuXG4vLyBzcmMvc2NoZW1hLnRzXG52YXIgc2NoZW1hU3ltYm9sID0gU3ltYm9sLmZvcihcInZlcmNlbC5haS5zY2hlbWFcIik7XG5mdW5jdGlvbiBqc29uU2NoZW1hKGpzb25TY2hlbWEyLCB7XG4gIHZhbGlkYXRlXG59ID0ge30pIHtcbiAgcmV0dXJuIHtcbiAgICBbc2NoZW1hU3ltYm9sXTogdHJ1ZSxcbiAgICBfdHlwZTogdm9pZCAwLFxuICAgIC8vIHNob3VsZCBuZXZlciBiZSB1c2VkIGRpcmVjdGx5XG4gICAgW3ZhbGlkYXRvclN5bWJvbF06IHRydWUsXG4gICAganNvblNjaGVtYToganNvblNjaGVtYTIsXG4gICAgdmFsaWRhdGVcbiAgfTtcbn1cbmZ1bmN0aW9uIGlzU2NoZW1hKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGwgJiYgc2NoZW1hU3ltYm9sIGluIHZhbHVlICYmIHZhbHVlW3NjaGVtYVN5bWJvbF0gPT09IHRydWUgJiYgXCJqc29uU2NoZW1hXCIgaW4gdmFsdWUgJiYgXCJ2YWxpZGF0ZVwiIGluIHZhbHVlO1xufVxuZnVuY3Rpb24gYXNTY2hlbWEoc2NoZW1hKSB7XG4gIHJldHVybiBpc1NjaGVtYShzY2hlbWEpID8gc2NoZW1hIDogem9kU2NoZW1hKHNjaGVtYSk7XG59XG5cbi8vIHNyYy9zaG91bGQtcmVzdWJtaXQtbWVzc2FnZXMudHNcbmZ1bmN0aW9uIHNob3VsZFJlc3VibWl0TWVzc2FnZXMoe1xuICBvcmlnaW5hbE1heFRvb2xJbnZvY2F0aW9uU3RlcCxcbiAgb3JpZ2luYWxNZXNzYWdlQ291bnQsXG4gIG1heFN0ZXBzLFxuICBtZXNzYWdlc1xufSkge1xuICB2YXIgX2E7XG4gIGNvbnN0IGxhc3RNZXNzYWdlID0gbWVzc2FnZXNbbWVzc2FnZXMubGVuZ3RoIC0gMV07XG4gIHJldHVybiAoXG4gICAgLy8gY2hlY2sgaWYgdGhlIGZlYXR1cmUgaXMgZW5hYmxlZDpcbiAgICBtYXhTdGVwcyA+IDEgJiYgLy8gZW5zdXJlIHRoZXJlIGlzIGEgbGFzdCBtZXNzYWdlOlxuICAgIGxhc3RNZXNzYWdlICE9IG51bGwgJiYgLy8gZW5zdXJlIHdlIGFjdHVhbGx5IGhhdmUgbmV3IHN0ZXBzICh0byBwcmV2ZW50IGluZmluaXRlIGxvb3BzIGluIGNhc2Ugb2YgZXJyb3JzKTpcbiAgICAobWVzc2FnZXMubGVuZ3RoID4gb3JpZ2luYWxNZXNzYWdlQ291bnQgfHwgZXh0cmFjdE1heFRvb2xJbnZvY2F0aW9uU3RlcChsYXN0TWVzc2FnZS50b29sSW52b2NhdGlvbnMpICE9PSBvcmlnaW5hbE1heFRvb2xJbnZvY2F0aW9uU3RlcCkgJiYgLy8gY2hlY2sgdGhhdCBuZXh0IHN0ZXAgaXMgcG9zc2libGU6XG4gICAgaXNBc3Npc3RhbnRNZXNzYWdlV2l0aENvbXBsZXRlZFRvb2xDYWxscyhsYXN0TWVzc2FnZSkgJiYgLy8gY2hlY2sgdGhhdCBhc3Npc3RhbnQgaGFzIG5vdCBhbnN3ZXJlZCB5ZXQ6XG4gICAgIWlzTGFzdFRvb2xJbnZvY2F0aW9uRm9sbG93ZWRCeVRleHQobGFzdE1lc3NhZ2UpICYmIC8vIGxpbWl0IHRoZSBudW1iZXIgb2YgYXV0b21hdGljIHN0ZXBzOlxuICAgICgoX2EgPSBleHRyYWN0TWF4VG9vbEludm9jYXRpb25TdGVwKGxhc3RNZXNzYWdlLnRvb2xJbnZvY2F0aW9ucykpICE9IG51bGwgPyBfYSA6IDApIDwgbWF4U3RlcHNcbiAgKTtcbn1cbmZ1bmN0aW9uIGlzTGFzdFRvb2xJbnZvY2F0aW9uRm9sbG93ZWRCeVRleHQobWVzc2FnZSkge1xuICBsZXQgaXNMYXN0VG9vbEludm9jYXRpb25Gb2xsb3dlZEJ5VGV4dDIgPSBmYWxzZTtcbiAgbWVzc2FnZS5wYXJ0cy5mb3JFYWNoKChwYXJ0KSA9PiB7XG4gICAgaWYgKHBhcnQudHlwZSA9PT0gXCJ0ZXh0XCIpIHtcbiAgICAgIGlzTGFzdFRvb2xJbnZvY2F0aW9uRm9sbG93ZWRCeVRleHQyID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHBhcnQudHlwZSA9PT0gXCJ0b29sLWludm9jYXRpb25cIikge1xuICAgICAgaXNMYXN0VG9vbEludm9jYXRpb25Gb2xsb3dlZEJ5VGV4dDIgPSBmYWxzZTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gaXNMYXN0VG9vbEludm9jYXRpb25Gb2xsb3dlZEJ5VGV4dDI7XG59XG5mdW5jdGlvbiBpc0Fzc2lzdGFudE1lc3NhZ2VXaXRoQ29tcGxldGVkVG9vbENhbGxzKG1lc3NhZ2UpIHtcbiAgcmV0dXJuIG1lc3NhZ2Uucm9sZSA9PT0gXCJhc3Npc3RhbnRcIiAmJiBtZXNzYWdlLnBhcnRzLmZpbHRlcigocGFydCkgPT4gcGFydC50eXBlID09PSBcInRvb2wtaW52b2NhdGlvblwiKS5ldmVyeSgocGFydCkgPT4gXCJyZXN1bHRcIiBpbiBwYXJ0LnRvb2xJbnZvY2F0aW9uKTtcbn1cblxuLy8gc3JjL3VwZGF0ZS10b29sLWNhbGwtcmVzdWx0LnRzXG5mdW5jdGlvbiB1cGRhdGVUb29sQ2FsbFJlc3VsdCh7XG4gIG1lc3NhZ2VzLFxuICB0b29sQ2FsbElkLFxuICB0b29sUmVzdWx0OiByZXN1bHRcbn0pIHtcbiAgdmFyIF9hO1xuICBjb25zdCBsYXN0TWVzc2FnZSA9IG1lc3NhZ2VzW21lc3NhZ2VzLmxlbmd0aCAtIDFdO1xuICBjb25zdCBpbnZvY2F0aW9uUGFydCA9IGxhc3RNZXNzYWdlLnBhcnRzLmZpbmQoXG4gICAgKHBhcnQpID0+IHBhcnQudHlwZSA9PT0gXCJ0b29sLWludm9jYXRpb25cIiAmJiBwYXJ0LnRvb2xJbnZvY2F0aW9uLnRvb2xDYWxsSWQgPT09IHRvb2xDYWxsSWRcbiAgKTtcbiAgaWYgKGludm9jYXRpb25QYXJ0ID09IG51bGwpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgdG9vbFJlc3VsdCA9IHtcbiAgICAuLi5pbnZvY2F0aW9uUGFydC50b29sSW52b2NhdGlvbixcbiAgICBzdGF0ZTogXCJyZXN1bHRcIixcbiAgICByZXN1bHRcbiAgfTtcbiAgaW52b2NhdGlvblBhcnQudG9vbEludm9jYXRpb24gPSB0b29sUmVzdWx0O1xuICBsYXN0TWVzc2FnZS50b29sSW52b2NhdGlvbnMgPSAoX2EgPSBsYXN0TWVzc2FnZS50b29sSW52b2NhdGlvbnMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5tYXAoXG4gICAgKHRvb2xJbnZvY2F0aW9uKSA9PiB0b29sSW52b2NhdGlvbi50b29sQ2FsbElkID09PSB0b29sQ2FsbElkID8gdG9vbFJlc3VsdCA6IHRvb2xJbnZvY2F0aW9uXG4gICk7XG59XG5leHBvcnQge1xuICBhc1NjaGVtYSxcbiAgY2FsbENoYXRBcGksXG4gIGNhbGxDb21wbGV0aW9uQXBpLFxuICBleHRyYWN0TWF4VG9vbEludm9jYXRpb25TdGVwLFxuICBmaWxsTWVzc2FnZVBhcnRzLFxuICBmb3JtYXRBc3Npc3RhbnRTdHJlYW1QYXJ0LFxuICBmb3JtYXREYXRhU3RyZWFtUGFydCxcbiAgZ2VuZXJhdGVJZCxcbiAgZ2V0TWVzc2FnZVBhcnRzLFxuICBnZXRUZXh0RnJvbURhdGFVcmwsXG4gIGlzQXNzaXN0YW50TWVzc2FnZVdpdGhDb21wbGV0ZWRUb29sQ2FsbHMsXG4gIGlzRGVlcEVxdWFsRGF0YSxcbiAganNvblNjaGVtYSxcbiAgcGFyc2VBc3Npc3RhbnRTdHJlYW1QYXJ0LFxuICBwYXJzZURhdGFTdHJlYW1QYXJ0LFxuICBwYXJzZVBhcnRpYWxKc29uLFxuICBwcmVwYXJlQXR0YWNobWVudHNGb3JSZXF1ZXN0LFxuICBwcm9jZXNzQXNzaXN0YW50U3RyZWFtLFxuICBwcm9jZXNzRGF0YVN0cmVhbSxcbiAgcHJvY2Vzc1RleHRTdHJlYW0sXG4gIHNob3VsZFJlc3VibWl0TWVzc2FnZXMsXG4gIHVwZGF0ZVRvb2xDYWxsUmVzdWx0LFxuICB6b2RTY2hlbWFcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbImdlbmVyYXRlSWQiLCJ0ZXh0U3RyZWFtUGFydCIsImNvZGUiLCJuYW1lIiwicGFyc2UiLCJ2YWx1ZSIsIkVycm9yIiwidHlwZSIsImVycm9yU3RyZWFtUGFydCIsImFzc2lzdGFudE1lc3NhZ2VTdHJlYW1QYXJ0IiwiaWQiLCJyb2xlIiwiQXJyYXkiLCJpc0FycmF5IiwiY29udGVudCIsImV2ZXJ5IiwiaXRlbSIsInRleHQiLCJhc3Npc3RhbnRDb250cm9sRGF0YVN0cmVhbVBhcnQiLCJ0aHJlYWRJZCIsIm1lc3NhZ2VJZCIsImRhdGFNZXNzYWdlU3RyZWFtUGFydCIsImFzc2lzdGFudFN0cmVhbVBhcnRzIiwiYXNzaXN0YW50U3RyZWFtUGFydHNCeUNvZGUiLCJTdHJlYW1TdHJpbmdQcmVmaXhlcyIsInZhbGlkQ29kZXMiLCJtYXAiLCJwYXJ0IiwicGFyc2VBc3Npc3RhbnRTdHJlYW1QYXJ0IiwibGluZSIsImZpcnN0U2VwYXJhdG9ySW5kZXgiLCJpbmRleE9mIiwicHJlZml4Iiwic2xpY2UiLCJpbmNsdWRlcyIsInRleHRWYWx1ZSIsImpzb25WYWx1ZSIsIkpTT04iLCJmb3JtYXRBc3Npc3RhbnRTdHJlYW1QYXJ0Iiwic3RyZWFtUGFydCIsImZpbmQiLCJzdHJpbmdpZnkiLCJnZW5lcmF0ZUlkRnVuY3Rpb24iLCJjYWxjdWxhdGVMYW5ndWFnZU1vZGVsVXNhZ2UiLCJwcm9tcHRUb2tlbnMiLCJjb21wbGV0aW9uVG9rZW5zIiwidG90YWxUb2tlbnMiLCJzYWZlUGFyc2VKU09OIiwiZml4SnNvbiIsImlucHV0Iiwic3RhY2siLCJsYXN0VmFsaWRJbmRleCIsImxpdGVyYWxTdGFydCIsInByb2Nlc3NWYWx1ZVN0YXJ0IiwiY2hhciIsImkiLCJzd2FwU3RhdGUiLCJwb3AiLCJwdXNoIiwicHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUiLCJwcm9jZXNzQWZ0ZXJBcnJheVZhbHVlIiwibGVuZ3RoIiwiY3VycmVudFN0YXRlIiwicGFydGlhbExpdGVyYWwiLCJzdWJzdHJpbmciLCJzdGFydHNXaXRoIiwicmVzdWx0Iiwic3RhdGUiLCJwYXJzZVBhcnRpYWxKc29uIiwianNvblRleHQiLCJzdWNjZXNzIiwidGV4dFN0cmVhbVBhcnQyIiwiZGF0YVN0cmVhbVBhcnQiLCJlcnJvclN0cmVhbVBhcnQyIiwibWVzc2FnZUFubm90YXRpb25zU3RyZWFtUGFydCIsInRvb2xDYWxsU3RyZWFtUGFydCIsInRvb2xDYWxsSWQiLCJ0b29sTmFtZSIsImFyZ3MiLCJ0b29sUmVzdWx0U3RyZWFtUGFydCIsInRvb2xDYWxsU3RyZWFtaW5nU3RhcnRTdHJlYW1QYXJ0IiwidG9vbENhbGxEZWx0YVN0cmVhbVBhcnQiLCJhcmdzVGV4dERlbHRhIiwiZmluaXNoTWVzc2FnZVN0cmVhbVBhcnQiLCJmaW5pc2hSZWFzb24iLCJ1c2FnZSIsIk51bWJlciIsIk5hTiIsImZpbmlzaFN0ZXBTdHJlYW1QYXJ0IiwiaXNDb250aW51ZWQiLCJzdGFydFN0ZXBTdHJlYW1QYXJ0IiwicmVhc29uaW5nU3RyZWFtUGFydCIsInNvdXJjZVBhcnQiLCJyZWRhY3RlZFJlYXNvbmluZ1N0cmVhbVBhcnQiLCJkYXRhIiwicmVhc29uaW5nU2lnbmF0dXJlU3RyZWFtUGFydCIsInNpZ25hdHVyZSIsImZpbGVTdHJlYW1QYXJ0IiwibWltZVR5cGUiLCJkYXRhU3RyZWFtUGFydHMiLCJkYXRhU3RyZWFtUGFydHNCeUNvZGUiLCJPYmplY3QiLCJmcm9tRW50cmllcyIsIkRhdGFTdHJlYW1TdHJpbmdQcmVmaXhlcyIsInZhbGlkQ29kZXMyIiwicGFyc2VEYXRhU3RyZWFtUGFydCIsImZvcm1hdERhdGFTdHJlYW1QYXJ0IiwiTkVXTElORSIsImNoYXJDb2RlQXQiLCJjb25jYXRDaHVua3MiLCJjaHVua3MiLCJ0b3RhbExlbmd0aCIsImNvbmNhdGVuYXRlZENodW5rcyIsIlVpbnQ4QXJyYXkiLCJvZmZzZXQiLCJjaHVuayIsInNldCIsInByb2Nlc3NEYXRhU3RyZWFtIiwic3RyZWFtIiwib25UZXh0UGFydCIsIm9uUmVhc29uaW5nUGFydCIsIm9uUmVhc29uaW5nU2lnbmF0dXJlUGFydCIsIm9uUmVkYWN0ZWRSZWFzb25pbmdQYXJ0Iiwib25Tb3VyY2VQYXJ0Iiwib25GaWxlUGFydCIsIm9uRGF0YVBhcnQiLCJvbkVycm9yUGFydCIsIm9uVG9vbENhbGxTdHJlYW1pbmdTdGFydFBhcnQiLCJvblRvb2xDYWxsRGVsdGFQYXJ0Iiwib25Ub29sQ2FsbFBhcnQiLCJvblRvb2xSZXN1bHRQYXJ0Iiwib25NZXNzYWdlQW5ub3RhdGlvbnNQYXJ0Iiwib25GaW5pc2hNZXNzYWdlUGFydCIsIm9uRmluaXNoU3RlcFBhcnQiLCJvblN0YXJ0U3RlcFBhcnQiLCJyZWFkZXIiLCJnZXRSZWFkZXIiLCJkZWNvZGVyIiwiVGV4dERlY29kZXIiLCJyZWFkIiwic3RyZWFtUGFydHMiLCJkZWNvZGUiLCJzcGxpdCIsImZpbHRlciIsInZhbHVlMiIsImV4aGF1c3RpdmVDaGVjayIsInByb2Nlc3NDaGF0UmVzcG9uc2UiLCJ1cGRhdGUiLCJvblRvb2xDYWxsIiwib25GaW5pc2giLCJnZW5lcmF0ZUlkMiIsImdldEN1cnJlbnREYXRlIiwiRGF0ZSIsImxhc3RNZXNzYWdlIiwiX2EiLCJfYiIsInJlcGxhY2VMYXN0TWVzc2FnZSIsInN0ZXAiLCJ0b29sSW52b2NhdGlvbnMiLCJyZWR1Y2UiLCJtYXgiLCJ0b29sSW52b2NhdGlvbiIsIl9hMiIsIk1hdGgiLCJtZXNzYWdlIiwic3RydWN0dXJlZENsb25lIiwiY3JlYXRlZEF0IiwicGFydHMiLCJjdXJyZW50VGV4dFBhcnQiLCJjdXJyZW50UmVhc29uaW5nUGFydCIsImN1cnJlbnRSZWFzb25pbmdUZXh0RGV0YWlsIiwidXBkYXRlVG9vbEludm9jYXRpb25QYXJ0IiwiaW52b2NhdGlvbiIsInBhcnQyIiwibWVzc2FnZUFubm90YXRpb25zIiwiYW5ub3RhdGlvbnMiLCJwYXJ0aWFsVG9vbENhbGxzIiwiZXhlY1VwZGF0ZSIsImNvcGllZERhdGEiLCJjb3BpZWRNZXNzYWdlIiwicmV2aXNpb25JZCIsImRldGFpbHMiLCJyZWFzb25pbmciLCJzb3VyY2UiLCJpbmRleCIsInBhcnRpYWxUb29sQ2FsbCIsInBhcnRpYWxBcmdzIiwidG9vbENhbGwiLCJpbnZvY2F0aW9uMiIsInRvb2xJbnZvY2F0aW9uSW5kZXgiLCJmaW5kSW5kZXgiLCJlcnJvciIsImdlbmVyYXRlSWRGdW5jdGlvbjIiLCJwcm9jZXNzVGV4dFN0cmVhbSIsInBpcGVUaHJvdWdoIiwiVGV4dERlY29kZXJTdHJlYW0iLCJkb25lIiwicHJvY2Vzc0NoYXRUZXh0UmVzcG9uc2UiLCJ0ZXh0UGFydCIsInJlc3VsdE1lc3NhZ2UiLCJnZXRPcmlnaW5hbEZldGNoIiwiZmV0Y2giLCJjYWxsQ2hhdEFwaSIsImFwaSIsImJvZHkiLCJzdHJlYW1Qcm90b2NvbCIsImNyZWRlbnRpYWxzIiwiaGVhZGVycyIsImFib3J0Q29udHJvbGxlciIsInJlc3RvcmVNZXNzYWdlc09uRmFpbHVyZSIsIm9uUmVzcG9uc2UiLCJvblVwZGF0ZSIsImZldGNoMiIsInJlc3BvbnNlIiwibWV0aG9kIiwic2lnbmFsIiwiY2F0Y2giLCJlcnIiLCJvayIsImdldE9yaWdpbmFsRmV0Y2gyIiwiY2FsbENvbXBsZXRpb25BcGkiLCJwcm9tcHQiLCJzZXRDb21wbGV0aW9uIiwic2V0TG9hZGluZyIsInNldEVycm9yIiwic2V0QWJvcnRDb250cm9sbGVyIiwib25FcnJvciIsIm9uRGF0YSIsIkFib3J0Q29udHJvbGxlciIsImdldFRleHRGcm9tRGF0YVVybCIsImRhdGFVcmwiLCJoZWFkZXIiLCJiYXNlNjRDb250ZW50Iiwid2luZG93IiwiYXRvYiIsImV4dHJhY3RNYXhUb29sSW52b2NhdGlvblN0ZXAiLCJnZXRNZXNzYWdlUGFydHMiLCJmaWxsTWVzc2FnZVBhcnRzIiwibWVzc2FnZXMiLCJpc0RlZXBFcXVhbERhdGEiLCJvYmoxIiwib2JqMiIsImNvbnN0cnVjdG9yIiwiZ2V0VGltZSIsImtleXMxIiwia2V5cyIsImtleXMyIiwia2V5IiwicHJlcGFyZUF0dGFjaG1lbnRzRm9yUmVxdWVzdCIsImF0dGFjaG1lbnRzRnJvbU9wdGlvbnMiLCJGaWxlTGlzdCIsIlByb21pc2UiLCJhbGwiLCJmcm9tIiwiYXR0YWNobWVudCIsInJlc29sdmUiLCJyZWplY3QiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwicmVhZGVyRXZlbnQiLCJ0YXJnZXQiLCJvbmVycm9yIiwicmVhZEFzRGF0YVVSTCIsImNvbnRlbnRUeXBlIiwidXJsIiwiTkVXTElORTIiLCJjb25jYXRDaHVua3MyIiwicHJvY2Vzc0Fzc2lzdGFudFN0cmVhbSIsIm9uQXNzaXN0YW50TWVzc2FnZVBhcnQiLCJvbkFzc2lzdGFudENvbnRyb2xEYXRhUGFydCIsIm9uRGF0YU1lc3NhZ2VQYXJ0IiwidmFsaWRhdG9yU3ltYm9sIiwiem9kVG9Kc29uU2NoZW1hIiwiem9kU2NoZW1hIiwiem9kU2NoZW1hMiIsIm9wdGlvbnMiLCJ1c2VSZWZlcmVuY2VzIiwianNvblNjaGVtYSIsIiRyZWZTdHJhdGVneSIsInZhbGlkYXRlIiwic2FmZVBhcnNlIiwic2NoZW1hU3ltYm9sIiwiU3ltYm9sIiwiZm9yIiwianNvblNjaGVtYTIiLCJfdHlwZSIsImlzU2NoZW1hIiwiYXNTY2hlbWEiLCJzY2hlbWEiLCJzaG91bGRSZXN1Ym1pdE1lc3NhZ2VzIiwib3JpZ2luYWxNYXhUb29sSW52b2NhdGlvblN0ZXAiLCJvcmlnaW5hbE1lc3NhZ2VDb3VudCIsIm1heFN0ZXBzIiwiaXNBc3Npc3RhbnRNZXNzYWdlV2l0aENvbXBsZXRlZFRvb2xDYWxscyIsImlzTGFzdFRvb2xJbnZvY2F0aW9uRm9sbG93ZWRCeVRleHQiLCJpc0xhc3RUb29sSW52b2NhdGlvbkZvbGxvd2VkQnlUZXh0MiIsImZvckVhY2giLCJ1cGRhdGVUb29sQ2FsbFJlc3VsdCIsInRvb2xSZXN1bHQiLCJpbnZvY2F0aW9uUGFydCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@ai-sdk/ui-utils/dist/index.mjs\n");

/***/ })

};
;